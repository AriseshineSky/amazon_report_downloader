(function(n){var l=window.AmazonUIPageJS||window.P,h=l._namespace||l.attributeErrors,g=h?h("SellerPartnerAthenaUIMinimalAssets",""):l;g.guardFatal?g.guardFatal(n)(g,window):g.execute(function(){n(g,window)})})(function(n,l,h){ASPP.register("spaui-browser-support",function(){return{placeholderIsSupported:function(){return"placeholder"in document.createElement("input")},definePropertyIsSupported:function(){var g={};try{return Object.defineProperty(g,"key",{value:"static"}),"static"===g.key}catch(f){return!1}}}});
ASPP.when("ASPA").register("spaui-events",function(g){var f={initialized:"initialized",initializedWithoutSummon:"initializedWithoutSummon",triggerSummon:"triggerSummon",triggerContactUs:"triggerContactUs",summon:"summon",dismissed:"dismissed",newPage:"newPage",newContentOnPage:"newContentOnPage",leavingPage:"leavingPage",pushNotificationOpened:"pushNotificationOpened",pushNotificationClosed:"pushNotificationClosed",pushNotificationMinimize:"pushNotificationMinimize",alertsLoaded:"alertsLoaded",goHome:"goHome",
featuresChanged:"featuresChanged",notificationListUpdated:"notificationListUpdated",notificationFetchComplete:"notificationFetchComplete",selfServiceCardUsed:"selfServiceCardUsed",topIssueInteracted:"topIssueInteracted",selfServiceLinkInteracted:"selfServiceLinkInteracted",inlineQuickActionClicked:"inlineQuickActionClicked",helpHMDLoaded:"helpHMDLoaded",directAnswerInteracted:"directAnswerInteracted",directAnswerLinkClicked:"directAnswerLinkClicked",directAnswerLoaded:"directAnswerLoaded",directAnswerFailedToLoad:"directAnswerFailedToLoad",
helpArticleInteracted:"helpArticleInteracted",categoryLinkClicked:"categoryLinkClicked",helpHubShowDirectAnswer:"helpHubShowDirectAnswer",helpHubShowHelpArticle:"helpHubShowHelpArticle",helpHubShowSearch:"helpHubShowSearch",feedbackSubmitted:"feedbackSubmitted",componentLoaded:"componentLoaded"},b={init:function(){},getName:function(a){if(f[a])return f[a];throw"Name '"+a+"' not supported in EVENTS module";},resolveAuiName:function(a){return"spaui:"+a},resolveAsyncName:function(a,c){return"async"+
a+":"+c},subscribe:function(a,c){g.on(b.resolveAuiName(a),c)},subscribeOnce:function(a,c){b.subscribe(a,function e(){c.apply(this,arguments);b.unsubscribe(a,e)})},unsubscribe:function(a,c){g.off(b.resolveAuiName(a),c)},publish:function(a,c){g.trigger(b.resolveAuiName(a),c)},subscribeAsyncModuleEvent:function(a,c,d){b.subscribe(b.resolveAsyncName(c,a),d)},publishAsyncModuleEvent:function(a,c,d){b.publish(b.resolveAsyncName(c,a),d);b.publish(b.resolveAsyncName(c,":all"),d)},subscribeToAllAsyncModuleEvents:function(a,
c){b.subscribeAsyncModuleEvent(":all",a,c)}};return{init:b.init,getName:b.getName,subscribe:b.subscribe,subscribeOnce:b.subscribeOnce,unsubscribe:b.unsubscribe,publish:b.publish,subscribeAsyncModuleEvent:b.subscribeAsyncModuleEvent,subscribeToAllAsyncModuleEvents:b.subscribeToAllAsyncModuleEvents,publishAsyncModuleEvent:b.publishAsyncModuleEvent}});ASPP.when("ASPA","spaui-util","spaui-shim-initialized").register("spaui-metrics",function(g,f){var b={data:null,client:null,metricsBinding:{},DROPPED_METRIC:"droppedMetric",
MAXIMUM_SIZE:64,METRIC_FAILURE:"metricFailure",FIRST_REQUEST_FAILED:"firstRequestFailed",ALL_RETRIES_FAILED:"allRetriesFailed",MAX_RETRIES:3,RETRY_DELAY:300,endpoint:{protocol:"https://",host:"fls-na.amazon.com",path:"/1/action-impressions/1/OP/sp-athena/action/athena:",pathHmd:"/1/action-impressions/1/OP/sp-athena/action/help_hmd:",params:"",requestId:0},embedded:!1,map:{context:{alert:"alert",alertShinyObject:"alertShinyObject",allAlerts:"allAlerts",async:"async",autoSummonParam:"autoSummonParam",
autoSummonHelpParam:"autoSummonHelpParam",breadcrumb:"breadcrumb",browseForums:"browseForums",content:"content",getSupportCardItem:"getSupportCardItem",directAnswer:"direct-answer",eciNotification:"eciNotification",externalClient:"exClient",externalApi:"externalApi",externalTrigger:"externalTrigger",urlTrigger:"urlTrigger",featured:"featured",featuredThreads:"featuredThreads",footer:"footer",globalSearch:"globalSearch",groupedAlert:"groupedAlert",header:"header",helpHmd:"helpHmd",navBack:"navBack",
navFeedback:"navFeedback",navHome:"navHome",navSearch:"navSearch",noHelpResults:"noHelpResults",noResults:"noResults",notificationCard:"notificationCard",notificationCardCategory:"notificationCardCat",predictive:"predictive",preload:"preload",previewFeedback:"previewFeedback",previewGetAnswers:"previewGetAnswers",previewAnywhere:"previewAnywhere",pushNotification:"pushNotification",results:"results",rating:"rating",rightClick:"rightClick",scFooter:"scFooter",searchSuggestions:"search-suggestions",
session:"session",suggestedForums:"suggestedForums",tools:"tools",topIssues:"topIssues",trigger:"trigger",selfServiceCard:"selfServiceCard",directAnswerCard:"directAnswerCard"},place:{alerts:"alerts",async:"async",browse:"browse",caseLog:"caseLog",chat:"chat",contact:"contact",getSupportCard:"getSupportCard",globalNav:"globalNav",info:"info",external:"external",feedback:"feedback",forums:"forums",search:"search",searchMore:"searchMore",workflow:"workflow",topic:{id:null,text:"topic"},refresh:"refresh",
fileDownload:"fileDownload",mailtoLink:"mailtoLink",retailLink:"retailLink",amazonPayLink:"amazonPayLink",popPage:"popPage",previewCard:"previewCard",launchGenericPage:"launch-genericPage",launchNoSearchResults:"launch-noSearchResults",loadPushNotification:"loadPushNotification",dismissPushNotification:"dismissPushNotification",openPushNotification:"openPushNotification",setAlertRead:"setAlertRead",setAlertAbort:"setAlertAbort",setFeaturedContentAndPredictiveHelp:"setFeaturedContentAndPredictiveHelp",
setForumsVisible:"setForumsVisible",setForumsVisibleViaConfig:"setForumsVisibleViaConfig",setForumsHidden:"setForumsHidden",setContactUsFooter:"setContactUsFooter",setLaunchContactUs:"setLaunchContactUs",disabledGetSupportClick:"disabledGetSupportClick",setLinkCopyOpen:"setLinkCopyOpen",setLinkCopyClosed:"setLinkCopyClosed",searchRedirect:"searchRedirect",searchErrorClient:"search-error-client",setAthenaSummoned:"setAthenaSummoned",setAthenaBanished:"setAthenaBanished",setContactUsHelpHub1GetSupport:"setContactUsHelpHub1GetSupport",
setContactUsHelpHub1:"setContactUsHelpHub1",setAhOpen:"setAhOpen-",setAhClose:"setAhClose-",setFbRate:"setFbRate",setFbClear:"setFbClear",setFbSend:"setFbSend",setPhAdopt:"setPhAdopt",setPhOpen:"setPhOpen",setPhClose:"setPhClose",setPhDismiss:"setPhDismiss",setPhYes:"setPhYes",setPhNo:"setPhNo",setSizeActive:"",setSizeLarge:"setSizeLarge",setSizeSmall:"setSizeSmall",alertDiscovered:"alertDiscovered",alertMassDiscovered:"alertMassDiscovered",alertMassRead:"alertMassRead",alertSuppressed:"alertSuppressed",
minimized:"minimized",noAlertToShow:"noAlertToShow",groupedAlertInnerDiscover:"groupedAlertInnerDiscover",notificationCard:"notificationCard",notificationsCount:"notificationsCount",notificationCardDiscoverd:"notificationCardDiscoverd",notificationCardCategory:"notificationCardCat",notificationCategoryDiscovered:"notificationCatDiscovered",selfServiceCard:"selfServiceCard",selfServiceCardDiscovered:"selfServiceCardDiscovered",selfServiceLinkClicked:"selfServiceLinkClicked",selfServiceCardQADirectAnswer:"selfServiceCardQADirectAnswer",
directAnswerCard:"DACard",directAnswerCardDiscovered:"DACardDiscovered",directAnswerCardError:"DACardError",fallbackToTopic:"fallbackToTopic"},action:{unhandledLink:"unhandledLink"}},ADDITIONAL_METADATA:"\x26additionalMetadata\x3d"},a={init:function(c,d){b.client=c.client;b.endpoint.host=c.host;c.hasOwnProperty("path")&&""!==c.path&&(b.endpoint.path=c.path);b.data=g.state("spaui-state");b.data||(b.data={},g.state.bind("spaui-state",function(c){b.data=c;a.initDataObj()}));b.embedded=d;a.initDataObj()},
initDataObj:function(){var a="",d;for(d in b.data)b.data.hasOwnProperty(d)&&(a+="\x26"+d+"\x3d"+b.data[d]);b.endpoint.params=a},send:function(c,d,e){a.sendMetric(c,d,e,function(c,d,e,g){e=f.getErrorDetailsFromAjaxResponse(e,g);a.sendMetricFailure(b.FIRST_REQUEST_FAILED,d,e);a.sendRetry(c,d,0)})},sendMetric:function(c,d,e,m){if(b.data){d=b.endpoint.protocol+b.endpoint.host+(d===h?b.endpoint.path:d);var k=c.client?c.client:b.client,f=b.endpoint.params+"\x26requestId\x3d"+b.data.parentRequestId+"_"+
b.endpoint.requestId+"\x26client\x3d"+k;a.encodeAdditionalObj(c);a.encodePayloadObj(c);(c.isError||c.isPlatformError)&&c.errorDetails&&(c.additional=a.appendToAdditional(c.additional,"errorType",c.errorDetails.type),c.additional=a.appendToAdditional(c.additional,"errorJqueryStatus",c.errorDetails.jqueryStatus),c.additional=a.appendToAdditional(c.additional,"errorHttpStatus",c.errorDetails.httpStatus),c.additional=a.appendToAdditional(c.additional,"errorReadyState",c.errorDetails.readyState));c.isError?
c.to="error-"+c.to:c.isPlatformError&&(c.to="error-platform-"+c.to);b.embedded&&(c.additional=a.appendToAdditional(c.additional,"embedded",!0));a.sendMetricToSPL(k,c);k=[c.from,c.where,c.to].join("_");a.oversized(k)&&a.sendDroppedMetric(k,c);f+=c.additional?c.additional:"";f+=c.payload?c.payload:"";d=d+k+"?"+f;g.$.isFunction(m)&&(m=g.$.proxy(m,null,d,k));d={url:d};c.timeout&&(d.timeout=c.timeout);c=g.$.ajax(d).always(function(){e!==h&&g.$.isFunction(e)&&e()});g.$.isFunction(m)&&c.fail(m)}b.endpoint.requestId++},
sendMetricToSPL:function(a,d){if(l.spl){b.metricsBinding[a]===h&&(b.metricsBinding[a]=spl.newScopedMetricsFactory(a));var e=b.metricsBinding[a].newMetrics().from(d.from).where(d.where).to(d.to).type("Information");d.additional&&decodeURIComponent(d.additional).replace(b.ADDITIONAL_METADATA,"").split("|").forEach(function(a){a=a.split(":");2===a.length&&e.additional(a[0],a[1])});e.publish()}},sendRetry:function(c,d,e){e<b.MAX_RETRIES?setTimeout(function(){g.$.ajax({url:c,timeout:b.TIMEOUT}).fail(function(){a.sendRetry(c,
d,e+1)})},b.RETRY_DELAY):a.sendMetricFailure(b.ALL_RETRIES_FAILED,d)},sendHmd:function(c,d){a.send(c,b.endpoint.pathHmd,d)},oversized:function(a){return a.length>=b.MAXIMUM_SIZE},sendDroppedMetric:function(c){a.sendMetric({from:b.DROPPED_METRIC,where:b.DROPPED_METRIC,to:b.DROPPED_METRIC,additionalObj:{attempted:c}})},sendMetricFailure:function(c,d,e){c={from:b.METRIC_FAILURE,where:b.METRIC_FAILURE,to:c,additionalObj:{attempted:d}};e!==h&&(c.errorDetails=e);a.sendMetric(c)},encodeAdditionalObj:function(a){if(a.additionalObj){var d=
[];Object.keys(a.additionalObj).forEach(function(b){d.push(b+":"+a.additionalObj[b])});a.additional=b.ADDITIONAL_METADATA+encodeURIComponent(d.join("|"))}},encodePayloadObj:function(a){a.payloadObj&&(a.payload=f.formatObjectAsUrlParams(a.payloadObj,!0))},appendToAdditional:function(a,d,e){if(f.isNull(e))return a;d=d+":"+e;return a=f.isEmpty(a)?b.ADDITIONAL_METADATA+d:a+("|"+d)},validate:function(c){if(c)try{a.validOrThrownForEventPart(c,"from");a.validOrThrownForEventPart(c,"where");a.validOrThrownForEventPart(c,
"to");if(!b.client&&!c.client)throw"must include 'client' in core metrics object if not configured";if(c.additionalObj&&!g.$.isPlainObject(c.additionalObj))throw"METRICS.validate failed, additionalObj must be an object if set";return!0}catch(d){throw d;}else throw"METRICS.validate failed, tracking is empty";},validOrThrownForEventPart:function(a,d){if(a[d]){if(-1!==a[d].indexOf("_"))throw"Failed to validate field '"+d+"' it should not contain underscores (_)";}else throw"Failed to validate field '"+
d+"' it was empty";},sanitizeEventPart:function(a){return a.split("_").join("-")},overrideConfig:function(a){b=g.$.extend({},b,a)},returnRequestId:function(){return b.endpoint.requestId},returnParentRequestId:function(){return b.data.parentRequestId},returnSession:function(){return b.data.session},returnIsSpoofer:function(){return b.data.isSpoofer},returnRegionId:function(){return b.data.regionId},returnAllData:function(){return b.data},returnAllParams:function(){return b.endpoint.params},returnNextChildRequestId:function(){var a=
b.data.parentRequestId+"_"+b.endpoint.requestId;b.endpoint.requestId++;return a},returnAction:function(a){return b.map.action[a]},returnPlace:function(a){return b.map.place[a]},returnContext:function(a){return b.map.context[a]},setSizeActive:function(a){b.map.place.setSizeActive=a},returnTopic:function(){return b.map.place.topic.text},returnTopicID:function(){return b.map.place.topic.id},getExternalContext:function(c){return a.returnContext("externalClient")+"-"+c}};return{init:a.init,send:a.send,
sendHmd:a.sendHmd,validate:a.validate,sanitizeEventPart:a.sanitizeEventPart,overrideConfig:a.overrideConfig,getSession:a.returnSession,getSpoofer:a.returnIsSpoofer,getRegionId:a.returnRegionId,getData:a.returnAllData,getParams:a.returnAllParams,getRequestId:a.returnRequestId,getParentRequestId:a.returnParentRequestId,incrementChildRequestId:a.returnNextChildRequestId,getAction:a.returnAction,getPlace:a.returnPlace,getContext:a.returnContext,setSizeActive:a.setSizeActive,getTopic:a.returnTopic,getTopicID:a.returnTopicID,
getExternalContext:a.getExternalContext}});(function(){ASPP.when("ASPA","spaui-window-ref","spaui-shim-initialized","spaui-metric-init").register("spaui-minimal-api",function(g,f){var b=f.get();return{LOAD_QUEUE:"_sellerPartnerAthenaMinimalLoadQueue",LOADED:"_sellerPartnerAthenaMinimalLoaded",triggerLoad:function(){var a=b._sellerPartnerAthenaMinimalLoadQueue,c=b._sellerPartnerAthenaMinimalLoaded;b._sellerPartnerAthenaMinimalLoaded=!0;if(a&&!c)for(var d in a)if(a.hasOwnProperty(d)&&g.$.isFunction(a[d]))a[d]()}}})})();
ASPP.when("spaui-metrics","spaui-util","spaui-write-through-storage").register("spaui-session",function(g,f,b){var a={storage:localStorage,JSON:JSON,numOfSearchesToTrack:3,MAX_ATHENA_SIZE:51200},c={article:{topicID:null,link:null},closeAffordance:{show:!0},pinned:{is:!1},preview:{show:!0},size:{large:!1},lastSearches:[],dismissed:!1,timeSellerViewingArticle:null,persistentDA:null},d=new b(null,c),e={init:function(e){var f=null;g.getSession()&&(f=g.getSession());d=new b(f,c,e?"spaui-embed":"spaui",
a.storage,a.MAX_ATHENA_SIZE,a.JSON);"undefined"!==typeof a.JSON&&"undefined"!==typeof a.storage||g.send({from:"sessionInit",to:"localStorage",where:"info",additional:"\x26additionalMetadata\x3dno-session-storage-support"})},updateCfgData:function(a){d.initialize(a)},returnTopicID:function(){return d.get("article.topicID")},returnTopicURL:function(){return d.get("article.link")},isLargeSize:function(){return d.get("size.large")},returnPinned:function(){return d.get("pinned.is")},returnPreview:function(){return d.get("preview.show")},
setPreview:function(a){d.set("preview.show",a)},setPinned:function(a){d.set("pinned.is",a)},setTopicID:function(a){d.set("article.topicID",a)},setTopicURL:function(a){d.set("article.link",a)},returnCloseAffordance:function(){return d.get("closeAffordance.show")},setCloseAffordance:function(a){d.set("closeAffordance.show",a)},setIsLarge:function(a){d.set("size.large",a)},setTopic:function(a){e.setTopicID(a);e.setTopicURL(a)},getLastSearches:function(){return d.get("lastSearches")},getWasDismissed:function(){return d.get("dismissed")},
setWasDismissed:function(a){d.set("dismissed",a)},getTimeSellerViewingArticle:function(){return d.get("timeSellerViewingArticle")},setTimeSellerViewingArticle:function(a){d.set("timeSellerViewingArticle",a)},revertSellerToInfoCard:function(){e.setTopic(null)},storeSearchQuery:function(c){var b=e.getLastSearches();b.unshift(c);b=f.getUniqueArray(b);b.splice(a.numOfSearchesToTrack,b.length);d.set("lastSearches",b)},storePersistentDA:function(a){if(!d.set("persistentDA",a))throw e.clearPersistentDA(),
"Storage Space Exceeded or Not Available.";},getPersistentDA:function(){return d.get("persistentDA")},getSpauiChatId:function(){return d.get("spauiChatId")},setSpauiChatId:function(a){d.set("spauiChatId",a)},clearSpauiChatId:function(){d.set("spauiChatId",h)},clearPersistentDA:function(){d.set("persistentDA",null)},setGeneric:function(a,c){d.set(a,c)},getGeneric:function(a,c){return d.get(a,c)},mockConfig:function(c){Object.keys(c).forEach(function(d){a[d]=c[d]});e.init()}};return{setTopic:e.setTopic,
setCloseAffordance:e.setCloseAffordance,getCloseAffordance:e.returnCloseAffordance,setTopicID:e.setTopicID,setIsLarge:e.setIsLarge,setTopicURL:e.setTopicURL,setPinned:e.setPinned,setPreview:e.setPreview,getPreview:e.returnPreview,getPinned:e.returnPinned,isLargeSize:e.isLargeSize,getTopicID:e.returnTopicID,getTopicURL:e.returnTopicURL,getLastSearches:e.getLastSearches,getWasDismissed:e.getWasDismissed,setWasDismissed:e.setWasDismissed,getTimeSellerViewingArticle:e.getTimeSellerViewingArticle,setTimeSellerViewingArticle:e.setTimeSellerViewingArticle,
getSpauiChatId:e.getSpauiChatId,setSpauiChatId:e.setSpauiChatId,clearSpauiChatId:e.clearSpauiChatId,revertSellerToInfoCard:e.revertSellerToInfoCard,storeSearchQuery:e.storeSearchQuery,storePersistentDA:e.storePersistentDA,getPersistentDA:e.getPersistentDA,clearPersistentDA:e.clearPersistentDA,updateCfgData:e.updateCfgData,mockConfig:e.mockConfig,init:e.init,setGeneric:e.setGeneric,getGeneric:e.getGeneric}});ASPP.when("spaui-browser-support").register("spaui-shim",function(g){var f=!1,b={init:function(){g.definePropertyIsSupported()&&
(b.objectKeys(),b.objectEntries(),b.trim(),b.endsWith(),b.arrayIndexOf(),b.foreach(),b.filter(),b.include(),b.map(),b.bind(),b.assign(),b.isArray());f||ASPP.register("spaui-shim-initialized",function(){});f=!0},objectKeys:function(){Object.keys||(Object.keys=function(a){var c=[],d;for(d in a)a.hasOwnProperty(d)&&c.push(d);return c})},objectEntries:function(){Object.entries||(Object.entries=function(a){for(var c=Object.keys(a),d=c.length,b=Array(d);d--;)b[d]=[c[d],a[c[d]]];return b})},trim:function(){"function"!==
typeof String.prototype.trim&&Object.defineProperty(String.prototype,"trim",{value:function(){return this.replace(/^\s+|\s+$/g,"")}})},endsWith:function(){String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(a,c){var d=this.toString();if("number"!==typeof c||!isFinite(c)||Math.floor(c)!==c||c>d.length)c=d.length;c-=a.length;a=d.indexOf(a,c);return-1!==a&&a===c}})},arrayIndexOf:function(){Array.prototype.indexOf||Object.defineProperty(Array.prototype,"indexOf",
{value:function(a,c){if(null===this||this===h)throw new TypeError('"this" is null or not defined');var d=Object(this),b=Math.abs(d.length);if(0===b)return-1;c=+c||0;Infinity===Math.abs(c)&&(c=0);if(c>=b)return-1;for(c=Math.max(0<=c?c:b-Math.abs(c),0);c<b;){if(c in d&&d[c]===a)return c;c++}return-1}})},foreach:function(){Array.prototype.forEach||Object.defineProperty(Array.prototype,"forEach",{value:function(a,c){var d,b;if(null===this)throw new TypeError(" this is null or not defined");var m=Object(this),
g=m.length>>>0;if("function"!==typeof a)throw new TypeError(a+" is not a function");1<arguments.length&&(d=c);for(b=0;b<g;){var f;b in m&&(f=m[b],a.call(d,f,b,m));b++}}})},filter:function(){Array.prototype.filter||Object.defineProperty(Array.prototype,"filter",{value:function(a){if(void 0===this||null===this)throw new TypeError;var c=Object(this),d=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var b=[],g=2<=arguments.length?arguments[1]:void 0,f=0;f<d;f++)if(f in c){var h=c[f];a.call(g,
h,f,c)&&b.push(h)}return b}})},include:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(a,c){var d=Object(this),b=parseInt(d.length,10)||0;if(0===b)return!1;c=parseInt(c,10)||0;0<=c||(c=b+c,0>c&&(c=0));for(var f;c<b;){f=d[c];if(a===f||a!==a&&f!==f)return!0;c++}return!1}})},map:function(){Array.prototype.map||Object.defineProperty(Array.prototype,"map",{value:function(a,c){var b,e,f;if(null===this)throw new TypeError(" this is null or not defined");
var g=Object(this),h=g.length>>>0;if("function"!==typeof a)throw new TypeError(a+" is not a function");1<arguments.length&&(b=c);e=Array(h);for(f=0;f<h;){var l;f in g&&(l=g[f],l=a.call(b,l,f,g),e[f]=l);f++}return e}})},bind:function(){Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value:function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),b=this,e=
function(){},f=function(){return b.apply(this instanceof e?this:a,c.concat(Array.prototype.slice.call(arguments)))};this.prototype&&(e.prototype=this.prototype);f.prototype=new e;return f}})},assign:function(){"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(a){if(null===a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),b=1;b<arguments.length;b++){var e=arguments[b];if(null!==e)for(var f in e)Object.prototype.hasOwnProperty.call(e,
f)&&(c[f]=e[f])}return c},writable:!0,configurable:!0})},isArray:function(){Array.isArray||Object.defineProperty(Array,"isArray",{value:function(a){return"[object Array]"===Object.prototype.toString.call(a)}})}};b.init();return{init:b.init}});(function(){ASPP.when("spaui-minimal-api").register("spaui-minimal-init",function(g){return{init:function(){g.triggerLoad()}}})})();ASPP.when("ASPA","spaui-shim-initialized").register("spaui-util",function(g){var f=null,b={init:function(a){f=a},textareaFocusPlaceholderFix:function(a){a.attr("placeholder")===
a.val()&&a.val("")},returnTopicIDFromLocation:function(){return b.returnTopicIDFromLink(f.location.href)},returnTopicIDFromLink:function(a){var c,b=/\/help\/(G?(?:[A-Z0-9]{15}|\d+))(?:\/.*|\?.*|#.*|$)/;a.match(b)&&a.match(b)[1]&&(c=a.match(b)[1]);var b=/^(G?(?:[A-Z0-9]{15}|\d+)).*/,e=a.split(/[?&]+/),f=e.length;for(a=0;a<f;a++){var g=e[a].split("\x3d");"itemID"===g[0]&&(g=g[1].match(b),null!==g&&(c=g[1]))}return c},updateScrollTop:function(a,c){g.$("#spaui").find("#spaui-content").scrollTop(a.position().top-
c)},isOnArticle:function(){var a=!1,c=f.location.href,b=/\/help\/([\d]+)/;c.match(b)&&c.match(b)[1]&&(a=!0);for(var b=c.split(/[?&]+/),e=b.length,c=0;c<e;c++)"itemID"===b[c].split("\x3d")[0]&&(a=!0);return a},exposejQuery:function(){"function"!==typeof f.$&&(f.$=g.$)},gdaFromClassList:function(a,c){var d,e="data-"+c+"-";try{a.forEach(function(a){b.startsWith(a,e)&&(d=a.substring(e.length))})}catch(f){}return d},getClassList:function(a){if(b.isNotNull(a)&&b.isNotNull(g.$(a).attr("class")))return g.$(a).attr("class").split(/\s+/)},
gda:function(a,c){var d;d=a.attr?a.attr("data-"+c):a.data?a.data(c):a.dataset?a.dataset[c]:a.getAttribute("data-"+c);b.isNull(d)&&(a=b.getClassList(a),d=b.gdaFromClassList(a,c));return d},gdaWithAttrAlias:function(a,c,d){c=b.gda(a,c);b.isEmpty(c)&&(c=a.attr(d));return c},gebi:function(a){return document.getElementById(a)},delayInit:function(){var a=0;return function(c,b){clearTimeout(a);a=setTimeout(c,b)}},startsWith:function(a,c){var b=!1;a.substr(0,c.length)===c&&(b=!0);return b},contains:function(a,
c){if("string"===typeof a){if(c instanceof RegExp)return c.test(a);if(-1!==a.indexOf(c))return!0}return!1},handleSigninRedirect:function(a){return 403===a?(f.location.reload(),!0):!1},openInNewWindow:function(a){f.open(a,"_blank").focus()},redirect:function(a){f.location=a},getUniqueArray:function(a){for(var c={},b=[],e=0,f=a.length;e<f;++e)c.hasOwnProperty(a[e])||(b.push(a[e]),c[a[e]]=1);return b},isString:function(a){return"string"===typeof a||a instanceof String},isNumber:function(a){return!isNaN(a-
0)&&null!==a&&""!==a&&!1!==a},isNull:function(a){return null===a||a===h},isEmpty:function(a){return b.isNull(a)||""===a},isNotNull:function(a){return!b.isNull(a)},formatObjectAsUrlParams:function(a,c){if(g.$.isPlainObject(a)){var b=[];Object.keys(a).forEach(function(e){var f=a[e];!0===f?f="true":!1===f&&(f="false");c&&(f=encodeURIComponent(f));b.push(e+"\x3d"+f)});return 0<b.length?"\x26"+b.join("\x26"):""}return null},getErrorDetailsFromAjaxResponse:function(a,c){var b="none";"error"===c?b=0===a.status&&
0===a.readyState?"abort":500===a.status?"server-error":"unknown-error":"abort"===c&&(b="abort");return{type:b,jqueryStatus:c,httpStatus:a.status,readyState:a.readyState}},getUid:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},truncateString:function(a,c,d){d===h&&(d="");if(a===h||!b.isString(a)||!b.isString(d)||!b.isNumber(c))return"";c===h&&(c=100);return a.length>c?a.substr(0,c-d.length)+d:a},truncateClientInputLimit64:function(a){return b.isEmpty(a)?
a:b.truncateString(a,64)},isParamPresent:function(a){return-1!==f.location.search.indexOf(a)},forEachObjectValue:function(a,c){for(var b in a)a.hasOwnProperty(b)&&c(a[b])},getObjectValues:function(a){var c=[],b;for(b in a)a.hasOwnProperty(b)&&c.push(a[b]);return c},getElementRightOffset:function(a){var c=a.offset();return null===c?0:document.body.clientWidth-c.left-a.width()},ensureId:function(a){if(0!==a.length&&a instanceof g.$){var c=a.attr("id");""!==c&&c!==h||a.attr("id",b.getUid())}},resetJqueryAnimation:function(a){0!==
a.length&&a instanceof g.$&&(a.css("height",""),a.css("margin-top",""),a.css("margin-bottom",""),a.css("padding-top",""),a.css("padding-bottom",""),a.css("overflow",""))},isHashOnCurrentPage:function(a){var c=b.removeHashFromUrl(b.escape(f.location.href));return(new RegExp(c+"#.*$")).test(a)},escape:function(a){return a.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26")},removeHashFromUrl:function(a){return a.split("#")[0]},isHtmlElement:function(a){return"object"===typeof HTMLElement?a instanceof HTMLElement:
!1},isSellerULink:function(a){return"201047930"===a},executeIf:function(a,c){return function(b){if(g.$.isFunction(a)&&a(b)||!g.$.isFunction(a)&&a)return c(b)}},executeIfElse:function(a,c,b){return function(e){return g.$.isFunction(a)&&a(e)||!g.$.isFunction(a)&&a?c(e):b(e)}},getPathArguments:function(a){var c={};a=a&&a.split("?");if(!a||2<a.length)return c;(a[1]?a[1].split("\x26"):[]).forEach(function(a){a=a.split("\x3d");c[a[0]]=2>a.length?"":a[1]});return c},getContactUsFooterLink:function(){return g.$(".sc-footer, #sc_footer").find('a[href*\x3d"contact-"]').filter(function(){var a=
g.$(this).attr("href");return 0>a.indexOf("?")||a.indexOf("contact-")<a.indexOf("?")})},toggleClassOnCond:function(a,c,b){var e=a.hasClass(c);b&&!e?a.addClass(c):!b&&e&&a.removeClass(c)},stringToBool:function(a){return"true"===(a+"").toLowerCase()},selectorToClass:function(a){return 0===a.indexOf(".")?a.substring(1):a},formEncode:function(a){return encodeURIComponent(a).replace(/%20/g,"+")},hasTemplate:function(a){return null!==b.gebi("spaui-template-"+a)},stripHtmlTags:function(a){var c=/<(?:!--(?:(?:-*[^->])*--+|-?)|script\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/script\s*|style\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/style\s*|\/?[a-z](?:[^"'>]|"[^"]*"|'[^']*')*)>/gi,
b;do b=a,a=a.replace(c,"");while(a!==b);return a.replace(/</g,"\x26lt;")},isObject:function(a){return!b.isNull(a)&&"object"===typeof a},getFilteredObject:function(a,c){var d={};if(!b.isObject(a))return d;Object.keys(a).filter(function(a){return c.includes(a)}).forEach(function(c){d[c]=a[c]});return d}};return{init:b.init,startsWith:b.startsWith,contains:b.contains,delayFunc:b.delayInit(),exposejQuery:b.exposejQuery,gda:b.gda,gdaWithAttrAlias:b.gdaWithAttrAlias,gebi:b.gebi,getTopicIDFromLink:b.returnTopicIDFromLink,
getTopicIDFromLocation:b.returnTopicIDFromLocation,handleSigninRedirect:b.handleSigninRedirect,isOnArticle:b.isOnArticle,openInNewWindow:b.openInNewWindow,textareaFocusPlaceholderFix:b.textareaFocusPlaceholderFix,updateScrollTop:b.updateScrollTop,getUniqueArray:b.getUniqueArray,isString:b.isString,isNumber:b.isNumber,isNull:b.isNull,isNotNull:b.isNotNull,isEmpty:b.isEmpty,formatObjectAsUrlParams:b.formatObjectAsUrlParams,truncateString:b.truncateString,truncateClientInputLimit64:b.truncateClientInputLimit64,
isParamPresent:b.isParamPresent,getErrorDetailsFromAjaxResponse:b.getErrorDetailsFromAjaxResponse,getUid:b.getUid,forEachObjectValue:b.forEachObjectValue,getObjectValues:b.getObjectValues,getElementRightOffset:b.getElementRightOffset,ensureId:b.ensureId,resetJqueryAnimation:b.resetJqueryAnimation,redirect:b.redirect,isHashOnCurrentPage:b.isHashOnCurrentPage,isHtmlElement:b.isHtmlElement,isSellerULink:b.isSellerULink,executeIf:b.executeIf,executeIfElse:b.executeIfElse,getPathArguments:b.getPathArguments,
getContactUsFooterLink:b.getContactUsFooterLink,toggleClassOnCond:b.toggleClassOnCond,stringToBool:b.stringToBool,selectorToClass:b.selectorToClass,formEncode:b.formEncode,hasTemplate:b.hasTemplate,stripHtmlTags:b.stripHtmlTags,isObject:b.isObject,getFilteredObject:b.getFilteredObject}});(function(){ASPP.register("spaui-window-ref",function(){return{get:function(){return l}}})})();(function(){ASPP.when("ASPA","spaui-util").register("spaui-write-through-storage",function(g,f){function b(a,c,b,e,f,
g){this.storageIdentifier=b;this.storageObj=e;this.maximumAllowedStorage=f;this.data=c;this.JSON=g;this.instanceId=a;this.initialize()}b.prototype.initialize=function(a){try{var c=a?a:this.JSON.parse(this.storageObj.getItem(this.storageIdentifier));c.id&&c.id===this.instanceId?this.data=g.$.extend(!0,{},this.data,c.data):this.clear()}catch(b){}};b.prototype._buildRecursiveSection=function(a,c){var b={};b[a[0]]=1<a.length?this._buildRecursiveSection(a.slice(1),c):c;return b};b.prototype._splitKey=
function(a){return a.split(".")};b.prototype.set=function(a,c){a=this._splitKey(a);for(var b=this.data,e=this.data,g=0,k=a[g];g<a.length&&f.isObject(e);)k=a[g],b=e,e=e[k],g++;g!==a.length?c!==h&&(b[k]=this._buildRecursiveSection(a.slice(g),c)):b[k]=c;return this.updateStorage()};b.prototype._getRecursiveSection=function(a,c){if(0===a.length)return h;c=c[a[0]];return 1<a.length&&c?this._getRecursiveSection(a.slice(1),c):1===a.length?c:h};b.prototype.get=function(a){a=this._splitKey(a);return this._getRecursiveSection(a,
this.data)};b.prototype.clear=function(){this.storageObj&&this.storageObj.removeItem(this.storageIdentifier)};b.prototype.updateStorage=function(){if("undefined"===typeof this.storageObj||"undefined"===typeof this.JSON)return!1;var a=this.JSON.stringify({id:this.instanceId,data:this.data});if(a.length>this.maximumAllowedStorage)return!1;try{this.storageObj.setItem(this.storageIdentifier,a)}catch(c){return!1}return!0};return b})})();ASPP.when("ASPA","spaui-events","spaui-external-handle").register("spaui-external-events",
function(g,f,b){var a={resolveName:function(a){return"spaui-external:"+a},subscribe:function(c,b){f.subscribe(a.resolveName(c),b)},subscribeOnce:function(c,b){f.subscribeOnce(a.resolveName(c),b)},unsubscribe:function(b,d){f.unsubscribe(a.resolveName(b),d)},publish:function(b,d){f.publish(a.resolveName(b),d)}};return b.wrap({subscribe:a.subscribe,subscribeOnce:a.subscribeOnce,unsubscribe:a.unsubscribe,publish:a.publish})});ASPP.when("ASPA","spaui-util","spaui-shim-initialized").register("spaui-external-handle",
function(g,f){function b(a,b){if(!a||!f.isString(a))throw"Register must be given a string to identify your widget or team using our API.";this.client=a;this.monkeyPatchModule(b)}b.prototype.monkeyPatchModule=function(a){var b=function(b){var c=a[b];g.$.isFunction(c)?this[b]=this.monkeyPatchMethod(b,c):this[b]=c},b=b.bind(this);Object.keys(a).forEach(b)};b.prototype.monkeyPatchMethod=function(a,b){return function(){return b.apply(this,arguments)}};return{wrap:function(a){return{register:function(c){return new b(c,
a)}}}}});(function(){ASPP.when("ASPA","spaui-metrics","spaui-external-handle","spaui-metric-init").register("spaui-external-metrics-v3",function(g,f,b){return b.wrap({send:{send:function(a,b,d,e,g){a={client:this.client,from:d,where:a,to:b};e&&(a.additionalObj=e);f.validate(a)&&f.send(a,h,g)}}.send})})})();(function(){ASPP.when("ASPA","spaui-session","spaui-external-handle").register("spaui-external-session",function(g,f,b){var a={getSpauiChatId:function(){return f.getSpauiChatId()},setSpauiChatId:function(a){f.setSpauiChatId(a)},
clearSpauiChatId:function(){f.clearSpauiChatId()},createKey:function(a){return a.join(".")},setGlobal:function(b,d){f.setGeneric(a.createKey(["external","globalShared",b]),d)},getGlobal:function(b){return f.getGeneric(a.createKey(["external","globalShared",b]))},set:function(b,d){f.setGeneric(a.createKey(["external",this.client,b]),d)},get:function(b){return f.getGeneric(a.createKey(["external",this.client,b]))}};return b.wrap({setSpauiChatId:a.setSpauiChatId,clearSpauiChatId:a.clearSpauiChatId,getSpauiChatId:a.getSpauiChatId,
setGlobal:a.setGlobal,getGlobal:a.getGlobal,set:a.set,get:a.get})})})();(function(){var g=["spaui-external-metrics-v3"];ASPP.when("ASPA").execute(function(){n.now("ASPA").execute(function(f){f===h&&g.forEach(function(b){ASPP.when(b).execute(function(a){n.register(b,function(){return a})})})})})})()});
/* ******** */
(function(L){var G=window.AmazonUIPageJS||window.P,C=G._namespace||G.attributeErrors,c=C?C("SellerPartnerAthenaUIAssets",""):G;c.guardFatal?c.guardFatal(L)(c,window):c.execute(function(){L(c,window)})})(function(L,G,C){ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history").register("spaui-ajax",function(c,e,l,k){var g={get:function(c,e,f,b){g.core("GET",c,e,f,b)},post:function(c,e,f,b){g.core("POST",c,e,f,b)},core:function(f,g,h,b,a){h=c.$.extend({url:g,data:"",dataType:C,payload:{},method:f,
type:f},h);c.$.ajax(h).done(function(d){c.$.isFunction(b)&&(h.payload.data=d,b(h.payload))}).fail(function(d,b){e.handleSigninRedirect(d.status)?l.send({from:k.getFrom(),where:"someAjaxRequest",to:"responseWasLoginPage",additionalObj:{url:g,statusCode:d.status}}):c.$.isFunction(a)&&(h.payload.data=d,h.payload.errorStatus=b,a(h.payload))})},mockGet:function(c,e,h,b,a,d){f.get=g.mockCore(c,e,h,b,a,d)},mockPost:function(c,e,h,b,a,d){f.post=g.mockCore(c,e,h,b,a,d)},mockCore:function(e,f,g,b,a,d){return function(r,
n,x,k){var l=function(){var a=c.$.extend({},n.payload,{data:f});r.match(e)&&(d!==C&&d(n),c.$.isFunction(b)&&b(r,n,x,k),g?c.$.isFunction(k)&&k(a):c.$.isFunction(x)&&x(a))};a?setTimeout(l,a):l()}},mockFailedGet:function(c,e,h){f.get=g.mockFailedCore(c,e,h)},mockFailedPost:function(c,e,h){f.post=g.mockFailedCore(c,e,h)},mockFailedCore:function(e,f,g){return function(b,a,d,r){a=c.$.extend({},a.payload,{data:f,errorStatus:g});b.match(e)&&c.$.isFunction(r)&&r(a)}}},f={get:g.get,post:g.post,mockGet:g.mockGet,
mockPost:g.mockPost,mockFailedGet:g.mockFailedGet,mockFailedPost:g.mockFailedPost};return f});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-theming","spaui-history","spaui-content","spaui-ui","spaui-push-notification","spaui-events","spaui-discovery","spaui-state","spaui-async","spaui-grouped-alerts","spaui-eci-widget","spaui-alert-metrics","spaui-alert-util").register("spaui-alerts",function(c,e,l,k,g,f,m,p,h,b,a,d,r,n,x,y){var w={},q={parentRequestId:null,athenaInitializedWithoutSummon:!1,
onInfoCard:!1,isInfoCardLoaded:!1,alertLoaded:!1,alertFlushed:!1,marketplaceId:null,overrideContext:null,overrideAlertId:null,alertContent:null,shinyCount:0,alertHandles:[],displacedMastheads:[]},B={ALERT_HIGH:{priority:0,ariaLabel:"Urgent notification",showCount:!0},ALERT_MEDIUM:{priority:1,ariaLabel:"Important notification",showCount:!0},EXTERNAL:{priority:2,ariaLabel:"External Notification",showCount:!1},INFORMATION:{priority:3,ariaLabel:"Information alert",showCount:!1},OPPORTUNITY:{priority:4,
ariaLabel:"Opportunity alert",showCount:!1}},t={init:function(a){q.marketplaceId=c.state("spaui-state").marketplaceID||c.state("spaui-state").marketplaceId;t.hydrate(a);t.bind()},hydrate:function(a){w.spaui=a;w.gatewayHelpLink=c.$("#sc-quicklink-help").find(".sc-ql-a").find(".sc-quick-txt");w.templateHolder=c.$("#spaui-template-shiny-object");h.subscribeAsyncModuleEvent("alerts",d.LOADED_EVENT,t.onLoad);h.subscribeAsyncModuleEvent("alerts",d.COMPLETED_EVENT,t.onCompleteLoad);h.subscribe(h.getName("newPage"),
t.onNewPage);h.subscribe(h.getName("initializedWithoutSummon"),t.onInitialize);h.subscribe(h.getName("dismissed"),t.onAthenaDismissed);b.register("alerts","info",!1,t.firstDiscovery);a={simpleRegister:t.registerSimpleAlert,customRegister:t.registerAlert};n.registerHandles(a);r.registerHandles(a);t.registerSimpleAlert(function(){return!0},l.getContext("alert"),l.getContext("pushNotification"))},registerSimpleAlert:function(a,d,b,c){t.registerAlert(a,t.createInstrumentClosure(x.discover,d,b),t.createInstrumentClosure(x.read,
d,b),t.createInstrumentClosure(x.dismiss,d,b),t.createInstrumentClosure(x.minimize,d,b),c)},createInstrumentClosure:function(a,d,b){return function(c){a(d,b,y.getAlertDetails(c))}},registerAlert:function(a,d,b,c,n,e){q.alertHandles.push({checkFunc:a,onDiscover:d,onOpen:b,onDismiss:c,onMinimize:n,pushConfig:e})},onLoad:function(a){q.alertLoaded=!0;q.alertContent=a?a:w.spaui.find(".spaui-alerts");0>=c.$(q.alertContent).find(".spaui-alert").length&&t.instrumentNoAlertsToShow(l.getContext("alert"),{});
t.attemptMastheadDisplay()},onInitialize:function(){q.athenaInitializedWithoutSummon=!0;t.attemptMastheadDisplay()},onAthenaDismissed:function(){q.onInfoCard=!1;q.athenaInitializedWithoutSummon=!0;t.attemptMastheadDisplay()},attemptMastheadDisplay:function(){if(!(q.onInfoCard||y.isAlertsHidden()||y.alertsAreSuppressed())&&q.alertLoaded&&q.athenaInitializedWithoutSummon&&null!==q.alertContent){var a=c.$(q.alertContent);q.shinyCount=a.data("shiny-count");a=a.find(".spaui-alert");if(0<a.length){q.alertContent=
null;var d=t.getPushNotificationConfig(a);a.data("is-push")&&!1!==d?t.displayPushNotification(a):t.displayShinyObjectAlert(a)}}},onNewPage:function(a){a.type===f.getPageType("info")&&t.dynamicHydrate()},onCompleteLoad:function(){q.alertFlushed=!0;h.publish(h.getName("alertsLoaded"));t.dynamicHydrate();if(y.isAlertsHidden()||y.alertsAreSuppressed())if(w.alerts.hide(),w.viewNotificationCardLink.hide(),y.isAlertsHidden())return;if(t.isTimeToDiscover())t.onDiscover()},dynamicHydrate:function(){w.alerts=
w.spaui.find("#spaui-content .spaui-alerts");w.viewNotificationCardLink=w.spaui.find(".spaui-view-notification-card");w.alerts.find(".spaui-alert").each(function(){var a=c.$(this),d=t.getIconTemplate(a),a=a.find(".spaui-alert-badge"),d=d.find(".spaui-alert-icon");a.empty();a.append(d.clone())})},bind:function(){w.spaui.delegate(".spaui-alert-toggle","click",t.toggle);w.spaui.delegate(".spaui-alert-dismiss","click",t.dismiss);w.spaui.delegate(".spaui-alert-load-all","click",t.loadAllHandle);c.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-alert-load-all",
"click",t.pushNotificationLoadAll)},toggle:function(a){a.preventDefault();a=c.$(a.currentTarget);var d=y.getAlertFromChild(a);a.hasClass("spaui-alert-toggle-closed")?(a.removeClass("spaui-alert-toggle-closed").addClass("spaui-alert-toggle-open"),a.parent().find(".spaui-alert-content").css("display","block"),e.updateScrollTop(a,70),t.callAlertHandle("onOpen",d)):(a.removeClass("spaui-alert-toggle-open").addClass("spaui-alert-toggle-closed"),a.parent().find(".spaui-alert-content").css("display","none"),
t.callAlertHandle("onMinimize",d))},dismiss:function(a){a.preventDefault();c.$("#spaui-alerts-icon").remove();w.gatewayHelpLink.css("padding-right","");a=y.getAlertFromChild(c.$(a.currentTarget));t.callAlertHandle("onDismiss",a);y.hideSingleAlert(y.getAlertDetails(a).id)},loadAllHandle:function(a,d){a.preventDefault();t.displayAllAlerts({where:d?l.getContext("pushNotification"):l.getContext("alert")})},displayAllAlerts:function(d){m.getVisible()||m.summoner({});var b=g.getAthenaUrlPrefix()+"athena-all-alerts?requestId\x3d"+
l.incrementChildRequestId();f.placeEndpoint("alerts",a.enhanceUrl(b),function(){l.send(c.$.extend({from:g.getFrom(),where:l.getContext("alert"),to:l.getPlace("alerts")},d));t.onLoadAllAlerts({})})},pushNotificationLoadAll:function(a){t.loadAllHandle(a,!0)},onLoadAllAlerts:function(a){t.loadAllDiscover(a);t.loadAllRead(a)},loadAllDiscover:function(a){var d=[];c.$(".spaui-alerts-all .spaui-alert-info:visible").each(function(){d.push(e.gda(this,"id"))});0>=d.length?t.instrumentNoAlertsToShow(l.getContext("allAlerts"),
a):x.massDiscover(l.getContext("allAlerts"),d,a);t.dynamicHydrate()},loadAllRead:function(a){var d=[];c.$(".spaui-alerts-all .spaui-alert-info.spaui-alert-fixed").each(function(){d.push(e.gda(this,"id"))});0<d.length&&x.massRead(l.getContext("allAlerts"),d,a)},onDiscover:function(){var a=w.alerts.find(".spaui-alert");if(0<a.length&&!y.isAlertsHidden()){var d=w.shinyIcon===C?C:parseInt(w.shinyIcon.data("priority"),10);k.shouldHideAlerts(d)||y.alertsAreSuppressed()?(a=y.getAlertDetails(a),l.send({from:g.getFrom(),
where:l.getContext("alert"),to:l.getPlace("alertSuppressed"),payloadObj:{notificationId:a.id,notificationType:a.type,notificationName:a.name}})):(t.callAlertHandle("onDiscover",a),t.isNonToggleAlert(a)&&t.callAlertHandle("onOpen",a))}},isTimeToDiscover:function(){return q.isInfoCardLoaded&&q.alertFlushed},isNonToggleAlert:function(a){return!y.getAlertDetails(a).expandable},firstDiscovery:function(){q.onInfoCard=!0;q.isInfoCardLoaded=!0;if(t.isTimeToDiscover())t.onDiscover()},instrumentNoAlertsToShow:function(a,
d){l.send({from:g.getFrom(),where:a,to:l.getPlace("noAlertToShow"),additionalObj:d})},getCurrentPriority:function(){return w.shinyIcon===C?999:e.gda(w.shinyIcon,"priority")},displayShinyObjectForIcon:function(a,d,b){var n=t.getCurrentPriority();if(!d||d>=n)return d>n&&l.send({from:g.getFrom(),where:l.getContext("alertShinyObject"),to:"dropped",additionalObj:{severityShow:t.getSevCode(n),severityDropped:b}}),!1;0===w.gatewayHelpLink.length&&(w.gatewayHelpLink=c.$("#helpMenuID .sc_quicklink"));w.shinyIcon!==
C&&(w.shinyIcon.detach(),d=t.getSevCode(n),q.displacedMastheads.push({icon:w.shinyIcon,priority:n,severity:d}),l.send({from:g.getFrom(),where:l.getContext("alertShinyObject"),to:"superceded",additionalObj:{severityShow:b,severitySuperceded:d}}));w.shinyIcon=a;w.gatewayHelpLink.append(a);w.gatewayHelpLink.css("padding-right","25px");return!0},externalDisplayShinyObject:function(a){var d=t.getDefaultIconTemplate().find(".spaui-alert-shiny").clone();d.addClass(a);a=e.gda(d,"priority");return t.displayShinyObjectForIcon(d,
a,"EXTERNAL")?(a=e.getUid(),d.attr("id",a),a):null},externalDismissShinyObject:function(a){w.shinyIcon&&w.shinyIcon.attr("id")===a&&(w.shinyIcon.remove(),w.shinyIcon=C,(a=q.displacedMastheads.pop())?(t.displayShinyObjectForIcon(a.icon,a.priority,a.severity),l.send({from:g.getFrom(),where:l.getContext("alertShinyObject"),to:"restored",additionalObj:{severityShow:a.severity}})):w.gatewayHelpLink.css("padding-right",""))},displayShinyObjectAlert:function(a,d){var b=t.getIconTemplate(a,d).find(".spaui-alert-shiny").clone();
d=d||e.gda(a,"severity");var c=e.gda(b,"priority");if((a===C||!k.shouldHideAlerts(c))&&t.displayShinyObjectForIcon(b,c,d)){var c=null,n=t.getSeverity(d);if(null===c||n.priority<c.priority)c=n;c&&(w.gatewayHelpLink.attr("aria-label","Help - "+c.ariaLabel),n=w.alerts!==C?w.alerts.data("shiny-count"):q.shinyCount,c.showCount&&0<n?(b.removeClass("spaui-sprite"),b.addClass("spaui-alert-shiny-count"),b.text(n),b=b.clone(),a.find(".spaui-alert-load-all-node .spaui-alert-load-all").append(b)):n=0,l.send({from:g.getFrom(),
where:l.getContext("alertShinyObject"),to:"discovered",additionalObj:{severityShow:d,count:n}}))}},getShinyIconOverrideCode:function(){return{A1F83G8C2ARO7P:"GB",A1PA6795UKMFR9:"EU",A13V1IB3VIYZZH:"EU",A1RKKUPIHCS9HS:"EU",AJZF8LZ1EJVJN:"EU",APJ6JRA9NG5V4:"EU",A3HOBANJMCMD83:"EU",A21TJRUUN4KGV:"IN",A2XZLSVIQ0F4JT:"IN",AAHKV2X7AFYLW:"SEA",A1VC38T7YXB528:"SEA"}[q.marketplaceId]||"default"},getSeverity:function(a){return B[a]},getSevCode:function(a){a=parseInt(a,10);for(var d=Object.keys(B),b=0;b<d.length;b++){var c=
d[b];if(B[c].priority===a)return c}return null},displayPushNotification:function(a){var d=a.find(".spaui-alert-header").data("expandable"),b=a.find(".spaui-alert-content").clone(),c;c=d?a.find(".spaui-alert-toggle").text():a.find(".spaui-alert-header-inline-push").text();var n=t.getPushNotificationConfig(a);a=y.getAlertDetails(a);var e=p.create(c,b,n.pushNotificationSev,n.hasMinimizeButton,d);e.data("id",a.id);e.data("type",a.type);e.data("name",a.name);e.data("is-push",!0);t.callAlertHandle("onDiscover",
e);d||t.callAlertHandle("onOpen",e);h.subscribe(h.getName("pushNotificationOpened"),function(){t.callAlertHandle("onOpen",e)});h.subscribe(h.getName("pushNotificationClosed"),function(){t.callAlertHandle("onDismiss",e)});h.subscribe(h.getName("pushNotificationMinimize"),function(){t.callAlertHandle("onMinimize",e)})},getPushNotificationConfig:function(a){var d={ALERT_HIGH:{type:"urgent",pushNotificationSev:p.HIGH},OPPORTUNITY:{type:"opportunity",pushNotificationSev:p.OPPORTUNITY},ALERT_MEDIUM:{type:"alert",
pushNotificationSev:p.MEDIUM},INFORMATION:{type:"info",pushNotificationSev:p.INFORMATION}}[a.data("severity")];return d?(d={type:d.type,pushNotificationSev:d.pushNotificationSev,hasMinimizeButton:!1},a=t.getAlertHandles(a),a.pushConfig&&c.$.isPlainObject(a.pushConfig)&&(d=c.$.extend({},d,a.pushConfig)),d):!1},getState:function(){return q},getIconTemplate:function(a,d){var b=t.getShinyIconOverrideCode();a=d||e.gda(a,"severity");a=w.templateHolder.find("#"+a);b=a.find("."+b);0===b.length&&(b=a.find(".default"));
return b},getDefaultIconTemplate:function(){return w.templateHolder.find("#EXTERNAL")},getAlertHandles:function(a){for(var d=0;d<q.alertHandles.length;++d){var b=q.alertHandles[d];if(b.checkFunc(a))return b}},callAlertHandle:function(a,d){var b=t.getAlertHandles(d);if(b[a]&&c.$.isFunction(b[a]))b[a](d)}};return{init:t.init,bindIrisCallsToPushNotification:t.bindIrisCallsToPushNotification,getSeverity:t.getSeverity,getState:t.getState,getShinyIconOverrideCode:t.getShinyIconOverrideCode,getIconTemplate:t.getIconTemplate,
displayShinyObjectAlert:t.displayShinyObjectAlert,displayAllAlerts:t.displayAllAlerts,dynamicHydrate:t.dynamicHydrate,onLoadAllAlerts:t.onLoadAllAlerts,externalDisplayShinyObject:t.externalDisplayShinyObject,externalDismissShinyObject:t.externalDismissShinyObject}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-ajax").register("spaui-alert-metrics",function(c,e,l,k){var g=null,f=[],m=[],p={iris:"DISCOVERED",alertAction:e.getPlace("alertDiscovered"),pushAction:"load",idList:f},h={iris:"READ",
alertAction:e.getPlace("setAlertRead"),pushAction:"open",idList:m},b={iris:"ABORT",alertAction:e.getPlace("setAlertAbort"),pushAction:"dismiss",idList:[]},a={iris:null,alertAction:e.getPlace("minimized"),pushAction:e.getPlace("minimized"),idList:null},d={init:function(){g=e.getParentRequestId()},instrumentMassDiscover:function(a,b,g){b=d.filterIdsAlreadySeen(b,f);if(0<b.length){f=f.concat(b);var h=b.join(",");d.sendIrisDiscover(h,function(){var d=c.$.extend({ids:h},g);e.send({from:l.getFrom(),where:a,
to:e.getPlace("alertMassDiscovered"),additionalObj:d})})}},instrumentMassRead:function(a,b,f){b=d.filterIdsAlreadySeen(b,m);if(0<b.length){m=m.concat(b);var g=b.join(",");d.sendIrisResponse(h.iris,g,function(){var d=c.$.extend({ids:g},f);e.send({from:l.getFrom(),where:a,to:e.getPlace("alertMassRead"),additionalObj:d})})}},instrumentDiscover:function(a,b,c){d.instrumentAlert(p,a,b,c)},instrumentRead:function(a,b,c){d.instrumentAlert(h,a,b,c)},instrumentDismiss:function(a,c,e){d.instrumentAlert(b,a,
c,e)},instrumentMinimize:function(b,c,e){d.sendMetrics(a,b,c,e)},instrumentAlert:function(a,b,c,e){var f=a.idList;-1===f.indexOf(e.id)&&(f.push(e.id),d.sendIrisResponse(a.iris,e.id,function(){d.sendMetrics(a,b,c,e)}))},sendMetrics:function(a,b,c,f){b=d.chooseContext(b,c,f);a=d.getAction(a,f);e.send({from:l.getFrom(),where:b,to:a,additionalObj:{isPush:f.isPush},payloadObj:{notificationId:f.id,notificationType:f.type,notificationName:f.name}})},sendIrisDiscover:function(a,b){d.sendIrisResponse(p.iris,
a,b)},sendIrisResponse:function(a,d,b){k.get(l.getAthenaUrlPrefix()+"alert/"+a+"?ids\x3d"+d+"\x26prid\x3d"+g,{},function(){c.$.isFunction(b)&&b()})},chooseContext:function(a,d,b){return b.isPush?d:a},getAction:function(a,d){return d.isPush?a.pushAction:a.alertAction},filterIdsAlreadySeen:function(a,d){return a.filter(function(a){return-1===d.indexOf(a)})}};return{init:d.init,sendIrisDiscover:d.sendIrisDiscover,massDiscover:d.instrumentMassDiscover,massRead:d.instrumentMassRead,discover:d.instrumentDiscover,
read:d.instrumentRead,dismiss:d.instrumentDismiss,minimize:d.instrumentMinimize}});ASPP.when("ASPA").register("spaui-alert-util",function(c){var e=!1,l=null,k;return{init:function(e){l=e;k=c.$("#sc-quicklinks-top")},getAlertFromInnerEvent:function(e){e=c.$(e.target);var f=e.closest(".spaui-alert");0===f.length&&(f=e.closest("#spaui-push-notification"));return f},getAlertDetails:function(c){var e={isPush:!1},k=c.find(".spaui-alert-info");0===k.length&&c.is("#spaui-push-notification")&&(e.isPush=!0,
k=c);e.id=k.data("id");e.name=k.data("name");e.type=k.data("type");e.expandable=k.data("expandable");return e},getAlertFromChild:function(c){var e=c.closest(".spaui-alert");0===e.length&&(e=c.closest("#spaui-push-notification"));return e},hideSingleAlert:function(e,f){var m=l.find(".spaui-alerts");if(0<m.length&&(1===m.find(".spaui-alert").length&&m.data("is-hidden",!0),e)){var m=m.find('.spaui-alert-info[data-id\x3d"'+e+'"]').closest("li.spaui-alert"),p=l.find(".spaui-alert-load-all-node");0<m.length&&
(m.fadeOut({duration:300}),p.fadeOut({duration:300}),m.addClass("spaui-alert-dismissed"),p.addClass("spaui-alert-dismissed"))}m=k.find("#spaui-push-notification");0<m.length&&m.data("id")+""===e+""&&m.fadeOut({duration:300});c.$.isFunction(f)&&f()},isAlertsHidden:function(){var c=l.find(".spaui-alerts");return 0<c.length&&!0===c.data("is-hidden")},hideAllAlerts:function(){l.find(".spaui-alerts").each(function(){c.$(this).hide()});l.find(".spaui-async-alerts").hide();e=!0},alertsAreSuppressed:function(){return e}}});
ASPP.when("ASPA","spaui-ui","spaui-metrics","spaui-history","spaui-events","spaui-content","spaui-search","spaui-util","spaui-help","spaui-session","spaui-custom-card","spaui-external-events","spaui-ajax","spaui-instance","spaui-chat","spaui-help-hub-input").register("spaui-api",function(c,e,l,k,g,f,m,p,h,b,a,d,r,n,x,y){var w=!1,q={init:function(){q.bind()},bind:function(){G._sellerPartnerAthena=t;g.subscribe(g.getName("initialized"),function(){q.triggerLoadedEvent(e.getVisible())})},triggerLoadedEvent:function(a){if(G._sellerPartnerAthenaLoaded&&
!w){w=!0;var d=G._sellerPartnerAthenaLoaded,b;for(b in d)if(d.hasOwnProperty(b)&&c.$.isFunction(d[b]))d[b](a)}},summon:function(){e.summoner({external:!0,where:l.getContext("externalApi"),additionalObj:c.$.extend({},B)})},changeSize:function(a){p.isNull(a)||b.isLargeSize()===a||(a?e.makeLarge():e.makeSmall())},maybeSummon:function(){e.getVisible()||q.summon()},getTracking:function(){return{where:l.getContext("externalApi"),additionalObj:c.$.extend({},B)}},showBestContent:function(a,d){a&&d&&r.post(k.getAthenaUrlPrefix()+
"matching-phrase?text\x3d"+a+"\x26locale\x3d"+d,{},function(a){(a=a&&a.data?a.data:{})&&a.matchingPhrase&&!n.isCurrentMatchAlreadyShown(a.matchingPhrase,d)&&(l.send({from:B.client,to:"keyphraseMatchFound",where:"directAnswerWorkflow",additionalObj:{keyPhraseMatch:a.matchingPhrase}}),t.displaySearchResults(a.matchingPhrase,d),n.setLastSearchDetails(a.matchingPhrase,d),l.send({from:k.getFrom(),to:l.getPlace("search"),where:l.getContext("externalApi"),additionalObj:{matchingPhrase:a.matchingPhrase,daIntent:a.daIntentId,
locale:d,client:B.client,context:B.context}}))})},assertRegistered:function(){if(!B.client||!B.context)throw"Access to Athena's external API is restricted until you register with it by calling _sellerPartnerAthena.register([clientId], [context])";},setClosable:function(a){a?e.showClose():e.hideClose()},startNewChat:function(a){a?a.clientName=B.client:a={clientName:B.client};x.startChat(null,a)},enableHelpHub:function(){y.openSearch()}},B={client:null,context:null,ex_event_handle:null},t={register:function(a,
b){B.client=a;B.context=b;B.ex_event_handle=d.register(a)},summon:function(a){q.assertRegistered();q.changeSize(!!a);q.maybeSummon()},banish:function(){q.assertRegistered();e.banisher(q.getTracking())},displayHelpArticle:function(a){q.assertRegistered();h.displayHelpTopic(a,null,q.getTracking());q.maybeSummon()},displaySearchResults:function(a,d){q.assertRegistered();m.externalSubmitSearch(decodeURIComponent(a),q.getTracking(),d);q.maybeSummon()},isContentInsideAthena:function(a){if(!(a instanceof
c.$))if(p.isHtmlElement(a))a=c.$(a);else throw"content must be either a jQuery object (from ASPA) or an HtmlElement";return 0<a.closest("#spaui, #spaui-push-notification").length},setClosable:function(a){q.assertRegistered();q.setClosable(a)},setHomeCard:function(d,b){q.assertRegistered();a.setCardAsHome(d,b,B.client)},displayBestContentFor:function(a,d){q.assertRegistered();q.showBestContent(a,d)},subscribeToEvent:function(a,d){q.assertRegistered();B.ex_event_handle.subscribe(a,d)},startNewChat:function(a){q.assertRegistered();
q.startNewChat(a);q.maybeSummon()},isChatActive:function(){q.assertRegistered();return x.isChatActive()},fetchSpauiChatState:function(){q.assertRegistered();return c.state("spaui-chat-state")},enableHelpHub:function(){q.assertRegistered();q.enableHelpHub()}};return{init:q.init}});ASPP.when("ASPA","spaui-util","spaui-state","spaui-history","spaui-events","spaui-ajax").register("spaui-async",function(c,e,l,k,g,f){var m={},p={},h={},b={transitionTime:400,flushable:[],onSummonAsyncElements:[],nonAsyncModules:{"featured-content":"featured-content",
predictive:"predictive",alerts:"alerts","top-issues":"top-issues"},onLoadState:null,onSummonState:null,preventFlushFlag:!1,LOADED:"loaded",QUEUED:"queued",SLIDING_UP:"slidingUp",FLUSHED:"flushed",SLIDING_DOWN:"slidingDown",COMPLETED:"completed",LOADED_EVENT:"Loaded",COMPLETED_EVENT:"Completed"},a={init:function(d,c){a.hydrate(d);a.bind();d=m.spaui.find(".spaui-async-load");var e=a.splitLoadAndSummonAsync(d);d=e.immediately;e=e.onSummon;b.onLoadState=a.initialState(d);b.onSummonState=a.initialState(e);
b.onSummonAsyncElements=e;b.callback=c;a.triggerLoad(d);a.loadComplete();a.loadNonAsync()},initialState:function(a){return{initialElementCount:a.length,remainingElementCount:a.length}},hydrate:function(a){m.spaui=a;m.templates=c.$("#spaui-template-async")},bind:function(){g.subscribe(g.getName("newPage"),a.onNewPage);g.subscribe(g.getName("summon"),a.asyncOnSummon);g.subscribe(g.getName("leavingPage"),a.onLeavePage)},onNewPage:function(){Object.keys(p).forEach(a.loadModuleIfPresent);a.flushNoTransition();
a.handleNewModules()},isNotStructuralElement:function(d,b){d=c.$(b);return a.getModuleIdentifier(d)===d.attr("id")},handleNewModules:function(){var d=m.spaui.find(".spaui-async-load"),d=d.filter(a.isNotStructuralElement),d=a.splitLoadAndSummonAsync(d),b=d.immediately;if(0<d.onSummon.length)throw"Load types other than on load are currently not supported for new async modules not part of initial Athena structure";a.triggerLoad(b)},loadModuleIfPresent:function(d){if(p[d]===b.FLUSHED){var c=h[d],f=m.spaui.find("#"+
c);c&&0!==f.length&&(e.resetJqueryAnimation(f),a.moduleComplete(d))}},onLeavePage:function(){for(var d in p)p.hasOwnProperty(d)&&(p[d]===b.SLIDING_UP?p[d]=b.QUEUED:p[d]===b.SLIDING_DOWN&&(p[d]=b.FLUSHED));a.preventFlush()},triggerLoad:function(d){for(var b=0;b<d.length;b++)a.asyncLoad(d[b])},splitLoadAndSummonAsync:function(a){var e=[],f=[];a.each(function(){var a=c.$(this),d=a.data("load-event"),g=a.data("module");delete b.nonAsyncModules[g];if("load"===d)e.push(a);else if("summon"===d)f.push(a);
else throw"Unrecognized load event type in async module: "+d;});return{onSummon:f,immediately:e}},asyncOnSummon:function(){0<b.onSummonAsyncElements.length&&(a.triggerLoad(b.onSummonAsyncElements),b.onSummonAsyncElements=[])},ensureId:function(a){a.attr("id")===C&&a.attr("id",e.getUid())},asyncLoad:function(d){var b=e.gda(d,"async-url"),c=l.enhanceUrl(b);a.ensureId(d);var g=e.gda(d,"load-event");f.get(c,{dataType:"html"},function(c){a.asyncSuccess(d,c.data,b,g)},function(c){a.asyncError(d,c,b,g)})},
transitionAsyncElement:function(d,f,n,g){var k=c.$(f);g?(a.replaceAndFlush(d,k,n),a.moduleComplete(n)):(p[n]=b.SLIDING_UP,d.slideUp(b.transitionTime,function(){p[n]===b.SLIDING_UP&&(k.hide(),a.replaceAndFlush(d,k,n),e.ensureId(k),h[n]=k.attr("id"),p[n]=b.SLIDING_DOWN,k.slideDown(b.transitionTime,function(){if(p[n]===b.SLIDING_DOWN){var d=c.$(this);"hidden"===d.css("overflow")&&d.css("overflow","");a.moduleComplete(n)}}))}))},replaceAndFlush:function(d,b,c){d.replaceWith(b);a.removeModuleFromFlushQueue(c)},
moduleComplete:function(a){p[a]=b.COMPLETED;g.publishAsyncModuleEvent(a,b.COMPLETED_EVENT)},attemptFlush:function(d,c){var e=a.getModuleIdentifier(d);d="#"+d.attr("id");b.flushable.push({selector:d,replacement:c,module:e});p[e]=b.QUEUED;g.publishAsyncModuleEvent(e,b.LOADED_EVENT,c);d=m.spaui.find(d);!b.preventFlushFlag&&0<d.size()&&a.transitionAsyncElement(d,c,e,"none"===d.css("display"))},asyncSuccess:function(d,b,c,e){a.attemptFlush(d,b);a.attemptLoadComplete(e)},asyncError:function(d,b,c,f){"abort"!==
e.getErrorDetailsFromAjaxResponse(b.data,b.errorStatus).type&&(b=d.data("template"),b=a.getTemplateHtmlString(b),a.attemptFlush(d,b),a.attemptLoadComplete(f))},getTemplateHtmlString:function(a){a=m.templates.find("#"+a);return 0<a.length?a[0].outerHTML:""},attemptLoadComplete:function(d){"summon"===d?b.onSummonState.remainingElementCount--:b.onLoadState.remainingElementCount--;a.loadComplete()},loadComplete:function(){a.isTimeToCallback()&&b.callback!==C&&b.callback()},isTimeToCallback:function(){return 0>=
b.onLoadState.remainingElementCount&&0>=b.onSummonState.remainingElementCount},loadNonAsync:function(){e.forEachObjectValue(b.nonAsyncModules,function(a){g.publishAsyncModuleEvent(a,b.LOADED_EVENT,null);g.publishAsyncModuleEvent(a,b.COMPLETED_EVENT)})},getFlushableState:function(){return b.flushable},flushNoTransition:function(){b.preventFlushFlag=!1;b.flushable.forEach(function(b){var c=m.spaui.find(b.selector);0<c.length&&a.transitionAsyncElement(c,b.replacement,b.module,!0)})},removeModuleFromFlushQueue:function(a){b.flushable=
b.flushable.filter(function(b){return b.module!==a})},preventFlush:function(){b.preventFlushFlag=!0},setTransitionTime:function(a){b.transitionTime=a},getModuleIdentifier:function(b){var c=b.data("module");if(c)return c;a.ensureId(b);return b.attr("id")}};return{init:a.init,getFlushableState:a.getFlushableState,setTransitionTime:a.setTransitionTime,LOADED_EVENT:b.LOADED_EVENT,COMPLETED_EVENT:b.COMPLETED_EVENT}});ASPP.when("ASPA","spaui-history","spaui-metrics","spaui-session","spaui-state","spaui-triggers",
"spaui-ui","spaui-util","spaui-content","spaui-search","spaui-feedback","spaui-alerts","spaui-links","spaui-predictive","spaui-global-nav-search","spaui-hmd","spaui-featured-content","spaui-async","spaui-theming","spaui-push-notification","spaui-eci-widget","spaui-events","spaui-weblabs","spaui-discovery","spaui-api","spaui-help","spaui-linkcopy","spaui-direct-answer","spaui-contact-deflection","spaui-alert-util","spaui-alert-metrics","spaui-expand","spaui-grouped-alerts","spaui-workflows","spaui-rightclick",
"spaui-notification-card","spaui-instance","spaui-chat","spaui-custom-card","spaui-top-issues","spaui-help-hub-input","spaui-self-service-card","spaui-direct-answer-card","spaui-card-manager","spaui-help-hub-v2-util","ready").register("spaui",function(c,e,l,k,g,f,m,p,h,b,a,d,r,n,x,y,w,q,B,t,E,A,J,I,z,v,H,K,C,u,Q,R,S,T,U,V,W,P,X,L,Y,Z,aa,ba,ca){var D={$dom:{},preview:{fadeOutTime:400,show:!0,dismiss:null,isHelpHubGraduationCard:!1},helpHubEndpoint:"/help/inline/help-hub/input"},M=null,N,F={init:function(c){e.init(c);
g.init(G,c.browseTreeEnabled);p.init(G);c.exposejQuery&&p.exposejQuery();I.init();R.init();F.hydrate(c);F.bind();J.init(c.weblabs);ba.init(c.athenaCardsConfiguration.configuration);l.init(c.instrumentation,c.embeddedAthena);k.init(c.embeddedAthena);W.init(G.sessionStorage);U.init(D.$dom.spaui);m.init(D.$dom.spaui,c.embeddedAthena,c.helpHubV2Enabled,c.hhEntryPointEnabled);z.init();v.init(D.$dom.spaui);h.init(D.$dom.spaui,c.serverUrl.url,c.sellerU.ids,c.helpContentJSWhitelist.ids);H.init(D.$dom.spaui,
c.serverUrl.url);b.init(D.$dom.spaui,c.enableSearchSuggestions.enabled);t.init(D.$dom.spaui);a.init(D.$dom.spaui);y.init(D.$dom.spaui);F.preview(c.preview);f.init({athenaHome:F.home,footerContactUs:c.footerContactUsWeblab.treatment,helpHubV2Enabled:c.helpHubV2Enabled,hhEntryPointEnabled:c.hhEntryPointEnabled});B.init();u.init(D.$dom.spaui);Q.init();d.init(D.$dom.spaui);E.init(D.$dom.spaui);r.init(D.$dom.spaui,c.hhEntryPointEnabled);n.init(D.$dom.spaui);w.init(D.$dom.spaui);K.init(D.$dom.spaui);L.init(D.$dom.spaui);
ca.init();C.init(D.$dom.spaui,c.helpHubV2Enabled);S.init(D.$dom.spaui);T.init();V.init(D.$dom.spaui);P.init();X.init(D.$dom.spaui);Y.init(D.$dom.spaui,D.helpHubEndpoint);Z.init(c.hhEntryPointEnabled);aa.init(D.$dom.spaui);q.init(D.$dom.spaui,function(){});F.initialState()},hydrate:function(a){D.$dom.doc=c.$(document);D.$dom.win=c.$(G);D.$dom.spaui=a.embeddedAthena?c.$(".spaui-fp-embed"):c.$("#spaui");D.$dom.home=D.$dom.spaui.find("#spaui-home");D.$dom.pop=D.$dom.spaui.find("#spaui-pop");D.$dom.back=
D.$dom.spaui.find("#spaui-content-ui-back");D.preview.dismiss=e.getAthenaUrlPrefix()+"preview-card/dismiss"},bind:function(){D.$dom.home.click(F.home);D.$dom.pop.click(F.pop);D.$dom.back.click(F.back);D.$dom.spaui.delegate(".spaui-go-home","click",F.home);A.subscribe(A.getName("goHome"),function(){F.home()})},preview:function(a){D.preview.show=a.show;D.preview.isHelpHubGraduationCard=a.isHelpHubGraduationCard},initialState:function(){h.initialState();m.initialState();C.initialState();var a=v.initialState();
P.initialState();g.isOnUrl("/hz/productsearch")&&g.isParamPresent("productSearchTourOpen")&&c.$("#tutorial-expander-id").trigger("click");var b=!1;p.isOnArticle()&&g.showBrowseAllHelpOnLoad()?(M=h.getPageType("browseAllHelp"),b=!0,v.displayBrowseAllHelpFromSession()):!k.getTopicID()||g.isAnySummoningParamPresent()||a||(M=h.getPageType("helpTopic"),b=!0,v.displayHelpTopicFromSession(k.getTopicID(),k.getTopicURL()));k.getPinned()?b?A.subscribe(A.getName("newPage"),F.onNewPage):m.summoner({session:!0}):
m.isSummoned()||A.publish(A.getName("initializedWithoutSummon"));F.previewToDataStore();A.publish(A.getName("initialized"))},onNewPage:function(a){a.type===M&&(M=null,A.unsubscribe(A.getName("newPage"),F.onNewPage),m.summoner({session:!0}))},previewToDataStore:function(){k.getPreview()&&D.preview.show&&F.enablePreview();k.getPreview()&&!D.preview.show&&k.setPreview(!1);!k.getPreview()&&D.preview.show&&F.previewUpdate()},previewUpdate:function(){c.$.get(D.preview.dismiss)},enablePreview:function(){c.$("#spaui").append(p.gebi("spaui-template-preview").innerHTML);
k.getPinned()?F.previewMetric(l.getContext("session")):(N=c.$.proxy(F.previewMetric,null,l.getContext("trigger")),A.subscribe(A.getName("summon"),N));D.$dom.spaui.delegate("#spaui-preview-jackpot","click",F.previewDismiss);D.$dom.spaui.delegate("#spaui-preview-modal","click",F.previewDismiss);D.$dom.spaui.delegate("#spaui-preview-map-feedback","click",F.previewFeedback);D.$dom.spaui.delegate("#spaui-preview-map-dismiss","click",F.previewGetAnswers)},previewMetric:function(a){N&&A.unsubscribe(A.getName("summon"),
N);l.send({from:e.getFrom(),where:a,to:l.getPlace("previewCard"),additionalObj:{isHelpHubGraduationCard:D.preview.isHelpHubGraduationCard}})},previewFadeOut:function(a,b,d){a.preventDefault();a.stopPropagation();F.previewUpdate();l.send({from:e.getFrom(),where:b,to:e.getFrom(),additionalObj:{isHelpHubGraduationCard:D.preview.isHelpHubGraduationCard}});c.$("#spaui-preview-modal").fadeOut(D.preview.fadeOutTime,function(){d&&d()})},previewDismiss:function(a){F.previewFadeOut(a,l.getContext("previewAnywhere"))},
previewFeedback:function(b){F.previewFadeOut(b,l.getContext("previewFeedback"),function(){a.launchFeedback()})},previewGetAnswers:function(a){F.previewFadeOut(a,l.getContext("previewGetAnswers"))},back:function(b){b.preventDefault();a.setTyping(!1);h.goBack(!1)},home:function(a){a&&a.preventDefault();D.$dom.home.hasClass("spaui-home-off")||1<e.getFromLength()&&h.goBack(!0)},pop:function(a){a.preventDefault();k.setPinned(!1);l.send({from:e.getFrom(),to:l.getPlace("popPage"),where:l.getContext("header")});
p.openInNewWindow(e.getPop())},overrideConfig:function(a){D=c.$.extend(!0,{},D,a)}};return{init:F.init,overrideConfig:F.overrideConfig}});(function(){ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history","spaui-content","spaui-shim-initialized").register("spaui-card-manager",function(c,e,l,k,g){var f={cards:{},pluginGroups:{}},m={cards:{},pluginGroups:{}},p={cards:[],name:null,requestCount:0},h={name:null,requestCount:0,requiredParams:[]},b={init:function(a){f=c.$.extend(!0,{},m);a.forEach(function(a){b.validate(a)&&
b.addNewConfiguration(a)})},validate:function(a){return e.isString(a.name)?e.isString(a.pluginGroup)?c.$.isArray(a.requiredParams)?f.cards[a.name]!==C?(b.logCreationError(a,"Duplicate card name specified. Card names must be globally unique"),!1):!0:(b.logCreationError(a,"Required parameters are not specified. All cards must have at least an empty list of required arguments to signify what arguments are required for fetching the contents of that card"),!1):(b.logCreationError(a,"Plugin Group is not specified or is not a String. All cards must have a plugin group to associate them with for identification purposes"),
!1):(b.logCreationError(a,"Name is not specified or is not a String. All cards must have a unique name specified for identification purposes"),!1)},addNewConfiguration:function(a){var d=c.$.extend({},h,a);d.linkProcessRegex&&(d.linkProcessRegex=new RegExp(d.linkProcessRegex));f.cards[a.name]=d;f.pluginGroups[d.pluginGroup]?b.addToPluginGroup(d):b.addNewPluginGroup(d)},addToPluginGroup:function(a){f.pluginGroups[a.pluginGroup].cards.push(a)},addNewPluginGroup:function(a){a=c.$.extend({},p,{name:a.pluginGroup,
cards:[a]});f.pluginGroups[a.name]=a},logCreationError:function(a,d){b.logError("Error creating configuration for "+b.getConfigurationString(a)+" | "+d)},logCardError:function(a,d){b.logError(b.getConfigurationString(a)+" | "+d)},logMissingArguments:function(a,d){b.logCardError(d,"missing arguments: "+JSON.stringify(a))},logError:function(a){console.error(a)},getConfigurationString:function(a){return"Name: ["+a.name+"] - Plugin Group: ["+a.pluginGroup+"]"},processesLink:function(a){for(var d=a.attr("href"),
c=Object.entries(f.cards),e=0;e<c.length;e++){var g=c[e],h=g[1];if(h.linkProcessRegex&&h.linkProcessRegex.test(d))return{processable:!0,card:g[0],args:b.getAllArgumentsFrom(a,h.linkProcessRegex,h.capturingRegexGroups)}}return{processable:!1}},getAllArgumentsFrom:function(a,d,e){var f=a.attr("href").split("?"),g=b.getArgumentsFromGetParams(1<f.length?f[1]:"");d=b.getCapturedArgs(f[0],d,e);return c.$.extend({},g,d,a.data())},getArgumentsFromGetParams:function(a){if(0===a.length)return{};var b={};a.split("\x26").forEach(function(a){a=
decodeURI(a).split("\x3d");b[a[0]]=1<a.length?a[1]:!0});return b},getCapturedArgs:function(a,b,c){var f=b.exec(a),g={};if(!f||!e.isObject(c))return g;Object.keys(c).forEach(function(a){var b=f[a];b&&(g[c[a]]=b)});return g},getCardEndpoint:function(a,b,f){b=e.formatObjectAsUrlParams(c.$.extend({},b,{cardRequestCount:a.requestCount,pluginRequestCount:f.requestCount}));return a.endPoint+"?"+b},isPostMethodCard:function(a){return"POST"===a?!0:!1},onCardLoadComplete:function(a,d,e,f){e=c.$.extend({from:k.getFrom(),
where:a.name},e,{to:a.name});l.send(e);null!==f.isError&&!0===f.isError?b.logError("Failed to load card with name "+a.name+" details : "+JSON.stringify(f)):(a.requestCount++,d.requestCount++)},placeCard:function(a,d,e){return b.validateSingleCardAndCall(a,d,function(a,f){g.placeEndpoint(a.name,b.getCardEndpoint(a,d,f),c.$.proxy(b.onCardLoadComplete,null,a,f,e),a.withScripts,b.isPostMethodCard(a.method));return!0})},validateSingleCardAndCall:function(a,d,c){if(!b.cardExists(a))return b.logError("Card with name "+
a+" does not exist but was requested from the card manager."),!1;a=b.getCard(a);var e=b.getPluginGroup(a);return b.allRequiredArgumentsPresent(a,d)?c(a,e):!1},placeCards:function(a,d){e.isObject(d)||(d={});var c=[];a.forEach(function(a){a=b.getContentForCard(a,d[a]);e.isString(a)&&0<a.length&&c.push(a)});return 0<c.length},getContentForCard:function(a,d){return b.validateSingleCardAndCall(a,d,function(){return"Content"})},cardExists:function(a){return!!f.cards[a]},getCard:function(a){return f.cards[a]},
getPluginGroup:function(a){return f.pluginGroups[a.pluginGroup]},allRequiredArgumentsPresent:function(a,d){if(0===a.requiredParams.length)return!0;if(!e.isObject(d))return b.logMissingArguments(a.requiredParams,a),!1;var c=Object.keys(d);d=a.requiredParams.filter(function(a){return!c.includes(a)});return 0<d.length?(b.logMissingArguments(d,a),!1):!0},getCardConfigurations:function(){return c.$.extend(!0,{},f.cards)},getPluginGroups:function(){return c.$.extend(!0,{},f.pluginGroups)}};return{init:b.init,
processesLink:b.processesLink,placeCard:b.placeCard,placeCards:b.placeCards,getCardConfigurations:b.getCardConfigurations,getPluginGroups:b.getPluginGroups}})})();ASPP.when("ASPA","spaui-content","spaui-state","spaui-events-external-hook","spaui-instance","spaui-session").register("spaui-chat",function(c,e,l,k,g,f){var m,p={enabled:!1,endpoint:"/help/assist/chat",templateId:C,isDebugMode:!1,rejoinArgs:{},transitionTime:200,chatSavingEnabled:!1},h={init:function(){var b=c.state("spaui-chat-state");
if(b!==C){p.templateId=b.chatTemplateId;p.isDebugMode="true"===b.debugMode;if(p.templateId===C)throw"Chat did not initiate properly with missing template.";p.enabled=!0;p.rejoinArgs=b.rejoinArgs;p.chatSavingEnabled="true"===b.chatSavingEnabled}},initialState:function(){if(h.isRejoinState("REJOIN")){var b=f.getSpauiChatId(),a=g.getSpauiChatId();b&&b===a&&h.startChat(p.rejoinArgs)}},isRejoinState:function(b){return!!p.rejoinArgs&&p.rejoinArgs.rejoinStatus===b},isDebugMode:function(){return p.isDebugMode},
isChatSavingEnabled:function(){return p.chatSavingEnabled},startChat:function(b,a){a||(a={});p.enabled&&(k.subscribe("spaui-chat-closed",function(){c.$("#spaui-chat").removeClass("spaui-chat-active")}),e.placeEndpointInLocation("#spaui-chat",h.getUrl(),function(){if(m===C)ASPP.when("spaui-chatwrapper-flow").execute("spaui-chat-ready",function(d){m=d;h.onChatReady(b,a)});else h.onChatReady(b,a)},!0))},onChatReady:function(b,a){c.$("#spaui-chat").addClass("spaui-chat-active");m.initiateChat("#spaui-chat-roller",
{chatTemplateId:p.templateId,isDebugMode:p.isDebugMode,chatSavingEnabled:p.chatSavingEnabled,rejoinArgs:b,maxHeightSelector:"#spaui",exclusionSelectors:["#spaui-head","#spaui-foot"],additionalParams:a})},getUrl:function(){return l.enhanceUrl(p.endpoint)},overrideConfig:function(b){p=c.$.extend(p,b)},checkForRejoinableChat:function(){return h.isRejoinState("REJOIN")}};return{init:h.init,initialState:h.initialState,isDebugMode:h.isDebugMode,isChatSavingEnabled:h.isChatSavingEnabled,startChat:h.startChat,
overrideConfig:h.overrideConfig,isChatActive:h.checkForRejoinableChat}});(function(){ASPP.register("spaui-constants",function(){return(Object.freeze||function(){})({ATHENA_SELF_CLIENT:"SXAthena"})})})();ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-util","spaui-events","spaui-shim","spaui-session","spaui-help","spaui-overlay","spaui-state","spaui-ui","spaui-instance","spaui-help-hub-v2-util").register("spaui-contact-deflection",function(c,e,l,k,g,f,m,p,h,b,a,d,r,n){var x=
k.getPageType("getSupportCard"),y=null,w=!1,q=null,B=[k.getPageType("getSupportCard"),k.getPageType("helpTopic")],t=/contact-us/,E=/help\/hub/,A=!1,J=null,I,z,v={init:function(a,b){y=r.getDeflectionCardVisitId();A=b;v.hydrate(a);v.bind()},hydrate:function(a){J=a;I=c.$("#spaui-templates #spaui-template-getSupportCard");z=a.find("#spaui-foot-contact")},bind:function(){A?v.rebindHelpHub():v.isActive()&&(v.rebindContactUs(),v.delegateBind(),f.subscribe(f.getName("newPage"),v.handleNewPage),f.subscribe(f.getName("summon"),
v.handleSummon),f.subscribe(f.getName("dismissed"),v.handleDismiss))},className:function(a){return".spaui-get-support-card-"+a},rebindContactUs:function(){var a=I.find(v.className("header-title")).text(),b=z.find(".spaui-footer-icon");z.text(a);z.append(b);z.removeAttr("href");z.attr("title",a.trim())},isOnHelpHub:function(){return a.isOnUrl(E)},rebindHelpHub:function(){var a=z.find(".spaui-footer-icon");n.updateText(z);z.append(a);n.rebindSupportLink(z,e.getContext("footer"));v.isOnHelpHub()&&d.hideContactUsButton()},
delegateBind:function(){J.delegate(".spaui-open "+v.className("item-header"),"click",v.handleClose);J.delegate(".spaui-closed "+v.className("item-header"),"click",v.handleOpen);J.delegate(v.className("item")+" a","click",v.handleLinkClick)},handleClose:function(a){v.transition(a,"spaui-open","spaui-closed","setItemCollapsed")},handleOpen:function(a){v.transition(a,"spaui-closed","spaui-open","setItemExpanded")},transition:function(a,b,d,f){a.preventDefault();a=c.$(a.currentTarget);a=v.nearestItem(a);
a.removeClass(b);a.addClass(d);b=a.attr("id");f={from:l.getFrom(),where:e.getContext("getSupportCardItem"),to:f,additionalObj:{itemId:b}};v.appendVisitAndSendMetrics(f)},handleNewPage:function(a){q=a.type;a.type===x?J.addClass("spaui-footer-hidden"):J.removeClass("spaui-footer-hidden");v.determineVisitId(a.type)},handleSummon:function(){w=!0;q&&v.determineVisitId(q)},handleDismiss:function(){w=!1;v.clearVisitId()},determineVisitId:function(a){w&&(B.includes(a)||v.clearVisitId())},handleLinkClick:function(f){var k=
f.currentTarget.href,n=g.getTopicIDFromLink(k),m=g.contains(k,t),x={from:l.getFrom(),where:e.getContext("content")},q={groupId:v.getGroupId(c.$(f.currentTarget))};b.removeOverlay();r.setContactUsLinkClicked(!0);n!==C?(f.preventDefault(),q=c.$.extend(q,{articleId:n}),x.additionalObj=q,v.appendVisitId(x),h.displayHelpTopic(n,k,x),g.executeIf(g.isSellerULink,function(a){e.send(c.$.extend(x,{to:e.getTopic()+a}))})(n)):(p.setPinned(!1),n="launch-unknownPage",m&&(n="launch-contactUs",a.isOnUrl(t)&&v.isNotDeepLink(k)&&
(f.preventDefault(),p.isLargeSize()&&d.makeSmall(),d.banisher({where:e.getContext("getSupportCardItem")}))),v.fillLinkMetricsObject(x,n,k,q),v.appendVisitAndSendMetrics(x))},isNotDeepLink:function(a){return g.getPathArguments(a).categoryId===C},fillLinkMetricsObject:function(a,b,d,e){e=c.$.extend(e,{url:d});a.additionalObj=e;a.to=b},getGroupId:function(a){return v.nearestItem(a).attr("id")},nearestItem:function(a){return a.closest(v.className("item"))},isActive:function(){return!A&&0<I.length},isVisiting:function(){return null!==
r.getDeflectionCardVisitId()},displayDeflectionCard:function(a,b){var c={from:l.getFrom(),where:a,to:e.getPlace("getSupportCard")};b!==C&&(c.additionalObj={summoned:b});k.placeTemplate(x,function(){v.appendVisitAndSendMetrics(c);b&&!p.getPinned()&&d.summoner({external:!1})})},appendVisitAndSendMetrics:function(a){v.appendVisitId(a);e.send(a)},appendVisitId:function(a){var b=c.$.extend(a.additionalObj,v.getVisitIdObj());a.additionalObj=b},getVisitIdObj:function(){null===y&&v.generateNewVisitId();return{visitId:y}},
clearVisitId:function(){y=null;r.setDeflectionCardVisitId(null);r.setContactUsLinkClicked(!1)},generateNewVisitId:function(){var a=g.getUid();y=a;r.setDeflectionCardVisitId(a)},initialState:function(){v.isActive()&&v.shouldAutoSummon()&&(p.setTopicID(C),v.displayDeflectionCard("contactUsAutoSummon",!0),b.createFullscreenOverlay())},shouldAutoSummon:function(){var b=!0===I.data("weblab-auto-summon"),d=a.isOnUrl(t),c=a.isParamPresent("categoryId"),e=r.getContactUsLinkClicked();d||r.setContactUsLinkClicked(!1);
return b&&d&&!c&&!e}};return{init:v.init,isActive:v.isActive,isVisiting:v.isVisiting,displayDeflectionCard:v.displayDeflectionCard,initialState:v.initialState}});ASPP.when("ASPA","spaui-util","spaui-history","spaui-session","spaui-metrics","spaui-ui","spaui-theming","spaui-events","spaui-events-external-hook","spaui-ajax","spaui-templates").register("spaui-content",function(c,e,l,k,g,f,m,p,h,b,a){function d(){return c.$.extend({},K)}var r,n,x,y,w,q,B,t,E,A,J=null,I=0,z=0,v={},H={templateRequestId:-1,
animation:{visible:!1,active:!1,contentFadeInTime:300,distance:410,backAnimateTime:50,fbConfirmTime:2E3,resizeDuration:250,resizePercentage:.4,closeAffordance:{delay:1E3,fade:1250}},bind:!0,template:{next:'\x3cdiv id\x3d"spaui-next"\x3e\x3c/div\x3e',prev:'\x3cdiv id\x3d"spaui-prev"\x3e\x3c/div\x3e',current:'\x3cdiv id\x3d"spaui-inner-content" class\x3d"spaui-new spaui-hide"\x3e\x3c/div\x3e',loadingAnimation:'\x3cdiv id\x3d"scroll-loader" class\x3d"scroll-loader"\x3e\x3cdiv class\x3d"spaui-content-loading"\x3e\x3c/div\x3e\x3c/div\x3e'},
url:null,sellerUniIds:null,javascriptWhitelistIds:null,specialTitleBarActiveClass:"spaui-special-title-bar-active",pageTypes:{alerts:"alerts",browseAllHelp:"browseAllHelp",getSupportCard:"getSupportCard",error:"error",feedback:"feedback",forums:"forums",helpTopic:"helpTopic",info:"info",loading:"loading",search:"search",notificationCard:"notificationCard",notificationCardCategory:"notificationCardCategory",chat:"chat",selfServiceCard:"selfServiceCard",workflow:"workflow",directAnswerCard:"directAnswerCard"},
HELP_URL_PATH:"/gp/help/",TIME_BEFORE_REVERTING_BACK_MS:18E4},K={backButton:!0,feedbackLink:!0,resetTopic:!0,homeButton:!0},O={alerts:d(),browseAllHelp:d(),error:d(),forums:d(),search:d(),loading:d(),notificationCard:d(),notificationCardCategory:d(),chat:d(),workflow:d(),getSupportCard:c.$.extend({},K,{backButton:!1}),feedback:c.$.extend({},K,{feedbackLink:!1}),helpTopic:c.$.extend({},K,{feedbackLink:!1,resetTopic:!1}),info:c.$.extend({},K,{backButton:!1,homeButton:!1}),selfServiceCard:c.$.extend({},
K,{backButton:!1,homeButton:!1}),directAnswerCard:d()},u={init:function(a,b,d,c){u.hydrate(a);u.bind();H.url=b;H.sellerUniIds=d||[];H.javascriptWhitelistIds=c||[]},hydrate:function(a){c.$(G);r=a;n=a.find("#spaui-panel");x=a.find("#spaui-content");a.find("#spaui-inner-content");y=a.find("#spaui-home");w=a.find(".spaui-head-controls-pop");a.find("#spaui-foot-browse");q=a.find("#spaui-content-ui");B=a.find("#spaui-content-ui-back");t=a.find("#spaui-content-ui-feedback-text");E=a.find(".spaui-footer-forum");
A=a.find("#spaui-special-title-bar-container")},bind:function(){p.subscribe(p.getName("summon"),u.onAthenaSummoned);c.$(G).unload(u.onPageUnload)},initialState:function(){u.hideUI(!0);t.show();var a=u.getPageType("info");u.setPage(a);p.publish(p.getName("newPage"),{type:a});a=k.getTimeSellerViewingArticle();null!==a&&(new Date).getTime()-a>H.TIME_BEFORE_REVERTING_BACK_MS&&(k.revertSellerToInfoCard(),k.setTimeSellerViewingArticle(null))},overrideConfig:function(a){c.$.extend(H,a)},prepNext:function(){var a=
x.find("#spaui-next");if(!(0<a.length)){var b=c.$("#spaui-inner-content");u.setPage(u.getPageType("loading"));l.pushScroll(b.scrollTop());x.append(H.template.next);a=x.find("#spaui-next");a.css("height",x.height()+"px");a.animate({right:"+\x3d"+H.animation.distance},50,function(){b.scrollTop(0)})}},capturePayloadAndCallPlace:function(a,b,d){if(!c.$.isPlainObject(a))throw"First argument must be a plain object of the page details";return function(c){a.content=c.data;a.errorStatus=c.errorStatus;b(a,
d)}},refreshContent:function(a,b){l.pushDom(e.gebi("spaui-inner-content").innerHTML);c.$("#spaui-inner-content").remove();x.append(H.template.current);a instanceof c.$?c.$("#spaui-inner-content").append(a):b?c.$("#spaui-inner-content").html(a):e.gebi("spaui-inner-content").innerHTML=a},fadeContentIn:function(a,b,d){u.fadeCommon(a,b,d,function(){l.update({to:u.getMetricPlaceFromDetails(a)})})},fadeContentInAsHome:function(a,b,d){u.fadeCommon(a,b,d,function(){l.overrideHome(u.getMetricPlaceFromDetails(a))})},
fadeCommon:function(a,b,d,e){var f=c.$("#spaui-inner-content"),g=a.type;f.fadeIn(H.animation.contentFadeInTime,function(){c.$("#spaui-next").remove();f.removeClass("spaui-hide");f.removeClass("spaui-new");u.isErrorDom(a.content)&&(k.revertSellerToInfoCard(),a.isPlatformError=!0,a.attemptedType=a.type,a.type=u.getPageType("platformError"),d.isPlatformError=!0,"directAnswerCard"===a.attemptedType&&(p.publish(p.getName("directAnswerFailedToLoad")),h.publish(p.getName("directAnswerFailedToLoad"))));u.showUI(g,
b,d);e();f.focus()})},isErrorDom:function(a){return 0<c.$(a).find("#spaui-error").length},displaySpecialTitleBar:function(a){A.append(a);r.addClass(H.specialTitleBarActiveClass)},removeSpecialTitleBar:function(){A.empty();r.removeClass(H.specialTitleBarActiveClass)},getFailed:function(a,b){var d={errorDetails:e.getErrorDetailsFromAjaxResponse(a.content,a.errorStatus),isError:!0};l.pushPop("");u.refreshContent(e.gebi("spaui-template-error-client").innerHTML);a.attemptedType=a.type;a.type=u.getPageType("error");
u.fadeContentIn(a,b,d)},getPageType:function(a){return H.pageTypes[a]},hideBackBar:function(){q.hide();n.addClass("spaui-hidden-backbar")},hideUI:function(a){u.clearAllInFlightRequests();w.removeClass("spaui-shown");m.isFeedbackDisabledOnInfoCard()&&u.hideBackBar();u.removeSpecialTitleBar();E.removeClass("spaui-active");B.hide();t.hide();y.addClass("spaui-home-off");u.publishEventForLeavingPage(a)},showUI:function(a,b,d){q.show();n.removeClass("spaui-hidden-backbar");var c=u.getPageConfig(a);if(null===
c){d="Page not supported: "+a;if(b){b({isError:!0,error:d});return}throw d;}(e.isNull(c.homeButton)||c.homeButton)&&y.removeClass("spaui-home-off");c.resetTopic&&k.setTopic(null);c.backButton?B.show():B.hide();c.feedbackLink?t.show():t.hide();"info"===c.type&&m.isFeedbackDisabledOnInfoCard()&&u.hideBackBar();"helpTopic"===c.type&&(w.toggleClass("spaui-shown",!(d&&d.isPlatformError)),k.setTimeSellerViewingArticle((new Date).getTime()));a=u.getPageDetails(c);a.wentBack=d?d.wentBack:!1;u.setPage(a.type);
b(d);p.publish(p.getName("newPage"),a);(new Date).getTime();f.contentChanged()},externalShowUI:function(a,b){b===C&&(b=function(){});u.showUI(u.mapMetricsPlaceToPage(a),b)},prepElement:function(a,b,d){u.hideUI();u.prepNext();u.placePage(u.getDetails(b,a),d)},prepEndpoint:function(a,b,d,e,f,g,h){h=h&&c.$.isFunction(h)?u.wrapWithFilter(u.placePage,h):u.placePage;u.prepEndpointAsFullCardGeneric(a,b,d,e,f,g,h)},prepEndpointAsHome:function(a,b,d,e,f,g,h){h=h&&c.$.isFunction(h)?u.wrapWithFilter(u.placePageAsHome,
h):u.placePageAsHome;u.prepEndpointAsFullCardGeneric(a,b,d,e,f,g,h)},prepEndpointAsFullCardGeneric:function(a,b,d,e,f,g,h,n){u.hideUI();u.prepNext();a=c.$.extend({},n,u.getDetails(a,null));a.withScripts=e;u.ajax(b,f,g,u.capturePayloadAndCallPlace(a,h,d),u.capturePayloadAndCallPlace(a,u.getFailed,d))},getTemplateContents:function(b,d,c){try{return a.retrieve("spaui-template-"+b,c)}catch(e){d({isError:!0,error:"Template '"+b+"' does not exist",errorDetails:e})}},prepTemplate:function(a,b,d){u.hideUI();
u.prepNext();(d=u.getTemplateContents(a,b,d))&&u.placePage(u.getDetails(a,d.html()),b)},prepEndpointInLocation:function(a,b,d,e,f,g){u.prepEndpointGeneric(a,function(b){var d=c.$(a);e?d.html(b):d[0].innerHTML=b},b,d,f,g)},prepEndpointAsAppend:function(a,b,d,f,g){u.prepEndpointGeneric("#spaui-inner-content",function(a){d?c.$("#spaui-inner-content").append(a):e.gebi("spaui-inner-content").innerHTML+=a},a,b,f,g)},prepEndpointGeneric:function(a,b,d,f,g,h){c.$(a).append(H.template.loadingAnimation);u.createInFlightRequest();
u.ajax(d,g,h,c.$.proxy(function(d,e){u.isInFlightRequestIdActive(d)&&(u.clearInFlightRequest(d),c.$(a).find("#scroll-loader").remove(),b(e.data),p.publish(p.getName("newContentOnPage")),f(!0))},null,z),function(a){f(!1,e.getErrorDetailsFromAjaxResponse(a.data,a.errorResponse))});z++},wrapWithFilter:function(a,b){return function(){b.apply(null,arguments)&&a.apply(null,arguments)}},ajax:function(a,d,c,e,f){d=d?b.post:b.get;if(null===c||c===C)c={};d(a,c,e,f)},getDetails:function(a,b){return{type:a,content:b,
requestId:++I}},placePage:function(a,b){u.placePageCommon(a,b,u.fadeContentIn)},placePageAsHome:function(a,b){u.placePageCommon(a,b,u.fadeContentInAsHome)},placePageCommon:function(a,b,d,e){if(a.requestId===I||a.requestId===H.templateRequestId)c.$.isFunction(e)&&e(a),u.refreshContent(a.content,a.withScripts),d(a,b,{})},stripTopicId:function(a){return c.$(a).find(".spaui-help").data("topic")},prepHelpTopicFromTemplate:function(a){var b=u.getTemplateContents("preloadedHelp",a);if(b){var d=u.stripTopicId(b),
c=u.getSimpleUrl(d),b={type:u.getPageType("helpTopic"),topicId:d,content:b.innerHTML,simpleUrl:c,url:c,requestId:H.templateRequestId};u.placeHelpTopic(b,a)}},getSimpleUrl:function(a){return"/gp/help/"+a},prepHelpTopic:function(a,b,d){var c=u.getSimpleUrl(a);e.isNull(b)&&(b=c);if(e.isSellerULink(a))e.openInNewWindow(b),k.setPinned(!1);else{var f=e.getPathArguments(b).language;b={topicId:a,url:b,simpleUrl:c,languageOverride:f};var c=u.isSellerUVideo(b.topicId),g=u.isJavascriptOverride(b.topicId);u.prepEndpointAsFullCardGeneric(u.getPageType("helpTopic"),
u.getHelpTopicUrl(f,a),d,c||g,!1,{},u.placeHelpTopic,b)}},getHelpTopicUrl:function(a,b){b=l.getAthenaUrlPrefix()+"help-content/"+b+"/";return a?b+"?language\x3d"+a:b},removeTags:function(a,b){a=a.getElementsByTagName(b);for(b=0;b<a.length;b++)a[b].remove()},placeHelpTopic:function(a,b){u.placePageCommon(a,b,u.fadeContentIn,function(a){l.pushPop(a.simpleUrl);k.setTopicID(a.topicId);k.setTopicURL(a.url);var b=document.createElement("div");b.innerHTML=a.content;u.removeTags(b,"meta");a.withScripts||
u.removeTags(b,"script");b=c.$("\x3cdiv\x3e\x3c/div\x3e").append(b.innerHTML).html();a.content=b;u.isSellerUVideo(a.topicId)&&f.makeLarge()})},isSellerUVideo:function(a){return u.isMemberOf(a,H.sellerUniIds)},isJavascriptOverride:function(a){return u.isMemberOf(a,H.javascriptWhitelistIds)},isMemberOf:function(a,b){a=parseInt(a,10);return-1!==b.indexOf(a)},prepFeaturedAndPredictive:function(a){var d=c.$("#spaui-featured-content-results"),f=c.$("#spaui-predictive-help"),g=d.height()+f.height(),d=d.add(f),
h=!1,n=null,k=null;c.$("#spaui-inner-content").append('\x3cdiv id\x3d"spaui-featured-content-predictive-help-loading" class\x3d"spaui-featured-content-predictive-help-loading spaui-new" style\x3d"top:-'+g+"px;height:"+g+'px;"\x3e\x3c/div\x3e');g=c.$("#spaui-featured-content-predictive-help-loading");d.css("display","none");g.css("top","0px");d.remove();var g=function(b){b=e.getErrorDetailsFromAjaxResponse(b.data,b.errorResponse);a(!1,b)},d=G.location.pathname,f=G.location.hash,t=c.$("title").text(),
d="?pageUrl\x3d"+d+"\x26pageHash\x3d"+encodeURIComponent(f)+"\x26pageTitle\x3d"+t;b.get(l.getAthenaUrlPrefix()+"featured-content"+d,{},function(b){k=b.data;h?u.placeFeaturedAndPredictive(k+n,a):h=!0},g);b.get(l.getAthenaUrlPrefix()+"predictive-help"+d,{},function(b){n=b.data;h?u.placeFeaturedAndPredictive(k+n,a):h=!0},g)},placeFeaturedAndPredictive:function(a,b){c.$("#spaui-inner-content").append(a);a=c.$("#spaui-featured-content-predictive-help-loading");var d=c.$("#spaui-predictive-help"),e=a.height();
d.css("position","relative");d.css("top","-"+e+"px");a.css("display","none");d.css("top","0px");a.remove();c.$("#spaui-inner-content").focus();b(!0)},placeContentAfterHelpArticle:function(a){r.find("#spaui-content .spaui-help").after(a)},placeContentBeforeSelector:function(a,b){r.find(a).before(b)},goBack:function(a){u.hideUI();x.prepend(H.template.prev);var b=c.$("#spaui-prev");b.css("height",x.height()+"px");b.animate({right:"-\x3d"+H.animation.distance},H.animation.backAnimateTime,function(){u.revealPreviousContent(a)})},
revealPreviousContent:function(a){l.popPop();c.$("#spaui-inner-content").remove();x.append(H.template.current);a&&l.prepForHome();e.gebi("spaui-inner-content").innerHTML=l.popDom();var b=c.$("#spaui-inner-content");b.fadeIn(H.animation.contentFadeInTime,function(){c.$("#spaui-prev").remove();b.removeClass("spaui-hide");b.removeClass("spaui-new");b.focus();b.scrollTop(l.popScroll());var d=l.getTo(),e=l.getFrom();l.update({isBack:!0});u.showUI(u.mapMetricsPlaceToPage(d),function(){},{wentBack:!0});
g.send({from:e,where:a?g.getContext("navHome"):g.getContext("navBack"),to:d})})},onAthenaSummoned:function(){(new Date).getTime()},onPageUnload:function(){u.publishEventForLeavingPage()},publishEventForLeavingPage:function(a){a||(a=u.mapMetricsPlaceToPage(l.getFrom()),e.isNull(a)&&(a=l.getFrom()),a=u.getPageDetails(u.getPageConfig(a)),p.publish("leavingPage",a))},setPage:function(a){J=a},getPage:function(){return J},getPageDetails:function(a){var b={type:a.type};"helpTopic"===a.type&&(b.topicId=k.getTopicID());
return b},verifyAllPageConfig:function(){var a=["error","loading"];Object.keys(O).forEach(function(b){if(-1===a.indexOf(b)){var d=u.getPageConfig(b);if(d.type!==b)throw"Invalid lookup of page configuration for page "+b;if(u.mapMetricsPlaceToPage(u.getMetricPlaceFromDetails(d))!==b)throw"Invalid page detail to metric mapping for page "+b;}})},getPageConfig:function(a){var b=null;if(e.isNull(a))return b;b=O.hasOwnProperty(a)?O[a]:d();b.type=a;return b},mapMetricsPlaceToPage:function(a){var b={};b[g.getPlace("alerts")]=
u.getPageType("alerts");b[g.getPlace("notificationCard")]=u.getPageType("notificationCard");b[g.getPlace("notificationCardCategory")]=u.getPageType("notificationCardCategory");b[g.getPlace("browse")]=u.getPageType("browseAllHelp");b[g.getPlace("getSupportCard")]=u.getPageType("getSupportCard");b[g.getPlace("feedback")]=u.getPageType("feedback");b[g.getPlace("info")]=u.getPageType("info");b[g.getPlace("search")]=u.getPageType("search");b[g.getPlace("forums")]=u.getPageType("forums");b[g.getPlace("chat")]=
u.getPageType("chat");b[g.getPlace("selfServiceCard")]=u.getPageType("selfServiceCard");b[g.getPlace("directAnswerCard")]=u.getPageType("directAnswerCard");b[g.getPlace("workflow")]=u.getPageType("workflow");var d=null;b.hasOwnProperty(a)?d=b[a]:(a.substr(0,5)===g.getTopic()&&(d=u.getPageType("helpTopic")),"error-"===a.substr(0,6)&&(d=u.getPageType("error")));return d},getMetricPlaceFromDetails:function(a){var b={};b[u.getPageType("alerts")]=g.getPlace("alerts");b[u.getPageType("notificationCard")]=
g.getPlace("notificationCard");b[u.getPageType("notificationCardCategory")]=g.getPlace("notificationCardCategory");b[u.getPageType("browseAllHelp")]=g.getPlace("browse");b[u.getPageType("getSupportCard")]=g.getPlace("getSupportCard");b[u.getPageType("feedback")]=g.getPlace("feedback");b[u.getPageType("forums")]=g.getPlace("forums");b[u.getPageType("info")]=g.getPlace("info");b[u.getPageType("search")]=g.getPlace("search");b[u.getPageType("chat")]=g.getPlace("chat");b[u.getPageType("selfServiceCard")]=
g.getPlace("selfServiceCard");b[u.getPageType("directAnswerCard")]=g.getPlace("directAnswerCard");b[u.getPageType("workflow")]=g.getPlace("workflow");var d=null;b.hasOwnProperty(a.type)?d=b[a.type]:a.type===u.getPageType("helpTopic")?d=g.getTopic()+a.topicId:a.attemptedType?(b=c.$.extend({},a,{type:a.attemptedType}),a.type===u.getPageType("error")&&(d="error-"+u.getMetricPlaceFromDetails(b)),a.type===u.getPageType("platformError")&&(d="error-platform-"+u.getMetricPlaceFromDetails(b))):d=a.type;return d},
createInFlightRequest:function(){v[z]={active:!0}},isInFlightRequestIdActive:function(a){return v[a]!==C},clearInFlightRequest:function(a){delete v[a]},clearAllInFlightRequests:function(){v={}},getContentPane:function(){return r.find("#spaui-inner-content")}};return{displaySpecialTitleBar:u.displaySpecialTitleBar,getPageType:u.getPageType,getPage:u.getPage,placeContentAfterHelpArticle:u.placeContentAfterHelpArticle,placeContentBeforeSelector:u.placeContentBeforeSelector,placeElement:u.prepElement,
placeEndpoint:u.prepEndpoint,placeEndpointAsHome:u.prepEndpointAsHome,placeTemplate:u.prepTemplate,placeEndpointAsAppend:u.prepEndpointAsAppend,placeEndpointInLocation:u.prepEndpointInLocation,placeHelpTopic:u.prepHelpTopic,placeHelpTopicFromTemplate:u.prepHelpTopicFromTemplate,placeFeaturedAndPredictive:u.prepFeaturedAndPredictive,goBack:u.goBack,showUI:u.externalShowUI,hideUI:u.hideUI,overrideConfig:u.overrideConfig,initialState:u.initialState,init:u.init,verifyAllPageConfig:u.verifyAllPageConfig,
getContentPane:u.getContentPane}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-util","spaui-content","spaui-state").register("spaui-custom-card",function(c,e,l,k,g,f){var m,p={},h={init:function(b){h.hydrate(b)},hydrate:function(b){m=b},registerCard:function(b,a,d,c,e,f,g,k){a={endpoint:a,placeEndpointFunc:d,onLoadFunc:c,assertContextFunc:e,queryParamsFunc:f,getFilteredCardContextFunc:g,placeWithScriptsEnabled:!!k};h.assertCard(b,a);p[b]||(p[b]=a)},assertCardContext:function(b,a){h.assertCardName(b);
var d=h.getCardConfig(b);if(k.isNull(d))throw"No card found with name: "+b;h.executeIfFunction(d.assertContextFunc,function(){d.assertContextFunc(a)})},assertCard:function(b,a){h.assertCardName(b);if(!k.isString(a.endpoint))throw"Invalid endpoint in cardConfig.endpoint: "+a.endpoint;if(k.isNull(a.placeEndpointFunc)||!c.$.isFunction(a.placeEndpointFunc))throw"Invalid placeEndpointFunc in cardConfig.placeEndpointFunc: ";},assertCardName:function(b){if(k.isNull(b)||!k.isString(b))throw"Invalid Card name: "+
b;},getCardConfig:function(b){return p[b]},getCardContext:function(b,a,d){var e=h.getCardConfig(b);h.executeIfFunction(e.getFilteredCardContextFunc,function(){a=e.getFilteredCardContextFunc(a)});return c.$.extend({clientId:d},a)},getCardEndpoint:function(b,a){var d="";h.executeIfFunction(b.queryParamsFunc,function(){d=k.formatObjectAsUrlParams(b.queryParamsFunc(a))});return l.getAthenaUrlPrefix()+b.endpoint+"?requestId\x3d"+e.incrementChildRequestId()+d},navBackHome:function(){1<l.getFromLength()&&
g.goBack(!0)},executeIfFunction:function(b,a){if(c.$.isFunction(b))return a(arguments)},safeCallback:function(b,a,d,c){h.executeIfFunction(b,function(){b(a,d,c)})},setCardAsHome:function(b,a,d,c,e){h.assertCardContext(b,a);h.navBackHome();h.setCard(b,a,d,c,e)},setCard:function(b,a,d,c,e){h.assertCardContext(b,a);var g=h.getCardContext(b,a,d),k=h.getCardConfig(b);a=h.getCardEndpoint(k,g);k.placeEndpointFunc(b,f.enhanceUrl(a),function(a){if(!0===a.isError)h.safeCallback(e,a,g,Error("Unable to load card: "+
b+" with error: "+a.errorDetails));else try{h.executeIfFunction(k.onLoadFunc,function(){k.onLoadFunc(m,g)}),h.safeCallback(c,a,g)}catch(d){h.safeCallback(e,a,g,d)}},k.placeWithScriptsEnabled)}};return{init:h.init,register:h.registerCard,setCardAsHome:h.setCardAsHome,setCard:h.setCard}});ASPP.when("ASPA","spaui-metrics","spaui-history").register("spaui-external-metrics",function(c,e,l){var k={register:function(e,f){console.warn("spaui-external-metrics is deprecated. Migrate to spaui-external-metrics-v2 as soon as possible.");
if(e)return c.$.proxy(k.handle,null,e,f);throw"Register must be given a string to identify your widget or team using our API.";},handle:function(c,f,k,p){f={from:f?"cid-"+f:l.getFrom(),where:c,to:k};p&&(f.additionalObj=p);try{e.validate(f),e.send(f)}catch(h){throw"Error sending metric for '"+c+"': "+h;}}};return{register:k.register}});ASPP.when("ASPA","spaui-shim","spaui-events","spaui-events-external-hook","spaui-util","spaui-metrics","spaui-history","spaui-expand","spaui-session","spaui-state",
"spaui-content","spaui-predictive","spaui-alert-util","spaui-async","spaui-search-state").register("spaui-direct-answer",function(c,e,l,k,g,f,m,p,h,b,a,d,r,n,x){var y,w=[],q={init:function(a){y=a;q.flushPersistedDA();q.bindEvents()},bindEvents:function(){l.subscribe(l.getName("newPage"),q.handleNewPage);l.subscribeToAllAsyncModuleEvents(n.COMPLETED_EVENT,q.handleAsyncLoad);l.subscribe(l.getName("dismissed"),q.handleDismissal);y.delegate("a","click",q.handleAthenaLinkClick);y.delegate(".spaui-direct-answer:not(.spaui-da-metrics-ignore)",
"click",q.interactWithDirectAnswer);y.delegate(".spaui-direct-answer:not(.spaui-da-metrics-ignore) "+p.selectors.collapsedElementHeader,"click",q.expand);y.delegate(".spaui-direct-answer:not(.spaui-da-metrics-ignore) "+p.selectors.expandedElementHeader,"click",q.collapse)},handleAsyncLoad:function(){q.scanForDirectAnswer(function(a,b){a=c.$(b);return!q.wasScanned(a)})},handleNewPage:function(){h.clearPersistentDA();q.scanForDirectAnswer(function(){return!0})},handleDismissal:function(){h.clearPersistentDA()},
scanForDirectAnswer:function(a){y.find(".spaui-direct-answer:not(.spaui-da-metrics-ignore)").filter(a).each(function(){var a=c.$(this);q.discoverDirectAnswer(a);q.transformDirectAnswer(a);q.transformCollapsing(a);a.attr("scanned","true")});q.publishEvent("directAnswerLoaded")},wasScanned:function(a){return"true"===a.attr("scanned")},isCategoryDirectAnswerCardId:function(a){return g.startsWith(a,"da-intent-hhtopsolns")},handleAthenaLinkClick:function(a){a=c.$(a.target);var b=!!a.closest(".spaui-direct-answer:not(.spaui-da-metrics-ignore)").length;
b||h.clearPersistentDA();b&&(b=y.find(".spaui-direct-answer:not(.spaui-da-metrics-ignore)").data("direct-answer-id"),q.isCategoryDirectAnswerCardId(b)&&q.publishEvent("categoryLinkClicked",q.getFallbackCTI(a)),q.publishEvent("directAnswerLinkClicked",{from:b,to:a[0].pathname}))},interactWithDirectAnswer:function(a){var b=y.find(".spaui-direct-answer:not(.spaui-da-metrics-ignore)").data("direct-answer-id");a=c.$(a.target);var d=0<y.find("#spaui-search-results .spaui-direct-answer:not(.spaui-da-metrics-ignore)").length;
w.includes(b)||q.adoptDirectAnswer(b,a,d);d&&q.instrument(b,"interacted",a);q.publishEvent("directAnswerInteracted")},discoverDirectAnswer:function(a){var b=0<y.find("#spaui-search-results .spaui-direct-answer:not(.spaui-da-metrics-ignore)").length,d=a.data("direct-answer-id");b&&q.instrument(d,"discovered",a);q.clearAdoptions();q.shouldAdoptImmediately(a)&&q.adoptDirectAnswer(d,a,b)},shouldAdoptImmediately:function(a){return a.hasClass("direct-answer-glance")},transformDirectAnswer:function(a){q.isDirectAnswerTool(a)&&
q.isSearchToolsPresent()&&q.removeToolHeader()},isDirectAnswerTool:function(a){return 0<a.find(".spaui-direct-answer-tools").size()},isSearchToolsPresent:function(){return 0<y.find("#spaui-tools-results").size()},removeToolHeader:function(){y.find("#spaui-tools-results h2").remove()},clearAdoptions:function(){w=[]},adoptDirectAnswer:function(a,b,d){d&&(w.push(a),q.instrument(a,"adopted",b));q.persistDA(b)},instrument:function(a,b,d){a=q.getAdditionalInfo(a,b,d);b={from:m.getFrom(),where:f.getContext("directAnswer"),
to:b,additionalObj:a};f.send(b)},getAdditionalInfo:function(a,b,d){a={id:a,query:x.getSearchQuery()};"discovered"!==b&&"persisted"!==b&&(a.action=d.data("direct-answer-action")||"unspecified");return a},expand:function(a){p.expand(a,q.instrumentExpandCollapse)},collapse:function(a){p.collapse(a,q.instrumentExpandCollapse)},instrumentExpandCollapse:function(a){a={from:m.getFrom(),where:f.getContext("directAnswer"),to:a};f.send(a)},transformCollapsing:function(a){a.find(".spaui-direct-answer-help-collapse").each(function(){p.transformCollapse(c.$(this))})},
persistDA:function(a){var b=a.closest(".spaui-direct-answer:not(.spaui-da-metrics-ignore)");if(b.data("persistence-regex")){a=b[0].outerHTML;b=b.data("persistence-regex");try{h.storePersistentDA({regex:b,html:a})}catch(d){a={from:m.getFrom(),where:f.getContext("directAnswer"),to:"localStorageExceeded"},f.send(a)}}},flushPersistedDA:function(){var e=h.getPersistentDA();e&&(b.isOnUrl(new RegExp(e.regex))&&(a.placeContentBeforeSelector("#spaui-predictive-help, #athena-predictive-help-container",e.html),
e=c.$(".spaui-direct-answer:not(.spaui-da-metrics-ignore)").data("direct-answer-id"),q.instrument(e,"persisted"),d.preventAdoption(),r.hideAllAlerts()),h.clearPersistentDA())},publishEvent:function(a,b){l.publish(l.getName(a),b);k.publish(l.getName(a),b)},getFallbackCTI:function(a){for(var b={c:0,t:0,i:0},d=0;d<a[0].classList.length;++d){var c=a[0].classList[d];if(g.startsWith(c,"fallback-")){var e=c[9],c=c.substring(11);switch(e){case "c":b.c=c;break;case "t":b.t=c;break;case "i":b.i=c}}}a={};a.CTI=
b;return a}};return{init:q.init,isDirectAnswerTool:q.isDirectAnswerTool}});ASPP.when("ASPA","spaui-events","spaui-external-events","spaui-metrics","spaui-history","spaui-util","spaui-session","spaui-content","spaui-discovery","spaui-custom-card").register("spaui-direct-answer-card",function(c,e,l,k,g,f,m,p,h,b){var a,d,r={directAnswerName:"directAnswerName",locale:"locale"},n=p.placeEndpoint,x={},y={init:function(a){b.register("directAnswerCard","athena-get-direct-answer",n,y.onLoad,y.assertContext,
y.queryParams,y.getFilteredCardContext,!0);if(a&&0<y.getDirectAnswer(a).length)y.onLoad(a,{initialization:!0})},onLoad:function(a,b){y.hydrate(a);x=b;y.scanContent()},hydrate:function(b){a=b},getDirectAnswer:function(a){return a.find("#spaui-direct-answer-card .spaui-direct-answer-card-body")},scanContent:function(){d=y.getDirectAnswer(a);if(0<d.length)y.publishMetric("directAnswerCardDiscovered",x);else throw y.publishMetric("directAnswerCardError",x),"No direct answer found with name: "+x[r.directAnswerName];
},publishMetric:function(a,b){var d=k.getContext("directAnswerCard");a=k.getPlace(a);k.send({from:g.getFrom(),where:d,to:a,additionalObj:b})},getFilteredCardContext:function(a){return f.getFilteredObject(a,Object.keys(r))},assertContext:function(a){if(f.isNull(a))throw"Card context can not be null";if(f.isNull(a[r.directAnswerName]))throw"Missing value for "+r.directAnswerName+" in card context: "+JSON.stringify(a);if(!f.isString(a[r.directAnswerName]))throw"Invalid value for "+r.directAnswerName+
" . Value must be string";},queryParams:function(a){var b={directAnswerName:a[r.directAnswerName]};f.isString(a[r.locale])&&(b.locale=a[r.locale]);return b}};return{init:y.init,onLoad:y.onLoad}});ASPP.when("ASPA","spaui-events","spaui-util","spaui-async").register("spaui-discovery",function(c,e,l,k){var g={},f={},m={},p=!1,h={init:function(){e.subscribe(e.getName("newPage"),h.pageStateChanged);e.subscribe(e.getName("summon"),h.summonAthena);e.subscribe(e.getName("dismissed"),h.dismissAthena);e.subscribe(e.getName("leavingPage"),
h.leftPage)},register:function(b,a,d,c){h.addModuleRegistration(b,{module:b,page:a,multiplicity:d,discovered:!1,callback:c});e.subscribeAsyncModuleEvent(b,k.COMPLETED_EVENT,function(){h.asyncModuleLoaded(b)})},registerWithoutAsync:function(b,a,d,c){h.addModuleRegistration(b,{module:b,page:a,multiplicity:d,discovered:!1,callback:c});m[b]=!0},addModuleRegistration:function(b,a){g[b]||(g[b]=[]);g[b].push(a)},asyncModuleLoaded:function(b){m[b]=!0;h.discover()},pageStateChanged:function(b){h.setAllPageStatus(!1);
f[b.type]=!0;h.discover()},leftPage:function(){h.setAllPageStatus(!1)},setAllPageStatus:function(b){Object.keys(f).forEach(function(a){f[a]=b})},summonAthena:function(){p=!0;h.discover()},dismissAthena:function(){p=!1},discover:function(){l.forEachObjectValue(g,h.discoverModuleList)},discoverModuleList:function(b){b.forEach(h.discoverSingleModule)},discoverSingleModule:function(b){p&&f[b.page]&&m[b.module]&&(!b.discovered||b.multiplicity)&&(b.callback(),b.discovered=!0)}};return{init:h.init,register:h.register,
registerWithoutAsync:h.registerWithoutAsync}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-events","spaui-util","spaui-theming","spaui-ajax","spaui-content","spaui-session","spaui-async","spaui-alert-util").register("spaui-eci-widget",function(c,e,l,k,g,f,m,p,h,b,a){var d,r={fadeDuration:400,TIME_AFTER_SUBIMT_TO_HIDE:3E3,VALIDATION_ERROR:"validation_error",SUBMIT_TYPE:"SUBMIT"},n={init:function(a){n.hydrate(a);n.bind(a)},hydrate:function(a){d=c.$("#spaui, #sc-quicklinks-top");r.parentRequestId=
e.getParentRequestId()},bind:function(){n.contentDelegate(".spaui-eci-verify-yes","click",n.getDetailsAndCall(function(a,b){n.submitPhone(a,b,!0)}));n.contentDelegate(".spaui-eci-verify-no","click",n.getDetailsAndCall(n.verifyToChoosePhone));n.contentDelegate(".spaui-eci-submit","click",n.getDetailsAndCall(function(a,b){n.submitPhone(a,b,!1)}));n.contentDelegate(".spaui-eci-remind-me-later","click",n.getDetailsAndCall(n.remindMeLaterClicked,!0))},contentDelegate:function(a,b,c){d.delegate(".spaui-eci-content "+
a,b,c)},getDetailsAndCall:function(b,d){return function(c){d&&c.preventDefault();var e=a.getAlertFromInnerEvent(c),e=a.getAlertDetails(e);b(e.id,n.getEciDom(c.target))}},getEciDom:function(a){return c.$(a).closest(".spaui-eci-content")},registerHandles:function(a){a.simpleRegister(n.isEciAlert,e.getContext("eciNotification"),e.getContext("eciNotification"),{hasMinimizeButton:!0})},isEciAlert:function(a){return 0<a.find(".spaui-eci-content").length},submitPhone:function(a,b,d){var e=b.find(".spaui-eci-choose-phone").data("path").replace(/\{feedbackType\}/,
r.SUBMIT_TYPE),f=n.collectParams(a,b,d),e=e+"?"+g.formatObjectAsUrlParams(f);n.instrumentWithVerify(a,"submitted",d);n.submitToLoading(a,b);m.get(e,{},c.$.proxy(n.submitPhoneSuccess,null,a,b,d),c.$.proxy(n.submitPhoneFailed,null,a,b,d))},remindMeLaterClicked:function(a,b){var d=b.find(".spaui-eci-verify").is(":visible");b=n.collectParams(a,b,d);m.get(l.getAthenaUrlPrefix()+"alert/LATER?ids\x3d"+b.ids+"\x26prid\x3d"+r.parentRequestId,{},function(){n.instrumentWithVerify(a,"remindMeLaterClicked",d)});
n.hide(a)},collectParams:function(a,b,d){a={ids:a,prid:r.parentRequestId,sellerVerifysNumber:d};d?(a.country_prefix="",a.phone=b.find(".spaui-eci-verify-phone").val()):(b=b.find(".spaui-eci-choose-phone"),a.country_prefix=b.find(".spaui-eci-country-prefix").val(),a.phone=b.find(".spaui-eci-phone").val());return a},submitPhoneSuccess:function(a,b,d,c){c.data===r.VALIDATION_ERROR?(n.instrumentWithVerify(a,"validationError",d),n.loadingToValidationFailure(a,b,d)):(n.instrumentWithVerify(a,"submitSuccess",
d),n.loadingToSuccess(a,b))},submitPhoneFailed:function(a,b,d){n.instrumentWithVerify(a,"submitFailed",d);n.loadingToFailure(a,b,d)},verifyToChoosePhone:function(a,b){n.instrument(a,"verifyDenied");b.find(".spaui-eci-verify").fadeOut({duration:r.fadeDuration,complete:function(){b.find(".spaui-eci-choose-phone").show()}})},submitToLoading:function(a,b){b.find(".spaui-eci-choose-phone").hide();b.find(".spaui-eci-verify").hide();b.find(".spaui-eci-validation-failure").hide();b.find(".spaui-eci-submit-failure").hide();
b.find(".spaui-eci-form-loading").show()},loadingToSuccess:function(a,b){b.find(".spaui-eci-form-loading").hide();b.find(".spaui-eci-remind-me-later").hide();b.find(".spaui-eci-submit-success").show();setTimeout(function(){n.hide(a)},r.TIME_AFTER_SUBIMT_TO_HIDE)},hide:function(b){a.hideSingleAlert(b)},showVerifyOrChoose:function(a,b){var d={duration:r.fadeDuration};b?a.find(".spaui-eci-verify").fadeIn(d):a.find(".spaui-eci-choose-phone").fadeIn(d)},loadingToValidationFailure:function(a,b,d){b.find(".spaui-eci-form-loading").hide();
b.find(".spaui-eci-validation-failure").show();n.showVerifyOrChoose(b,d)},loadingToFailure:function(a,b,d){b.find(".spaui-eci-form-loading").hide();b.find(".spaui-eci-submit-failure").show();n.showVerifyOrChoose(b,d)},instrumentWithVerify:function(a,b,d){n.instrument(a,b,{verifying:d})},instrument:function(a,b,d){e.send({from:l.getFrom(),where:e.getContext("eciNotification"),to:b,additionalObj:c.$.extend(d,{eciId:a})})},mockConfig:function(a){c.$.extend(r,a)}};return{init:n.init,mockConfig:n.mockConfig,
registerHandles:n.registerHandles}});(function(){ASPP.when("spaui-external-events","spaui-constants").register("spaui-events-external-hook",function(c,e){return c.register(e.ATHENA_SELF_CLIENT)})})();ASPP.when("ASPA").register("spaui-expand",function(c){var e={collapsed:"spaui-collapsed",expanded:"spaui-expanded",duration:400},l={collapsedElementHeader:".spaui-collapsing."+e.collapsed+" .spaui-collapsingHeader",expandedElementHeader:".spaui-collapsing."+e.expanded+" .spaui-collapsingHeader",template:"#spaui-template-collapsing",
collapsingContent:".spaui-collapsingContent",anyHeader:":header",elementHeader:".spaui-collapsingHeader"},k,g={init:function(){k=c.$(l.template)},expand:function(c,k){var p=g.getCollapsingContentObjectFromClick(c);p.body.slideDown(e.duration,function(){g.changeClass(e.collapsed,e.expanded,p.parent,k)})},collapse:function(c,k){var p=g.getCollapsingContentObjectFromClick(c);p.body.slideUp(e.duration,function(){g.changeClass(e.expanded,e.collapsed,p.parent,k)})},getCollapsingContentObjectFromClick:function(e){e.preventDefault();
e=c.$(e.currentTarget).parent();var g=e.find(l.collapsingContent);return{parent:e,body:g}},changeClass:function(c,e,g,h){g.removeClass(c);g.addClass(e);h(e.replace("spaui-",""))},transformCollapse:function(c){var m=g.findHeader(c);if(!(0>=m.size())){m.detach();var p=k.clone();p.removeAttr("id");p.find(l.elementHeader).prepend(m);p.addClass(e.collapsed);c=c.replaceWith(p);p.find(l.collapsingContent).append(c)}},findHeader:function(c){return c.children(l.anyHeader).first()},overrideConfig:function(f){c.$.extend(e,
f)}};return{init:g.init,expand:g.expand,collapse:g.collapse,transformCollapse:g.transformCollapse,overrideConfig:g.overrideConfig,selectors:l}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-events","spaui-discovery","spaui-async","ready").register("spaui-featured-content",function(c,e,l,k,g,f){var m,p,h={init:function(b){m=b;g.register("featured-content","info",!1,h.instrumentDiscover);k.subscribeAsyncModuleEvent("featured-content",f.COMPLETED_EVENT,h.onload)},onload:function(){h.hydrate()},
hydrate:function(){p=m.find("#spaui-featured-content-results .spaui-search-results")},getTopicIds:function(){var b=[];p.find("li.spaui-search-result a.spaui-search-result-hot").each(function(){var a=c.$(this);b.push(a.data("id"))});return b},instrumentDiscover:function(){var b=h.getTopicIds();e.send({from:l.getFrom(),where:e.getContext("featured"),to:"discovered",additionalObj:{featuredTopicIds:b.join(",")}})}};return{getTopicIds:h.getTopicIds,init:h.init}});ASPP.when("ASPA","spaui-util","spaui-history",
"spaui-metrics","spaui-content","spaui-events","spaui-events-external-hook","spaui-constants","spaui-ui").register("spaui-feedback",function(c,e,l,k,g,f,m,p,h){var b,a,d={active:null,max:1E3,typing:!1,warn:!1,overridenImageSource:C,globalContext:{},currentContext:{},sessionSettings:{}},r={init:function(a){r.hydrate(a);r.bind()},hydrate:function(d){b=d;a=b.find("#spaui-content-ui-back")},bind:function(){b.delegate(".spaui-feedback-link","click",r.giveFeedback);b.delegate("#spaui-feedback-rate-stars",
"hover",r.starsHover);b.delegate(".spaui-feedback-rate-star","hover",r.starHover);b.delegate(".spaui-feedback-rate-star","click",r.starClick);b.delegate("#spaui-feedback-rate-clear","click",r.starClear);b.delegate("#spaui-feedback-comments-textarea","focus",r.fbTextFocus);b.delegate("#spaui-feedback-comments-textarea","keyup",r.fbTextType);b.delegate("#spaui-feedback-comments-cancel","click",r.commentsClear);b.delegate("#spaui-feedback-comments-send","click",r.commentsSend);f.subscribe(f.getName("newPage"),
r.onNewPageEvent)},onNewPageEvent:function(a){a&&a.type&&a.type!==g.getPageType("feedback")&&(d.globalContext.page=a.type)},giveFeedback:function(a){a.preventDefault();r.launchFeedback(p.ATHENA_SELF_CLIENT)},launchFeedback:function(a,b){a=r.transformContext(a);d.sessionSettings=b?b:{};d.currentContext=a;g.placeTemplate("feedback",function(){k.send({from:l.getFrom(),where:k.getContext("navFeedback"),to:k.getPlace("feedback"),additionalObj:r.getAdditionalObj()})},{imageSource:r.getImageSource()})},
getImageSource:function(){var a="https://images-na.ssl-images-amazon.com/images/G/01/athena/img/fb-context.gif";d.overridenImageSource&&(a=d.overridenImageSource);return'\x3cimg src\x3d"'+a+'"/\x3e'},transformContext:function(a){return e.isString(a)?{source:a}:a},getAdditionalObj:function(){return Object.assign({},d.globalContext,d.currentContext)},starsHover:function(a){"mouseenter"===a.type&&(b.find(".spaui-feedback-rate-star").removeClass("on"),b.find("#spaui-feedback-rate-confirm").hide());if("mouseleave"===
a.type)for(b.find(".spaui-feedback-rate-star").removeClass("over"),b.find(".spaui-feedback-rate-text").hide(),d.active&&b.find("#spaui-feedback-rate-confirm").show(),a=1;a<d.active+1;a++)b.find("#spaui-feedback-rate-star"+a).addClass("on")},starHover:function(a){if("mouseenter"===a.type){var d=parseInt(a.currentTarget.id.substr(24),10);b.find("#spaui-feedback-rate-confirm").hide();b.find(".spaui-feedback-rate-text").hide();b.find("#spaui-feedback-rate-text"+d).show();var e;for(e=1;e<d+1;e++)b.find("#spaui-feedback-rate-star"+
e).addClass("over")}"mouseleave"===a.type&&(c.$(a.currentTarget).removeClass("over"),c.$(a.currentTarget).removeClass("on"))},starClick:function(a){d.active=parseInt(a.currentTarget.id.substr(24),10);b.find(".spaui-feedback-rate-star").removeClass("on");b.find(".spaui-feedback-rate-star").removeClass("over");b.find(".spaui-feedback-rate-text").hide();for(a=1;a<d.active+1;a++)b.find("#spaui-feedback-rate-star"+a).addClass("on");b.find("#spaui-feedback-rate-confirm").show();b.find("#spaui-feedback-rate-comments").show();
k.send({from:l.getFrom(),where:k.getContext("rating"),to:k.getPlace("setFbRate"),payloadObj:{feedbackStarRating:d.active},additionalObj:r.getAdditionalObj()});f.publish(f.getName("feedbackSubmitted"));m.publish(f.getName("feedbackSubmitted"))},starClear:function(a){a.preventDefault();b.find("#spaui-feedback-rate-confirm").hide();b.find("#spaui-feedback-rate-comments").hide();d.active=null;b.find(".spaui-feedback-rate-star").removeClass("on");b.find("#spaui-feedback-context").show();k.send({from:l.getFrom(),
where:k.getContext("rating"),to:k.getPlace("setFbClear"),additionalObj:r.getAdditionalObj()})},fbTextFocus:function(){var a=b.find("#spaui-feedback-comments-textarea");a.addClass("active");e.textareaFocusPlaceholderFix(a)},fbTextType:function(a){var c=b.find("#spaui-feedback-comments-counter");a=a.currentTarget.value;d.typing||(c.show(),b.find("#spaui-feedback-comments-buttons").show(),b.find("#spaui-feedback-context").hide(),d.typing=!0);var f=d.max-a.length;1>=f&&(a.substr(0,d.max),f=0);e.toggleClassOnCond(c,
"asp-color-price",21>f);c.text(f)},commentsSend:function(c){c.preventDefault();c=b.find("#spaui-feedback-comments-textarea").val();""!==c&&(d.typing=!1,a.trigger("click",e.gebi("spaui-feedback-message").innerHTML),k.send({from:l.getFrom(),to:k.getPlace("setFbSend"),where:k.getContext("rating"),payloadObj:{feedbackText:c},additionalObj:r.getAdditionalObj()}));f.publish(f.getName("feedbackSubmitted"));m.publish(f.getName("feedbackSubmitted"));d.sessionSettings.dismissOnSubmit&&h.banisher({where:"feedback"})},
commentsClear:function(a){a.preventDefault();d.typing=!1;b.find("#spaui-feedback-comments-textarea").val("");b.find("#spaui-feedback-comments-textarea").removeClass("active");b.find("#spaui-feedback-comments-counter").hide();b.find("#spaui-feedback-comments-counter").text(d.max);b.find("#spaui-feedback-comments-buttons").hide();b.find("#spaui-feedback-context").show()},setTyping:function(a){d.typing=a},overrideConfig:function(a){d=c.$.extend({},d,a)},addAdditionalContext:function(a){d.globalContext=
Object.assign({},d.globalContext,a)},setImageSource:function(a,b){if(!d.overridenImageSource||b)if(e.isString(a))d.overridenImageSource=a;else throw"Image source must be a string location for feedback image";}};return{init:r.init,overrideConfig:r.overrideConfig,setTyping:r.setTyping,launchFeedback:r.launchFeedback,addAdditionalContext:r.addAdditionalContext,setImageSource:r.setImageSource}});ASPP.when("ASPA","spaui-metrics","spaui-ui","spaui-search-suggestions","spaui-browser-support").register("spaui-global-nav-search",
function(c,e,l,k,g){var f,m,p,h,b={invokeSearchFunc:null,invokeSynchronizeFunction:null,defaultSearchValue:null},a={init:function(b,c){a.hydrate(b);a.bind(c)},hydrate:function(d){b.invokeSearchFunc=d;d=c.$("#sc-global-search");f=d.find("#sc-global-search-form #sc-search-field");m=d.find("#sc-global-search-form .sc-search-button");p=c.$("#spaui-templates #spaui-template-global-nav-search-loading");h=p.find("#spaui-global-nav-loading-tip");0<f.length&&(b.defaultSearchValue=f.val().trim());a.setupPlaceholder()},
bind:function(d){m.click(a.clickSearch);d(f,{invoker:a.submitSearch,onFocus:a.searchFocused,clearFunction:a.clearUnsupported});f.bind("paste",b.pasteFunc)},setupPlaceholder:function(){g.placeholderIsSupported()&&!a.placeHolderIsSet(f)?(f.attr("placeholder",b.defaultSearchValue),f.removeAttr("onclick"),f.removeAttr("onblur"),f.val(""),b.placeholderFunc=a.doNothing,b.pasteFunc=a.doNothing):(b.placeholderFunc=a.setPlaceholder,b.pasteFunc=a.onPaste)},placeHolderIsSet:function(a){return a.attr("placeholder")!==
C},onPaste:function(){!a.searchTermIsViable()&&c.$(document.activeElement).is(f)&&f.val("")},doNothing:function(){},clickSearch:function(b){b.preventDefault();a.submitSearch()},searchFocused:function(){k.newBind(f,a.submitSearch,e.getPlace("globalNav"))},searchTermIsViable:function(){var a=f.val().trim();return""!==a&&a!==b.defaultSearchValue},submitSearch:function(d){if(a.searchTermIsViable()){a.showLoading();k.disable();k.hide();var c=function(){a.hideLoading();k.enable();l.summoner({},function(){f.blur()})};
b.invokeSearchFunc(f.val(),{from:e.getPlace("globalNav"),where:e.getContext("globalSearch")},null,d,function(b){"order-redirect"===b?a.changeLoadingToOrderRedirect():"inventory-redirect"===b||"skucentral-redirect"===b?a.changeLoadingToInventoryRedirect():c()},function(){c()})}},showLoading:function(){f.after(h)},changeLoadingToOrderRedirect:function(){h.addClass("spaui-global-nav-redirecting-to-order")},changeLoadingToInventoryRedirect:function(){h.addClass("spaui-global-nav-redirecting-to-inventory")},
hideLoading:function(){h.removeClass("spaui-global-nav-redirecting-to-order");h.removeClass("spaui-global-nav-redirecting-to-inventory");p.append(h)},clearUnsupported:function(){g.placeholderIsSupported()?f.val(""):b.placeholderFunc()},setPlaceholder:function(){f.val(b.defaultSearchValue)}};return{init:a.init}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-alert-metrics","spaui-alert-util","spaui-util").register("spaui-grouped-alerts",function(c,e,l,k,g,f){var m=e.getContext("groupedAlert"),
p=e.getContext("groupedAlert"),h=null,b={init:function(a){h=a;h.delegate(b.getSelector(".spaui-grouped-alert-item-action"),"click",b.instrumentInteract);h.delegate(b.getSelector(".spaui-grouped-alert-extender"),"click",b.toggleExtender)},registerHandles:function(a){a.customRegister(b.isGroupedAlert,b.alertDiscovered,function(){},function(){},function(){})},isGroupedAlert:function(a){return a.hasClass("spaui-grouped-alert")},alertDiscovered:function(a){var d=[];b.getRangeOfAlerts(a,0,2).each(function(){var a=
c.$(this);d.push(a.data("id"))});a=g.getAlertDetails(a);a.id=d.join(",");k.discover(m,p,a)},toggleExtender:function(a){a.preventDefault();a=c.$(a.currentTarget);f.updateScrollTop(a.closest(".spaui-grouped-alert"),100);a.hasClass("spaui-alert-extender-closed")?(a.removeClass("spaui-alert-extender-closed").addClass("spaui-alert-extender-open"),a.parent().find(".spaui-alert-content").css("display","block"),b.extenderExpanded(a.closest(".spaui-grouped-alert"))):(a.removeClass("spaui-alert-extender-open").addClass("spaui-alert-extender-closed"),
a.parent().find(".spaui-alert-content").css("display","none"),b.extenderCollapsed(a.closest(".spaui-grouped-alert")))},extenderExpanded:function(a){var d=[];b.getRangeOfAlerts(a,2).each(function(){var a=c.$(this);d.push(a.data("id"))});var f=g.getAlertDetails(a),h=d.join(",");k.sendIrisDiscover(h,function(){e.send({from:l.getFrom(),where:m,to:e.getPlace("groupedAlertInnerDiscover"),additionalObj:{isPush:f.isPush},payloadObj:{notificationId:h,notificationType:f.type,notificationName:f.name}})})},extenderCollapsed:function(a){var d=
[];b.getRangeOfAlerts(a,2).each(function(){var a=c.$(this);d.push(a.data("id"))});a=g.getAlertDetails(a);a.id=d.join(",");k.minimize(m,p,a)},instrumentInteract:function(a){var d=g.getAlertFromInnerEvent(a);k.read(m,p,b.getDetailsForAlert(d,b.getAlertFromEvent(a)))},getSelector:function(a){c.$.isArray(a)||(a=[a]);a.unshift(".spaui-grouped-alert");return a.join(" ")},getRangeOfAlerts:function(a,b,e){return a.map(function(){return c.$(this).find("ul li.spaui-grouped-alert-item").map(function(){return c.$(this)}).get()}).slice(b,
e)},getDetailsForAlert:function(a,b){a=g.getAlertDetails(a);a.id=b.data("id");return a},getAlertFromEvent:function(a){return c.$(a.target).closest(".spaui-grouped-alert-item")}};return{init:b.init,registerHandles:b.registerHandles}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-util","spaui-weblabs","spaui-discovery","spaui-expand","spaui-ui","spaui-events","spaui-events-external-hook").register("spaui-help",function(c,e,l,k,g,f,m,p,h,b,a){var d=null,r=/G\d+/,n=/G\w{15}/,
x=".spaui-help-content "+p.selectors.collapsedElementHeader,y=".spaui-help-content "+p.selectors.expandedElementHeader,w,q={init:function(a){w=a;q.delegateBind();q.eventBind()},initialState:function(){return g.hasTemplate("preloadedHelp")?(q.displayHelpTopic(null,null,null,null,!1,!0),!0):!1},delegateBind:function(){w.delegate("#spaui-content .spaui-help","click",q.interactWithHelp);w.delegate(x,"click",q.expand);w.delegate(y,"click",q.collapse)},eventBind:function(){m.registerWithoutAsync("helpTopic",
k.getPageType("helpTopic"),!0,q.discoverHelpTopic);m.registerWithoutAsync("browseAllHelp",k.getPageType("browseAllHelp"),!0,q.discoverBrowseAllHelp)},bind:function(){c.$(".spaui-help-content .collapsible").each(function(){var a=c.$(this);q.determineCollapse(a)})},expand:function(a){p.expand(a,q.instrumentExpandCollapse)},collapse:function(a){p.collapse(a,q.instrumentExpandCollapse)},determineCollapse:function(a){p.transformCollapse(a)},displayHelpTopic:function(a,b,f,g,p,l,m,n){f===C&&(f={});var r=
function(b){(b.isError||b.isPlatformError)&&c.$.isFunction(n)?n(b):c.$.isFunction(m)&&m(b);var k=q.getTopicId(),t=q.getTrackingData({to:e.getTopic()+k},f,p,l);b.isError?c.$.extend(t,{isError:!0,errorDetails:b.errorDetails}):b.isPlatformError&&(t.isPlatformError=!0);l&&(a=k);d={tracking:t,bookmark:g,actualTopicId:k+"",requestedTopicId:a+""};b.isError||b.isPlatformError||!l||h.summoner({preload:!0})};l?k.placeHelpTopicFromTemplate(r):k.placeHelpTopic(a,b,r)},displayHelpTopicFromSession:function(a,b,
d){q.displayHelpTopic(a,b,d,null,!0)},getTopicId:function(){return w.find(".spaui-help").data("topic")},instrumentRedirects:function(a,b){e.send({from:"topic"+b,where:"redirect",to:"topic"+a})},getElementWithBookmark:function(a){return g.gebi(a)||document.getElementsByName(a)[0]},discoverHelpTopic:function(){if(d){var a=d.tracking,b=d.bookmark,f=d.actualTopicId,h=d.requestedTopicId;if(!a.isError&&!a.isPlatformError&&(q.bind(),b)){var k=b.slice(1);(b=q.getElementWithBookmark(k)||q.getElementWithBookmark(b))&&
g.updateScrollTop(c.$(b),0)}e.validate(a);e.send(a);q.isHelpTopicIdTheSame(f,h)||q.instrumentRedirects(f,h);d=null}},isHelpTopicIdTheSame:function(a,b){a=q.stripGIfMatching(""+a);b=q.stripGIfMatching(""+b);return a===b},stripGIfMatching:function(a){return q.matchesHelpTopicRegex(a)?a.substr(1):a},matchesHelpTopicRegex:function(a){return n.test(a)||r.test(a)},displayBrowseAllHelp:function(a,b){k.placeEndpoint(k.getPageType("browseAllHelp"),l.getAthenaUrlPrefix()+"browse-all-help/",function(){d={tracking:q.getTrackingData({where:e.getContext("featured"),
to:e.getPlace("browse")},a,b)}})},displayBrowseAllHelpFromSession:function(a){q.displayBrowseAllHelp(a,!0)},getTrackingData:function(a,b,d,f){var g=a.to;a=c.$.extend({from:l.getFrom()},a,b,{to:g});d&&(a.from=a.to,a.where=e.getContext("session"),a.to=e.getPlace("refresh"));f&&(a.where=e.getContext("preload"));return a},discoverBrowseAllHelp:function(){d&&(e.send(d.tracking),d=null)},instrumentExpandCollapse:function(a){e.send({from:l.getFrom(),where:e.getContext("content"),to:a})},interactWithHelp:function(){b.publish(b.getName("helpArticleInteracted"));
a.publish(b.getName("helpArticleInteracted"))}};return{init:q.init,initialState:q.initialState,displayHelpTopic:q.displayHelpTopic,displayHelpTopicFromSession:q.displayHelpTopicFromSession,displayBrowseAllHelp:q.displayBrowseAllHelp,displayBrowseAllHelpFromSession:q.displayBrowseAllHelpFromSession,getTopicId:q.getTopicId,isHelpTopicIdTheSame:q.isHelpTopicIdTheSame}});ASPP.when("ASPA","spaui-content","spaui-state","spaui-help-hub-athena-feedback","help-hub-footer","spaui-feedback-bar","spaui-help-hub-athena-events").register("spaui-help-hub-input",
function(c,e,l,k,g,f,m){var p,h=!1,b="/help/inline/help-hub/search",a=!1,d=null,r=!1,n,x,y,w={init:function(a,d){w.hydrate(a);b=d;m.subscribe("categoryLinkClicked",function(a){w.setCategoryLinkClicked(a)});m.subscribe("directAnswerLoaded",w.directAnswerLoaded);m.subscribe("directAnswerFailedToLoad",w.resetCategoryLinkClicked)},hydrate:function(a){n=a;x=n.find("#spaui-help-hub-templates");x.find("#spaui-feedback-bar");n.find("#spaui-foot");y=n.find(".spaui-content-ui-back")},isEnabled:function(){return h},
enable:function(){h=!0},openSearch:function(a){!1===h&&e.placeEndpointInLocation("#spaui-help-hub-input",w.getUrl(),function(){if(p===C)ASPP.when("help-hub-search").execute("launch-search",function(b){p=b;w.onSearchReady(a)});else w.onSearchReady(a)},!0);w.enable()},bindSearchWithOptions:function(a,b,d,e){r=e;h?p&&p.bindSearchWithOptions(a):w.openSearch(function(){p.bindSearchWithOptions(a);b&&!e&&y.addClass("spaui-help-hub-hidden");d&&c.$(".spaui-input-header-beta").addClass("spaui-help-hub-hidden")})},
onSearchReady:function(a){w.replaceGraduationMessageImage();c.$("#spaui-search").addClass("spaui-help-hub-active");c.$("#spaui-search-icon").addClass("spaui-help-hub-active");r?(n.find(".spaui-help-hub-input").addClass("spaui-help-hub-hidden"),c.$("#spaui-help-hub-header-search").removeClass("spaui-help-hub-hidden"),c.$("#spaui-help-hub-header-search-icon").removeClass("spaui-help-hub-hidden"),n.find("#spaui-help-hub-header-search-icon").click(w.clickSearchButton),p.init("#spaui-help-hub-header-search-box",
n)):(c.$("#spaui-help-hub-input").addClass("spaui-help-hub-active"),n.find("#help-hub-input-button").click(w.clickSearchButton),c.$(".spaui-search-suggestions").addClass("spaui-help-hub-active"),p.init("#help-hub-input-field",n));g.init(n);w.loadFeedbackBar();f.init(n);k.addAdditionalContext({helpHubActive:!0});k.setImageSource("https://images-na.ssl-images-amazon.com/images/G/01/SellerCentral/help/images/contact_us/helphub-feedback.png");a&&c.$.isFunction(a)&&a()},loadFeedbackBar:function(){c.$("#spaui-feedback-bar").clone().prependTo("#spaui-foot")},
getUrl:function(){return l.enhanceUrl(b)},clickSearchButton:function(){p.search(r?"#spaui-help-hub-header-search-box":"#help-hub-input-field",!0)},setCategoryLinkClicked:function(b){a=!0;b&&(d=b.CTI)},resetCategoryLinkClicked:function(){a=!1;d=null},directAnswerLoaded:function(){a&&(g.createCTIFooterLink(w.getFallbackCTI()),n.find(".athena-augur-workflow.asp").addClass("spaui-help-hub-self-service-workflow"));a=!1},getFallbackCTI:function(){return d?d.c+":"+d.t+":"+d.i:"0:0:0"},replaceGraduationMessageImage:function(){c.$("#spaui-preview-jackpot").attr("src",
"https://m.media-amazon.com/images/G/01/athena/img/preview/RnL_Graduation-Message_Entry_Point._CB1558639416_.png")}};return{init:w.init,enable:w.enable,isEnabled:w.isEnabled,openSearch:w.openSearch,bindSearchWithOptions:w.bindSearchWithOptions}});ASPP.when("ASPA","spaui-search-state").register("spaui-history",function(c,e){var l={dom:[],searches:[],from:["info"],scroll:[],pop:[],athenaUrlPrefix:"/hz/sellerpartner/",augurUrlPrefix:"/hz/augur/"},k=c.$.extend(!0,{},l),g={init:function(c){c&&(c.athenaUrl&&
(l.athenaUrlPrefix=c.athenaUrl),c.augurUrl&&(l.augurUrlPrefix=c.augurUrl));g.resetCfg()},resetCfg:function(){k=c.$.extend(!0,{},l)},getAthenaUrlPrefix:function(){return k.athenaUrlPrefix},getAugurUrlPrefix:function(){return k.augurUrlPrefix},returnFrom:function(){return k.from[k.from.length-1]},returnTo:function(){return k.from[k.from.length-2]},returnPop:function(){return k.pop[k.pop.length-1]},returnFromLength:function(){return k.from.length},prepForHome:function(){var c=k.dom[0];k.dom=[];k.dom.push(c);
var c=k.from[0],e=g.returnFrom();k.from=[];k.from.push(c);k.from.push(e);k.searches=[]},pushDom:function(c){k.dom.push(c)},pushPop:function(c){k.pop.push(c)},pushScroll:function(c){k.scroll.push(c)},pushSearchState:function(c){k.searches.push(c)},popDom:function(){return k.dom.pop()},popPop:function(){return k.pop.pop()},popScroll:function(){return k.scroll.pop()},update:function(c){c.isBack?(k.from.pop(),k.searches.pop(),e.set(k.searches[k.searches.length-1])):(k.from.push(c.to),"search"!==c.to&&
(e.clear(),k.searches.push(e.get())))},overrideHome:function(c){g.resetCfg();k.from=[c]},getLastSearchHistory:function(){return 0<k.searches.length?k.searches[k.searches.length-1]:{}},setSearchStartHistory:function(c){g.getLastSearchHistory().start=c},returnSearchStartHistory:function(){return g.getLastSearchHistory().start},returnSearchTotalHistory:function(){return g.getLastSearchHistory().total},returnSearchQueryHistory:function(){return g.getLastSearchHistory().query}};return{init:g.init,getAthenaUrlPrefix:g.getAthenaUrlPrefix,
getAugurUrlPrefix:g.getAugurUrlPrefix,update:g.update,prepForHome:g.prepForHome,getFrom:g.returnFrom,getTo:g.returnTo,getPop:g.returnPop,getFromLength:g.returnFromLength,pushDom:g.pushDom,pushPop:g.pushPop,pushScroll:g.pushScroll,pushSearchState:g.pushSearchState,popDom:g.popDom,popPop:g.popPop,popScroll:g.popScroll,overrideHome:g.overrideHome,setSearchStartHistory:g.setSearchStartHistory,getSearchStartHistory:g.returnSearchStartHistory,getSearchTotalHistory:g.returnSearchTotalHistory,getSearchQueryHistory:g.returnSearchQueryHistory}});
ASPP.when("ASPA","spaui-metrics","spaui-util","spaui-history","spaui-session","spaui-contact-deflection","spaui-events","spaui-events-external-hook","spaui-content","spaui-shim-initialized").register("spaui-hmd",function(c,e,l,k,g,f,m,p,h){var b=null,a,d,r={commentFadeInDuration:2E3,completeFadeOutDelay:2E3,fadeOutDuration:400,improvements:{1:!1,2:!1,3:!1,4:!1},commentsMaxChar:1E3,commentsAreForYes:!1},n={init:function(a){n.hydrate(a);n.bind()},hydrate:function(b){a=b},bind:function(){a.delegate("#spaui-help-hmd-yes",
"click",n.yes);a.delegate("#spaui-help-hmd-no","click",n.no);a.delegate(".spaui-help-hmd-comments-textarea textarea","click",n.focusTextarea);a.delegate(".spaui-help-hmd-comments-textarea textarea","keyup",n.typeTextarea);a.delegate(".spaui-help-hmd-comments-cancel","click",n.clear);a.delegate(".spaui-help-hmd-comments-send","click",n.send);a.delegate(".spaui-help-hmd-q","change",n.check);a.delegate(".spaui-help-hmd-message a.spaui-external-contact-us-link","click",n.contactUsLinkClicked);m.subscribe(m.getName("newPage"),
n.onNewPage)},dom:function(b){return a.find("#spaui-help-hmd-"+b)},commentsDom:function(a){return b.find(".spaui-help-hmd-comments-"+a)},allCommentsDom:function(b){return a.find(".spaui-help-hmd-comments-"+b)},getContent:function(){return h.getContentPane()},onNewPage:function(b){b.type===h.getPageType("helpTopic")&&(0>=a.find("#spaui-content #spaui-help-hmd-question").length&&(h.getContentPane()[0].innerHTML+=l.gebi("spaui-template-help-hmd").innerHTML),n.allCommentsDom("send").attr("data-topic",
b.topicId),n.dom("yes").attr("data-topic",b.topicId),n.dom("no").attr("data-topic",b.topicId),m.publish(m.getName("helpHMDLoaded")),p.publish(m.getName("helpHMDLoaded")))},activateComments:function(c){n.dom("question").addClass("spaui-hide");var e=n.dom("message");e.removeClass("spaui-hide");b=a.find("#spaui-help-hmd-comments-"+c);b.removeClass("spaui-hide");d=b.find(".spaui-help-hmd-comments-textarea textarea");r.commentsAreForYes="yes"===c;n.resetComments();n.getContent().animate({scrollTop:n.getContent()[0].scrollHeight},
r.commentFadeInDuration);!r.commentsAreForYes&&f.isActive()&&f.isVisiting()&&e.find(".spaui-help-hmd-message-inner .asp-alert-content").html(n.dom("negative-get-support-card-message").html())},contactUsLinkClicked:function(){g.setContactUsLinkClicked(!0);e.send({from:k.getFrom(),where:e.getContext("helpHmd"),to:"getSupportContactUsLink",additionalObj:{topicId:n.dom("no").data("topic")}})},yes:function(a){a.preventDefault();n.activateComments("yes");l.textareaFocusPlaceholderFix(d);n.instrument(a,
!0,!1)},no:function(a){a.preventDefault();n.activateComments("no");l.textareaFocusPlaceholderFix(d);n.instrument(a,!1,!1)},focusTextarea:function(){d.addClass("active");l.textareaFocusPlaceholderFix(d)},typeTextarea:function(a){1>=r.commentsMaxChar-a.currentTarget.value.length&&(a.currentTarget.value=a.currentTarget.value.substr(0,r.commentsMaxChar));a=r.commentsMaxChar-a.currentTarget.value.length;n.commentsDom("counter").text(a);l.toggleClassOnCond(n.commentsDom("counter"),"asp-color-price",21>
a)},clear:function(a){a.preventDefault();n.resetComments()},resetComments:function(){Object.keys(r.improvements).forEach(function(b){r.improvements[b]=!1;a.find("#spaui-help-hmd-q-"+b).attr("checked",!1)});d.val("");d.removeClass("active");n.commentsDom("counter").text(r.commentsMaxChar)},send:function(a){a.preventDefault();if(null!==b){l.textareaFocusPlaceholderFix(d);n.instrument(a,r.commentsAreForYes,!0);n.resetComments();b.addClass("spaui-hide");b=null;n.dom("message").addClass("spaui-hide");
n.dom("message-again").removeClass("spaui-hide");var c=setTimeout(function(){n.dom("message-again").fadeOut(r.fadeOutDuration,function(){n.dom("message-again").remove()});clearTimeout(c);c=null},r.fadeOutDuration)}},check:function(a){var b=l.gda(a.currentTarget,"aInputName");a=c.$(a.currentTarget).find("input");r.improvements[b]=a.prop("checked")},instrument:function(a,b,f){a=l.gda(a.currentTarget,"topic");var g="",h=[],g=d.val();!b&&f&&Object.keys(r.improvements).forEach(function(a){r.improvements[a]&&
h.push(c.$("#spaui label[for\x3dspaui-help-hmd-q-"+a+"]").find(".asp-checkbox-label").html())});b=b?"1":"0";e.sendHmd({from:k.getFrom(),where:"HMD",to:"topic"+a,payloadObj:{source:"Athena",helpHmd:b,helpNodeId:a,helpHmdSuggestions:h.join("|"),helpFeedback:g}})},overrideConfig:function(a){r=c.$.extend({},r,a)}};return{init:n.init,overrideConfig:n.overrideConfig}});ASPP.when("ASPA","spaui-metrics","spaui-write-through-storage").register("spaui-instance",function(c,e,l){var k={deflectionVisitId:null,
contactUsLinkClicked:!1},g={matchingPhrase:null,locale:null},f=new l(null,k),m=new l(null,g);return{init:function(c){var h=e.getSession();f=new l(h,k,"spaui",c,51200,JSON);m=new l(h,g)},setDeflectionCardVisitId:function(c){f.set("deflectionVisitId",c)},getDeflectionCardVisitId:function(){return f.get("deflectionVisitId")},setContactUsLinkClicked:function(c){f.set("contactUsLinkClicked",c)},getSpauiChatId:function(){return f.get("spauiChatId")},setSpauiChatId:function(c){f.set("spauiChatId",c)},clearSpauiChatId:function(){f.set("spauiChatId",
C)},getContactUsLinkClicked:function(){return f.get("contactUsLinkClicked")},isCurrentMatchAlreadyShown:function(c,e){return m.get("matchingPhrase")===c&&m.get("locale")===e},setLastSearchDetails:function(c,e){m.set("matchingPhrase",c);m.set("locale",e)},setGeneric:function(c,e){f.set(c,e)},getGeneric:function(c){return f.get(c)}}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-events","spaui-async").register("spaui-linkcopy",function(c,e,l,k,g){var f,m=null,p={init:function(c,b){e.getData()&&
"true"===e.getSpoofer()&&(f=c,f.delegate(".spaui-url-icon","click",p.linkCopyOpen),f.delegate(".spaui-url-input-close-icon","click",p.linkCopyClose),f.delegate(".spaui-link-copy-container","click",p.stopClickBubbling),m=b,p.bind())},bind:function(){k.subscribe(k.getName("newPage"),p.showURLIconIfPresent);k.subscribe(k.getName("newContentOnPage"),p.showURLIconIfPresent);k.subscribeAsyncModuleEvent("featured-content",g.COMPLETED_EVENT,p.showURLIconIfPresent)},showURLIconIfPresent:function(){f.find(".spaui-url-icon").removeClass("spaui-hide");
f.find(".spaui-search-results-title").addClass("spaui-inline")},linkCopyOpen:function(f){f.preventDefault();var b=c.$(f.currentTarget),a=b.parent();f=a.find(".spaui-url-input");a=a.find(".spaui-url-input-close-icon");b=p.generateLink(b);f.val(b).removeClass("spaui-hide");a.removeClass("spaui-hide");f.select();e.send({from:l.getFrom(),to:e.getPlace("setLinkCopyOpen"),where:e.getContext("content")})},linkCopyClose:function(f){f.preventDefault();f=c.$(f.currentTarget);f.parent().find(".spaui-url-input").addClass("spaui-hide");
f.addClass("spaui-hide");e.send({from:l.getFrom(),to:e.getPlace("setLinkCopyClosed"),where:e.getContext("content")})},stopClickBubbling:function(c){c.preventDefault();c.stopPropagation()},generateLink:function(c){c=c.data("url");return 0===c.indexOf("http")?c:m+c}};return{init:p.init}});ASPP.when("ASPA","spaui-util","spaui-state","spaui-metrics","spaui-history","spaui-session","spaui-ui","spaui-events","spaui-ajax","spaui-help","spaui-direct-answer","spaui-contact-deflection","spaui-alert-util","spaui-chat",
"spaui-self-service-card","spaui-search-state","spaui-card-manager").register("spaui-links",function(c,e,l,k,g,f,m,p,h,b,a,d,r,n,x,y,w){var q,B=!1,t=/\.[0-9a-z]{1,5}$/i,E=/(mai|rainier|seller-?central|.*\.desktop).*\.amazon\./,A={init:function(a,b){B=b;A.hydrate(a);A.bind()},hydrate:function(a){q=a;q.find("#spaui-link-browse")},bind:function(){q.delegate(".spaui-help-content a","click",A.helpContent);q.delegate(".spaui-ph-item-content-inner a","click",A.helpContent);q.delegate("#spaui-content .spaui-direct-answer a",
"click",A.directAnswer);q.delegate(".spaui-top-issues a","click",A.topIssues);q.delegate(".spaui-link-alerts-internal","click",A.alertsInternal);q.delegate(".spaui-link-alerts-external","click",A.alertsExternal);q.delegate(".spaui-link-ph-policy-internal","click",A.phPolicyInternal);q.delegate(".spaui-link-fc-internal","click",A.fcInternal);q.delegate(".spaui-link-fc-external","click",A.fcExternal);q.delegate(".spaui-link-tool-external","click",A.toolExternal);q.delegate(".spaui-link-search-internal",
"click",A.searchInternal);q.delegate(".spaui-link-search-external","click",A.searchExternal);q.delegate(".spaui-link-no-results-external","click",A.searchNoResultsExternal);q.delegate(".spaui-link-breadcrumb-help","click",A.bcHelp);q.delegate(".spaui-link-breadcrumb-su","click",A.bcSellerU);q.delegate(".spaui-link-breadcrumb-forum","click",A.bcForum);q.delegate("#spaui-link-browse","click",A.browse);q.delegate(".spaui-link-browse-internal","click",A.browseInternal);q.delegate(".spaui-link-browse-parent",
"click",A.browseParent);q.delegate("#spaui-foot-caselog","click",A.caseLog);q.delegate("#spaui-foot-forums","click",A.forums);q.delegate("#spaui-foot-contact","click",A.contact);q.delegate("#spaui-foot-chat","click",A.chat);c.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-link-alerts-internal","click",A.pushNotificationInternal);c.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-link-alerts-external","click",A.pushNotificationExternal);p.subscribe(p.getName("featuresChanged"),
A.updateContactUsState)},updateContactUsState:function(){var a=q.find("#spaui-foot-contact");B?a.attr("href","/cu/contact-us?hhFooter\x3dtrue"):a.data("href")&&(a.attr("href",a.data("href")),q.removeClass("spaui-disable-contact-us-weblab"))},directAnswer:function(b){var d=c.$(b.currentTarget);0<d.parents(".spaui-help-content").size()||(a.isDirectAnswerTool(d)&&f.setPinned(!1),A.contentLink(b,k.getContext("directAnswer")))},helpContent:function(a){A.contentLink(a,k.getContext("content"))},topIssues:function(a){A.contentLink(a,
k.getContext("topIssues"))},getLinkType:function(a,b){var d=b.getAttribute("target");return{isOnArticle:e.isOnArticle(),isMailto:e.startsWith(a,"mailto:"),isFileDownload:a.match(t),isHashScroll:b.hash&&A.isLinkToCurrentArticle(a),isArticleLink:!!e.getTopicIDFromLink(a),isGenericLink:e.contains(a,E),isRetailLink:e.contains(a,"www.amazon."),isAmazonPayLink:e.contains(a,"pay.amazon."),isProductTour:e.contains(a,"/hz/productsearch/"),isKnownTarget:-1!==["_self","_blank","_parent","_top","",null].indexOf(d),
isHashOnCurrentPage:e.isHashOnCurrentPage(a)}},contentLink:function(a,d,h){var l=a.currentTarget.href,n=A.getLinkType(l,a.currentTarget),p=c.$(a.currentTarget);if(n.isMailto)k.send({from:g.getFrom(),where:d,to:k.getPlace("mailtoLink"),additionalObj:c.$.extend({},h,{email:l.substr(7)})});else if(n.isGenericLink&&!n.isHashScroll&&!n.isArticleLink)(p.hasClass("augur-wf-primary-button")||p.hasClass("augur-wf-secondary-link"))&&f.setPinned(!1),k.send({from:g.getFrom(),where:d,to:k.getPlace("launchGenericPage"),
additionalObj:c.$.extend({},h,{url:A.cleanUrl(l)})});else if(!n.isHashOnCurrentPage)if((n.isFileDownload||n.isHashScroll||n.isArticleLink||n.isRetailLink||n.isAmazonPayLink||n.isKnownTarget||n.isProductTour)&&a.preventDefault(),n.isFileDownload)k.send({from:g.getFrom(),where:d,to:k.getPlace("fileDownload"),additionalObj:c.$.extend({},h,{filename:l.substr(l.lastIndexOf("/")+1)})}),e.openInNewWindow(l);else if(n.isHashScroll)m.scrollToHash(a.currentTarget.hash.substr(1));else if(n.isAmazonPayLink)k.send({from:g.getFrom(),
where:d,to:k.getPlace("amazonPayLink"),additionalObj:c.$.extend({},h,{url:l})}),e.openInNewWindow(l);else if(n.isRetailLink)k.send({from:g.getFrom(),where:d,to:k.getPlace("retailLink"),additionalObj:c.$.extend({},h,{url:l})}),e.openInNewWindow(l);else if(n.isArticleLink)b.displayHelpTopic(e.getTopicIDFromLink(l),l,{where:d,additionalObj:h});else if(n.isProductTour)f.setPinned(!1),e.openInNewWindow(l);else if(n.isKnownTarget)e.openInNewWindow(l);else{a=c.$.extend({},a.target.attributes);h={};for(var t in a)a.hasOwnProperty(t)&&
(h[a[t].name]=a[t].value);k.send({from:g.getFrom(),where:d,to:k.getAction("unhandledLink"),additionalObj:h})}},cleanUrl:function(a){return a.split("?")[0]},isLinkToCurrentArticle:function(a){a=e.getTopicIDFromLink(a);var d=b.getTopicId()+"";return A.isStringDefined(a)&&A.isStringDefined(d)?b.isHelpTopicIdTheSame(a,d):!1},isStringDefined:function(a){return!(a==C||"undefined"==a)},checkAndPlaceFullPageCard:function(a,b,d){var e=w.processesLink(c.$(a));e.processable?w.placeCard(e.card,e.args,b):d(a,
b)},phPolicyInternal:function(a){a.preventDefault();b.displayHelpTopic(e.gda(a.currentTarget,"id"),e.gda(a.currentTarget,"href"),{where:e.gda(a.currentTarget,"where")})},fcInternal:function(a){a.preventDefault();var d={where:e.gda(a.currentTarget,"where"),payloadObj:{resultRank:e.gda(a.currentTarget,"rank"),resultTotal:e.gda(a.currentTarget,"total")}};A.checkAndPlaceFullPageCard(a.currentTarget,d,function(a,d){b.displayHelpTopic(e.gda(a,"id"),e.gda(a,"href"),d)})},fcExternal:function(a){a.preventDefault();
var b={from:g.getFrom(),where:e.gda(a.currentTarget,"where"),to:"launch-"+e.gda(a.currentTarget,"to")+"-"+e.gda(a.currentTarget,"id"),payload:"\x26resultRank\x3d"+e.gda(a.currentTarget,"rank")+"\x26resultTotal\x3d"+e.gda(a.currentTarget,"total")};A.checkAndPlaceFullPageCard(a.currentTarget,b,function(a,b){k.send(b);e.openInNewWindow(a.href)})},searchInternal:function(a){a.preventDefault();var d=parseInt(e.gda(a.currentTarget,"rank"),10)+y.getSearchStart(),d={where:e.gda(a.currentTarget,"where"),payloadObj:{resultRank:d,
resultTotal:e.gda(a.currentTarget,"total")}};A.checkAndPlaceFullPageCard(a.currentTarget,d,function(a,d){b.displayHelpTopic(e.gda(a,"id"),e.gda(a,"href"),d)})},searchExternal:function(a){a.preventDefault();f.setPinned(!1);var b=parseInt(e.gda(a.currentTarget,"rank"),10)+y.getSearchStart(),b={from:g.getFrom(),where:e.gda(a.currentTarget,"where"),to:"launch-"+e.gda(a.currentTarget,"to")+"-"+e.gda(a.currentTarget,"id"),payload:"\x26resultRank\x3d"+b+"\x26resultTotal\x3d"+e.gda(a.currentTarget,"total")};
A.checkAndPlaceFullPageCard(a.currentTarget,b,function(a,b){k.send(b);e.openInNewWindow(a.href)})},searchNoResultsExternal:function(){k.send({from:g.getFrom(),where:k.getContext("noResults"),to:k.getPlace("launchNoSearchResults")})},bcHelp:function(a){a.preventDefault();var d=parseInt(e.gda(a.currentTarget,"rank"),10)+y.getSearchStart(),d={where:k.getContext("breadcrumb"),payloadObj:{resultRank:d,resultTotal:e.gda(a.currentTarget,"total")}};A.checkAndPlaceFullPageCard(a.currentTarget,d,function(a,
d){a=a.href;var c=e.getTopicIDFromLink(a);b.displayHelpTopic(c,a,d)})},bcForum:function(a){a.preventDefault();var b={from:g.getFrom(),where:k.getContext("breadcrumb"),to:"launch-Forum",payload:"\x26resultRank\x3d"+e.gda(a.currentTarget,"rank")+"\x26resultTotal\x3d"+e.gda(a.currentTarget,"total")};A.checkAndPlaceFullPageCard(a.currentTarget,b,function(a,b){k.send(b);e.openInNewWindow(a.href)})},bcSellerU:function(a){a.preventDefault();var b={from:g.getFrom(),where:k.getContext("breadcrumb"),to:"launch-SU",
payload:"\x26resultRank\x3d"+e.gda(a.currentTarget,"rank")+"\x26resultTotal\x3d"+e.gda(a.currentTarget,"total")};A.checkAndPlaceFullPageCard(a.currentTarget,b,function(a,b){k.send(b);e.openInNewWindow(a.href)})},browse:function(a){a.preventDefault();b.displayBrowseAllHelp()},browseInternal:function(a){a.preventDefault();b.displayHelpTopic(e.gda(a.currentTarget,"id"),e.gda(a.currentTarget,"href"),{where:e.gda(a.currentTarget,"where")})},browseParent:function(a){a.preventDefault();var b=c.$(a.currentTarget).find("a");
a=c.$(a.currentTarget).next();a.is(":hidden")?(b.addClass("spaui-browse-parent-open"),a.show(),a=k.getPlace("setAhOpen")):(b.removeClass("spaui-browse-parent-open"),a.hide(),a=k.getPlace("setAhClose"));k.send({from:g.getFrom(),where:k.getContext("content"),to:a+k.sanitizeEventPart(b.attr("id"))})},alertsInternal:function(a,d){a.preventDefault();m.getVisible()||m.summoner({});var c=r.getAlertDetails(r.getAlertFromInnerEvent(a)),f=e.gda(a.currentTarget,"item"),g=e.gda(a.currentTarget,"rank"),h=e.gda(a.currentTarget,
"topic"),l=e.gda(a.currentTarget,"total"),n=a.currentTarget.getAttribute("href"),p=null===n?"":n,n=a.currentTarget.innerHTML;d={where:d?k.getContext("pushNotification"):k.getContext("alert"),additionalObj:{item:f,rank:g,total:l,itemUrl:p,itemText:n},payloadObj:{notificationId:c.id,notificationType:c.type,notificationName:c.name}};A.checkAndPlaceFullPageCard(a.currentTarget,d,function(a,d){b.displayHelpTopic(h,p,d)})},alertsExternal:function(a,b){var d=r.getAlertDetails(r.getAlertFromInnerEvent(a)),
c=e.gda(a.currentTarget,"item"),l=e.gda(a.currentTarget,"rank"),n=e.gda(a.currentTarget,"total"),m=a.currentTarget.getAttribute("href"),m=null===m?"":m,p=a.currentTarget.innerHTML;-1!==a.currentTarget.href.toLowerCase().indexOf("gp/site-metrics/report.html")&&h.get(g.getAthenaUrlPrefix()+"alert/REDIRECT_TO_BIZ_REP?ids\x3d"+d.id);f.setPinned(!1);k.send({from:g.getFrom(),where:b?k.getContext("pushNotification"):k.getContext("alert"),to:"launch-tool",additionalObj:{item:c,rank:l,total:n,itemUrl:m,itemText:p},
payloadObj:{notificationId:d.id,notificationType:d.type,notificationName:d.name}})},toolExternal:function(a){f.setPinned(!1);a=a.currentTarget;a.hasAttribute("data-tool")&&k.send({from:g.getFrom(),where:k.getContext("tools"),to:k.sanitizeEventPart(e.gda(a,"tool"))})},pushNotificationInternal:function(a){A.alertsInternal(a,!0)},pushNotificationExternal:function(a){A.alertsExternal(a,!0)},caseLog:function(){f.setPinned(!1);k.send({from:g.getFrom(),where:k.getContext("footer"),to:k.getPlace("caseLog")})},
forums:function(){"selfServiceCard"===g.getFrom()&&x.hideIssueNotListedLink();k.send({from:g.getFrom(),where:k.getContext("footer"),to:k.getPlace("forums")})},contact:function(a){d.isActive()?(a.preventDefault(),d.displayDeflectionCard(k.getContext("footer"))):(f.setPinned(!1),k.send({from:g.getFrom(),where:k.getContext("footer"),to:k.getPlace("contact")}))},chat:function(a){a.preventDefault();n.startChat();k.send({from:g.getFrom(),where:k.getContext("footer"),to:k.getPlace("chat")})}};return{init:A.init,
getLinkType:A.getLinkType,contentLink:A.contentLink}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-state","spaui-notification-card-category","spaui-events","spaui-alerts","spaui-ui").register("spaui-notification-card",function(c,e,l,k,g,f,m,p,h){var b,a=null,d=[],r={init:function(a){r.hydrate(a);r.bind();m.subscribe(m.getName("notificationListUpdated"),r.onNotificationListUpdated);m.subscribe(m.getName("notificationFetchComplete"),r.onNotificationFetchComplete);m.subscribe(m.getName("newPage"),
r.onNewPage)},hydrate:function(a){b=a},bind:function(){b.delegate(".spaui-alert-load-all-node-outside","click",r.loadCardHandle);b.delegate(".spaui-notification-card-list-item","click",r.loadCategoryPageHandle);c.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-alert-view-notification-card","click",r.pushNotificationLoadAll)},pushNotificationLoadAll:function(a){r.loadCardHandle(a,!0)},onNotificationListUpdated:function(a){r.updateNotificationsCount(a)},onNotificationFetchComplete:function(a){b.find(".spaui-notification-card-list").find('.spaui-content-loading[data-category-name\x3d"categoryName"]'.replace("categoryName",
a)).hide()},onNewPage:function(a){a.type===k.getPageType("notificationCard")&&d.forEach(function(a){r.updateNotificationsCount(a);if(f.isFetchComplete(a))r.onNotificationFetchComplete(a)})},updateNotificationsCount:function(a){var d=b.find(".spaui-notification-card-list").find('.spaui-notification-card-count-bang[data-category-name\x3d"categoryName"]'.replace("categoryName",a));a=f.getNotificationsCount(a);d&&(d.html(a),0<a?d.show():d.hide())},loadCardHandle:function(a,b){a.preventDefault();r.displayNotificationCard(b)},
loadCategoryPageHandle:function(a){a.preventDefault();a=c.$(this).data("category-name");r.displayNotificationCategoryPage(a)},displayNotificationCard:function(c){h.getVisible()||h.summoner({});a=b.find(".spaui-alert").clone();var f=l.getAthenaUrlPrefix()+"athena-notification-card?requestId\x3d"+e.incrementChildRequestId();k.placeEndpoint("notificationCard",g.enhanceUrl(f),function(){r.loadSingleAlert();r.initializeNotificationCategoryPage();e.send({from:l.getFrom(),where:c?e.getContext("pushNotification"):
e.getContext("notificationCard"),to:e.getPlace("notificationCardDiscoverd"),additionalObj:{categories:d}})})},initializeNotificationCategoryPage:function(){var a=b.find(".spaui-notification-category-page-list").children();d=[];a.each(function(a,b){a=c.$(b).clone();c.$(b).remove();b=a.data("category-name");d.push(b);f.init(a,b)})},displayNotificationCategoryPage:function(a){k.placeElement(f.getTemplate(a),"notificationCardCategory",function(){e.send({from:l.getFrom(),where:e.getContext("notificationCardCategory"),
to:e.getPlace("notificationCategoryDiscovered"),additionalObj:{categoryName:a}});p.onLoadAllAlerts({categoryName:a})})},loadSingleAlert:function(){b.find(".spaui-notification-card-single-alert").append(a);p.dynamicHydrate()}};return{init:r.init}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-state","spaui-ajax","spaui-util","spaui-events","spaui-alerts","spaui-alert-util","spaui-alert-metrics").register("spaui-notification-card-category",function(c,e,l,k,g,f,m,p,h,b,a){var d=
{maxRetry:5,timeBetweenRetries:5E3,contentFadeIn:300},r={},n={$categoryPageTemplate:null,fetchComplete:!1,moreNotificationsPresent:!0,$notifications:null,notificationIdList:[],retry:0},x={init:function(a,b){x.setContext(b,c.$.extend(!0,{},n));x.getContext(b).$categoryPageTemplate=a;x.fetchNotificationsByCategories(b)},fetchNotificationsByCategories:function(a){var b=l.getAthenaUrlPrefix()+"athena-notification-card/"+a+"?requestId\x3d"+e.incrementChildRequestId();f.get(g.enhanceUrl(b),{},function(b){x.onUpdatedNotificationResponse(c.$(b.data),
a)},function(){x.retryFetch(a)})},onUpdatedNotificationResponse:function(a,b){var d=a.find(".spaui-alerts-all");x.processNotifications(d,b);x.getContext(b).moreNotificationsPresent=m.stringToBool(a.find("input#spaui-alerts-more-alerts-present")[0].value);p.publish(p.getName("notificationListUpdated"),b);h.dynamicHydrate();x.recordMetricsForNotificationsCountByCategory(b);x.retryFetch(b)},retryFetch:function(a){x.getContext(a).retry++;if(x.shouldRetryFetch(a))c.delay(x.fetchNotificationsByCategories,
d.timeBetweenRetries,a);else x.onFetchComplete(a)},processNotifications:function(a,e){var f=a.find(".spaui-alert"),g=x.getContext(e);null===g.$notifications&&(g.$notifications=a.empty(),g.$categoryPageTemplate.find(".spaui-notification-card-body").append(g.$notifications.clone()));if(!(0>=f.length)){var h=m.selectorToClass(".spaui-alert-animate");f.each(function(a,d){a=c.$(d);d=b.getAlertDetails(a).id;x.isNotificationNew(e,d)&&(a.hide(),a.addClass(h),g.notificationIdList.push(d),g.$notifications.append(a.clone()))});
a=g.$notifications.find(".spaui-alert-animate").clone();g.$notifications.find(".spaui-alert-animate").removeClass(h);g.$categoryPageTemplate.find(".spaui-alerts-all").append(a);g.$categoryPageTemplate.find(".spaui-alert-animate").removeClass(h).fadeIn(d.contentFadeIn);x.onNotificationsPartialLoad(e,a)}},onNotificationsPartialLoad:function(b,d){b={categoryName:b};var c=[],f=[];d.find(".spaui-alert-info:visible").each(function(){c.push(m.gda(this,"id"))});d.find(".spaui-alert-info.spaui-alert-fixed:visible").each(function(){f.push(m.gda(this,
"id"))});0<c.length&&a.massDiscover(e.getContext("allAlerts"),c,b);0<f.length&&a.massRead(e.getContext("allAlerts"),f,b)},onFetchComplete:function(a){var b=x.getContext(a),c=b.$categoryPageTemplate;b.fetchComplete=!0;0>=x.getNotificationsCount(a)&&(c.find(".spaui-no-notification").fadeIn(d.contentFadeIn),c.find(".spaui-notification-card-footer").fadeIn(d.contentFadeIn));c.find(".spaui-notification-card-head-loader").hide();p.publish("notificationFetchComplete",a)},recordMetricsForNotificationsCountByCategory:function(a){0===
x.getContext(a).retry&&(a=c.$.extend(!0,{categoryName:a,notificationsCount:x.getNotificationsCount(a)},x.getNotificationCountByType(a)),e.send({from:l.getFrom(),where:e.getContext("notificationCardCategory"),to:e.getPlace("notificationsCount"),additionalObj:a}))},getNotificationCountByType:function(a){var d={};x.getVisibleNotifications(a).each(function(a,e){a=c.$(e);a=b.getAlertDetails(a).type;d[a]===C&&(d[a]=0);d[a]++});return d},isNotificationNew:function(a,b){return 0>x.getContext(a).notificationIdList.lastIndexOf(b)},
shouldRetryFetch:function(a){a=x.getContext(a);return a.moreNotificationsPresent&&a.retry<=d.maxRetry},isFetchComplete:function(a){return x.getContext(a).fetchComplete},getNotificationsCount:function(a){return x.getVisibleNotifications(a).length},getVisibleNotifications:function(a){return x.getContext(a).$categoryPageTemplate.find(".spaui-alert").not(".spaui-alert-dismissed")},getTemplate:function(a){return x.getContext(a).$categoryPageTemplate},overrideConfig:function(a){d=c.$.extend({},d,a)},getContext:function(a){return r[a]},
setContext:function(a,b){r[a]=b}};return{init:x.init,getTemplate:x.getTemplate,isFetchComplete:x.isFetchComplete,getNotificationsCount:x.getNotificationsCount,overrideConfig:x.overrideConfig}});ASPP.when("ASPA","spaui-ui","spaui-session").register("spaui-overlay",function(c,e,l){var k=c.$(G),g={overlayActive:!1,fadeTime:200},f={createFullscreenOverlay:function(){g.overlayActive||(g.overlayActive=!0,f.bindWindowResize(),f.recomputeSize(),e.hideClose(),e.hideResizer(),e.contentChanged())},removeOverlay:function(){g.overlayActive&&
(g.overlayActive=!1,f.unbindWindowResize(),e.showClose(),e.showResizer(),l.isLargeSize()?e.makeLarge():e.makeSmall(),e.contentChanged())},bindWindowResize:function(){k.bind("resize",f.recomputeSize)},unbindWindowResize:function(){k.unbind("resize",f.recomputeSize)},recomputeSize:function(){var c=k.width();e.setSpecialSize(c,!0)},overrideConfig:function(e){g=c.$.extend(g,e)},isActive:function(){return g.overlayActive}};return{createFullscreenOverlay:f.createFullscreenOverlay,removeOverlay:f.removeOverlay,
overrideConfig:f.overrideConfig,isActive:f.isActive}});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history","spaui-discovery","spaui-ajax").register("spaui-predictive",function(c,e,l,k,g,f){var m,p=!0,h=[],b=null,a={init:function(b){a.hydrate(b);a.bind()},hydrate:function(d){m=d;g.register("predictive","info",!1,a.adoptionCheck);g.register("top-issues","info",!1,a.adoptionCheck);b=k.getAugurUrlPrefix()+"execute-workflow?"},bind:function(){m.delegate(".spaui-ph-expand-closed","click",a.show);
m.delegate(".spaui-ph-expand-open","click",a.hide);m.delegate(".spaui-ph-dismiss","click",a.dismiss);m.delegate(".spaui-ph-item-feedback-yes","click",a.yes);m.delegate(".spaui-ph-item-feedback-no","click",a.no);m.delegate("#spaui-ph-dismiss-legal","mouseenter mouseleave",a.legal);m.delegate("#spaui-ph-view-legal","mouseenter mouseleave",a.legal)},getDetails:function(a){a=c.$(a.currentTarget).closest(".spaui-ph-item");return{qid:a.data("question"),pid:c.$("#spaui-ph-header").attr("data-prediction"),
rank:a.data("rank"),total:a.data("total"),workflowId:a.data("workflow")}},show:function(b){b.preventDefault();var e=a.getDetails(b);b=c.$(b.currentTarget);c.$("#spaui-ph-item-"+e.qid+"-closed").hide();c.$("#spaui-ph-item-"+e.qid+"-open").show();if(e.workflowId){var f=c.$("#spaui-ph-workflow-"+e.qid);0<f.length&&"N"===f.attr("spaui-ph-workflowdisplayed")&&(f.attr("spaui-ph-workflowdisplayed","Y"),a.displayWorkflow(e))}"true"!==b.attr("data-logged")&&(b.attr("data-logged","true"),c.$.post("/help/track/api/send-user-action?"+
a.getIdParams(e)));a.instrument(e,l.getPlace("setPhOpen"))},displayWorkflow:function(d){f.post(b+"workflowId\x3d"+d.workflowId+"\x26client\x3dAthenaPH",{dataType:"html"},function(b){a.flush(d,b.data,!0)},function(b){a.flush(d,b.data,!1)})},flush:function(a,b,e){e?(c.$("#spaui-ph-workflow-"+a.qid).html(b),c.$("#spaui-ph-item-"+a.qid+"-feedback").show()):c.$("#spaui-ph-workflow-"+a.qid).parent().remove()},hide:function(b){b.preventDefault();b=a.getDetails(b);c.$("#spaui-ph-item-"+b.qid+"-open").hide();
c.$("#spaui-ph-item-"+b.qid+"-closed").show();a.instrument(b,l.getPlace("setPhClose"))},dismiss:function(b){b.preventDefault();b=a.getDetails(b);c.$.post("/help/track/api/send-feedback-text?feedbackText\x3ddismissed\x26"+a.getIdParams(b));a.instrument(b,l.getPlace("setPhDismiss"));c.$("#spaui-ph-item-"+b.qid).remove()},yes:function(b){b.preventDefault();b=a.getDetails(b);c.$.post("/help/track/api/send-feedback?feedback\x3dtrue\x26"+a.getIdParams(b));c.$("#spaui-ph-item-"+b.qid+"-feedback").hide();
c.$("#spaui-ph-item-"+b.qid+"-feedback-ui-yes").show();a.instrument(b,l.getPlace("setPhYes"))},no:function(b){b.preventDefault();b=a.getDetails(b);c.$.post("/help/track/api/send-feedback?feedback\x3dfalse\x26"+a.getIdParams(b));c.$("#spaui-ph-item-"+b.qid+"-feedback").hide();c.$("#spaui-ph-item-"+b.qid+"-feedback-ui-yes").show();a.instrument(b,l.getPlace("setPhNo"))},getIdParams:function(a){return"id\x3d"+a.qid+"\x26prediction\x3d"+a.pid},instrument:function(a,b){l.send({from:k.getFrom(),to:b,where:l.getContext("predictive"),
payloadObj:{resultRank:a.rank,resultTotal:a.total},additionalObj:{questionId:a.qid,topicId:a.pid,workflowId:a.workflowId}})},legal:function(a){"mouseenter"===a.type&&(m.find("#spaui-ph-dismiss-legal-icon").addClass("on"),m.find("#spaui-ph-view-legal").addClass("on"));"mouseleave"===a.type&&(m.find("#spaui-ph-dismiss-legal-icon").removeClass("on"),m.find("#spaui-ph-view-legal").removeClass("on"))},allowAdoption:function(a){return p&&!!a&&-1===h.indexOf(a)},adoptionCheck:function(){var b=e.gebi("spaui-ph-header"),
b=b?e.gda(b,"prediction"):null;a.allowAdoption(b)&&(c.$.post("/help/track/api/send-adoption?predictionId\x3d"+b),h.push(b))},preventAdoption:function(){p=!1}};return{init:a.init,preventAdoption:a.preventAdoption}});ASPP.when("ASPA","spaui-events","spaui-util","spaui-alert-util").register("spaui-push-notification",function(c,e,l,k){var g,f,m,p,h=!1,b={duration:{show:400,hide:300,minimize:300},severities:{HIGH:"urgent",MEDIUM:"alert",OPPORTUNITY:"opp",INFORMATION:"info"},showDismissClass:"spaui-pn-show-dismiss",
showMinimizeClass:"spaui-pn-show-minimize"},a={init:function(b){a.hydrate(b);a.bind()},hydrate:function(a){g=c.$("#spaui-templates");f=g.find("#spaui-push-notification");m=c.$("#sc-quicklink-help").find(".sc-ql-a").find(".sc-quick-txt");p=c.$("#sc-quicklinks-top")},bind:function(){G.addEventListener("resize",function(){h&&a.adjust()})},isCurrentPushNotificationOverridable:function(){return f.find(".pushContent").hasClass("pushOverridable")},createWithOptions:function(d,c){if(!h||c.overrideExisting&&
a.isCurrentPushNotificationOverridable()){h&&a.afterHideNotification();var e=f.find("#spaui-pn-title");c.title?(e.text(c.title),e.parent().removeClass("asp-hidden")):e.parent().addClass("asp-hidden");d.addClass("pushContent");c.overridable&&d.addClass("pushOverridable");f.find("#spaui-pn-content").append(d);f.find(".spaui-alert-dismiss").remove();f.attr("class","");f.addClass(c.className?c.className:a.getClassName(c.severity));c.noDismissal||(c.hasMinimizeButton?f.addClass(b.showMinimizeClass):f.addClass(b.showDismissClass));
c.expandable?(a.bindExpand(),f.removeClass("spaui-inline-alert")):(f.addClass("spaui-inline-alert"),a.expandPushNotification());p.prepend(f);a.adjust();h=!0;return f}},create:function(b,c,e,f,g){return a.createWithOptions(c,{title:b,severity:e,hasMinimizeButton:f,expandable:g})},bindExpand:function(){f.click(a.expandPushNotification);f.removeClass("expanded")},bindDismissOrMinimize:function(){f.hasClass(b.showMinimizeClass)?f.find("#spaui-pn-title-bar").click(a.collapsePushNotification):f.hasClass(b.showDismissClass)&&
f.find("#spaui-pn-close-icon").click(a.hidePushNotification)},hide:function(){var d=f.data("id");d?k.hideSingleAlert(d,a.afterHideNotification):f.fadeOut(b.duration.hide,a.afterHideNotification)},isActive:function(){return h},expandPushNotification:function(){e.publish(e.getName("pushNotificationOpened"));f.unbind("click",a.expandPushNotification);f.addClass("expanded");var d=f.find("#spaui-pn-content");d.css("top",-1*d.height());d.animate({top:0},{duration:b.duration.show,complete:a.bindDismissOrMinimize})},
collapsePushNotification:function(){e.publish(e.getName("pushNotificationMinimize"));f.find("#spaui-pn-title-bar").unbind("click",a.collapsePushNotification);var d=f.find("#spaui-pn-content");d.animate({top:-1*d.height()},{duration:b.duration.minimize,complete:a.bindExpand})},hidePushNotification:function(){e.publish(e.getName("pushNotificationClosed"));a.hide()},afterHideNotification:function(){h=!1;f.removeClass("expanded");f.find(".pushContent").remove();g.append(f);f.attr("style","")},adjust:function(){f.css("top",
p.height());f.css("right",-l.getElementRightOffset(p));var a=f.find("#spaui-pn-arrow"),b=m.offset().left-f.offset().left,b=b+m.width()/2,b=parseInt(b-10,10);a.css("left",b)},getClassName:function(a){if(a)return"spaui-pn-"+a.toLowerCase();throw"severity is not set!";}};return{init:a.init,create:a.create,createWithOptions:a.createWithOptions,hide:a.hide,isActive:a.isActive,HIGH:b.severities.HIGH,MEDIUM:b.severities.MEDIUM,OPPORTUNITY:b.severities.OPPORTUNITY,INFORMATION:b.severities.INFORMATION,overrideConfig:function(a){b=
c.$.extend(b,a)}}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-util").register("spaui-rightclick",function(c,e,l,k){var g=null,f=null,m=null,p={init:function(c){p.populate(c);p.enhance();p.bind()},populate:function(e){g=e;f=c.$("#sc-quicklink-help");m=k.getContactUsFooterLink()},enhance:function(){f.attr("data-feature-name","scHelpLink");m.attr("data-feature-name","scGetSupportLink")},bind:function(){var e=function(b){b=c.$(b.target);p.handleRightClick(b)};g.bind("contextmenu",e);f.delegate("a",
"contextmenu",e);m.bind("contextmenu",e);c.$(G).delegate("#spaui-push-notification","contextmenu",e)},handleRightClick:function(c){var b=c.closest("[data-feature-name]").data("feature-name");c=c.closest("a").attr("href");c=c!==C?k.getTopicIDFromLink(c):C;b={from:l.getFrom(),where:e.getContext("rightClick"),to:b};c!==C&&(b.additionalObj={helpTopicId:c});e.send(b)}};return{init:p.init}});ASPP.when("ASPA","spaui-util","spaui-history","spaui-session","spaui-metrics","spaui-content","spaui-search-suggestions",
"spaui-help","spaui-global-nav-search","spaui-events","spaui-self-service-card","spaui-search-state").register("spaui-search",function(c,e,l,k,g,f,m,p,h,b,a,d){var r=(Object.freeze||function(a){return a})({UNKNOWN_REDIRECT:"unknown-redirect",INVENTORY_REDIRECT:"inventory-redirect",ORDER_REDIRECT:"order-redirect",SKUCENTRAL_REDIRECT:"skucentral-redirect",ATHENA_SEARCH:"search",ATHENA_HELP:"help"}),n={},x="Search",y=!1,w=null,q=!1,B={},t={init:function(a,b){t.hydrate(a);t.bind();t.subscribe();x=n.search.attr("placeholder");
h.init(t.externalSubmitSearch,t.bindWithOptions);m.init(b,x)},hydrate:function(a){n.doc=c.$(document);n.spaui=a;n.search=a.find("#spaui-search-box");n.searchSection=a.find(".spaui-head-controls-search");n.searchIcon=a.find("#spaui-search-icon");w=l.getAthenaUrlPrefix()+"athena-search"},bind:function(){n.searchIcon.click(t.clickSearch);t.bindWithOptions(n.search,{invoker:t.submitSearch,onBlur:t.blurSearch,onFocus:t.focusSearch});n.spaui.delegate("#spaui-toggle-forums","click",t.toggleForumsResultsClick);
n.spaui.delegate(".spaui-search-trigger","click",t.handleSearchTriggerClick)},bindWithOptions:function(a,b){if(a.data("spaui-bound-search-id"))throw"Cannot bind a search box as that element is already bound";var d=e.getUid();a.data("spaui-bound-search-id",d);B[d]={invoker:b.invoker,clearFunction:b.clearFunction,object:a};a.keydown(t.boundKeyDown(a));a.keyup(t.synchronizeAllBoundSearchBoxes);b.onBlur&&a.blur(b.onBlur);b.onFocus&&a.focus(b.onFocus);b.useSearchSuggestions&&a.focus(t.suggestionsOnFocus(a,
b.clientId,b.onComplete))},newBind:function(a,b){t.bindWithOptions(a,{invoker:b})},subscribe:function(){b.subscribe(b.getName("newPage"),t.handleNewPage)},toggleForumsResultsClick:function(a){a.preventDefault();t.toggleForumResults(g.getContext("navSearch"))},toggleForumResults:function(a){var b=c.$("#spaui-toggle-forums"),e=(y=!y)?"exclude-label":"include-label",e=b.find("input").data(e);t.toggleForumsClasses(y);b.toggleClass("asp-button-selected",y);d.setSearchShowForums(y);g.send({from:l.getFrom(),
to:y?g.getPlace("setForumsVisible"):g.getPlace("setForumsHidden"),where:a});b.find("input").val(e);b.find(".asp-button-text").html(e)},toggleForumsClasses:function(a){n.spaui.find(".spaui-search-results").toggleClass("showForums",a)},clickSearch:function(a){a.preventDefault();n.search.trigger("focus");t.boundKeyDown(n.search)({keyCode:13})},suggestionsOnFocus:function(a,b,d){return function(){m.newBind(a,t.suggestionsSearch(d),b,a.width())}},focusSearch:function(){n.searchSection.addClass("on");n.searchIcon.addClass("on");
m.newBind(n.search,t.suggestionsSearch(),C,n.searchSection.width())},blurSearch:function(){n.searchSection.removeClass("on");n.searchIcon.removeClass("on")},synchronizeAllBoundSearchBoxes:function(a){a=c.$(a.target).val();t.synchronizeAllBoundSearchBoxesWithValue(a)},synchronizeAllBoundSearchBoxesWithValue:function(a){Object.keys(B).forEach(function(b){b=B[b];!a&&b.clearFunction?b.clearFunction():b.object.val(a)})},boundKeyDown:function(a){return function(b){b=b.keyCode||b.which;var d=a.val();""!==
d&&13===b&&t.boundObjectIsFocused(a)&&t.invokeBoundSearch(a,d)}},invokeBoundSearch:function(a,b){B[a.data("spaui-bound-search-id")].invoker(b)},boundObjectIsFocused:function(a){return c.$(document.activeElement).is(a)},suggestionsSearch:function(a){return function(b){t.submitSearch(null,b,null,a)}},submitSearch:function(b,e,h,m,q){"selfServiceCard"===l.getFrom()&&a.hideIssueNotListedLink();c.$.isFunction(m)||(m=function(){});c.$.isFunction(q)||(q=function(){});var x=n.search.val();k.storeSearchQuery(x);
b===C&&(b={});b=c.$.extend({from:l.getFrom(),where:g.getContext("navSearch")},b,{to:g.getPlace("search")});e?(m(r.ATHENA_HELP),p.displayHelpTopic(e,null,b)):(d.clear(),d.setSearchQuery(x),d.setSearchStart(0),d.setSearchLocale(h?h:""),l.pushSearchState(d.get()),l.pushPop(""),t.placeSearch(c.$.proxy(f.placeEndpoint,null,f.getPageType("search")),c.$.proxy(t.searchCompleted,null,m,q,b),c.$.proxy(t.redirectFilter,null,m,b)))},searchCompleted:function(a,b,f,h){h.isError?(f.isError=!0,f.errorDetails=h.errorDetails,
b(h)):h.isPlatformError?(f.isPlatformError=!0,c.$("#spaui-error-search-retry").bind("click",function(){e.gebi("spaui-search-icon").click()}),b(h)):(d.setSearchTotal(c.$("#spaui-content").find("#spaui-search-total").data("total")),t.applyStandardMetricMetadata(f),y=!1,0<n.spaui.find(".spaui-search-result-help").length?t.toggleForumsClasses(y):(b=e.gebi("spaui-template-only-forum-results").innerHTML,n.spaui.find(".spaui-search-results").before(b),t.toggleForumResults(g.getContext("noHelpResults"))),
a(r.ATHENA_SEARCH),t.attemptToFillSearchPage());g.send(f)},handleSearchTriggerClick:function(a){a.preventDefault();a=e.gda(a.currentTarget,"search");a!==C&&(n.search.val(a),t.submitSearch())},externalSubmitSearch:function(a,b,d,c,e,f){n.search.val(a);t.submitSearch(b,c,d,e,f)},setSearchBoxValue:function(a){if(a===C||null===a)a="";try{a=decodeURIComponent(a)}catch(b){console.warn("Malformed URI was passed into search: "+a)}t.synchronizeAllBoundSearchBoxesWithValue(a)},searchScroll:function(){if(!q&&
e.gebi("spaui-results")){var a=c.$("#spaui-content").scrollTop(),b=c.$("#spaui-content").innerHeight(),h=c.$("#spaui-content").prop("scrollHeight");a+b>=h-d.getSearchScrollBuffer()&&(0<d.getSearchTotal()&&d.setSearchStart(d.getSearchStart()+d.getSearchSize()),d.getSearchStart()+d.getSearchSize()>d.getSearchTotal()||(q=!0,t.placeSearch(f.placeEndpointAsAppend,function(a,b){a={isError:!a,errorDetails:b,from:l.getFrom(),where:g.getContext("results"),to:g.getPlace("searchMore")};t.applyStandardMetricMetadata(a);
g.send(a);q=!1;t.toggleForumsClasses(y);t.attemptToFillSearchPage()})))}},isRedirectSearch:function(a){return a&&a.match&&a.match(/.*-redirect$/)},redirectFilter:function(a,b,e){if(t.isSearchRedirectDom(e.content)){e=c.$(e.content).find("#spaui-redirect");var f=e.data("url"),h=r.UNKNOWN_REDIRECT;f.match(/\/inventory/)?h=r.INVENTORY_REDIRECT:f.match(/\/orders/)?h=r.ORDER_REDIRECT:f.match(/\/skucentral/)&&(h=r.SKUCENTRAL_REDIRECT);a(h);a=e.data("type").split("_").join("-");k.setPinned(!1);g.send({from:b&&
b.from!==C?b.from:l.getFrom(),where:g.getContext("results"),to:g.getPlace("searchRedirect"),additionalObj:{searchRedirect:a,query:d.getSearchQuery()},timeout:300},C,function(){G.location.href=f});return!1}return!0},placeSearch:function(a,b,c){var f=e.formEncode(d.getSearchQuery());a(w+"?query\x3d"+f+"\x26locale\x3d"+d.getSearchLocale()+"\x26start\x3d"+d.getSearchStart()+"\x26size\x3d"+d.getSearchSize()+"\x26rid\x3d"+g.getParentRequestId()+"_"+g.getRequestId(),b,!0,!1,{},c)},attemptToFillSearchPage:function(){setTimeout(function(){t.searchScroll()},
100)},handleNewPage:function(a){"search"===a.type&&t.rebindScroll();a.wentBack&&t.setSearchBoxValue(l.getSearchQueryHistory());t.blurSearch();q=!1},rebindScroll:function(){n.spaui.find("#spaui-content").unbind("scroll");n.spaui.find("#spaui-content").bind("scroll",t.searchScroll)},isSearchRedirectDom:function(a){return 0<c.$(a).find("#spaui-redirect").length},applyStandardMetricMetadata:function(a){var b=["start\x3d"+d.getSearchStart(),"size\x3d"+d.getSearchSize(),"query\x3d"+d.getSearchQuery()];
a.payloadObj={queryString:b.join("|"),resultTotal:d.getSearchTotal()};b=e.truncateString(d.getSearchQuery(),100,"...");a.additionalObj=c.$.extend(a.additionalObj,{query:b})}};return{setSearchBoxValue:t.setSearchBoxValue,externalSubmitSearch:t.externalSubmitSearch,init:t.init,isRedirectSearch:t.isRedirectSearch,SEARCH_TYPES:r,newBind:t.newBind,newBindWithOptions:t.bindWithOptions}});(function(){ASPP.when("ASPA").register("spaui-search-state",function(c){var e={content:"any",query:null,start:0,total:null,
size:20,scrollBuffer:200,showForums:!1,locale:""},l=c.$.extend(!0,{},e);return{getSearchScrollBuffer:function(){return l.scrollBuffer},getSearchSize:function(){return l.size},getSearchContent:function(){return l.content},setSearchStart:function(c){l.start=c},getSearchStart:function(){return l.start},setSearchTotal:function(c){l.total=c},getSearchTotal:function(){return l.total},setSearchQuery:function(c){l.query=c},getSearchQuery:function(){return l.query},setSearchLocale:function(c){l.locale=c},
getSearchLocale:function(){return l.locale},setSearchShowForums:function(c){l.showForums=c},getSearchShowForums:function(){return l.showForums},isActive:function(){return null!==l.query},clear:function(){l=c.$.extend(!0,{},e)},set:function(k){l=c.$.extend(!0,{},e,k)},get:function(){return l}}})})();ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history","spaui-session","spaui-ajax","spaui-shim-initialized").register("spaui-search-suggestions",function(c,e,l,k,g,f){var m={name:"spaui-search-suggestions",
serviceUrl:null,lastRequestId:0,someResults:!1,selectedResult:null,lastSearchQuery:null,searchIconMargin:27,dontHideOnNextBlur:!1,weblabActive:!1,enabled:!0,invokeSearchFunc:null,externalPlace:null,defaultWidth:300,enabledSearchSuggestions:!1,searchPlaceholder:null,requestTypingDelay:300,visible:!1},p={tools:{resultKind:"SellerCentralTool",kind:"tool",title:null,number:3,lineBreak:!1,priority:3},merged:{resultKind:"Merged",kind:"merged",title:null,number:3,lineBreak:!0,priority:1},autohelp:{resultKind:"PredictiveHelpAuto",
kind:"autohelp",title:null,number:3,lineBreak:!0,priority:2},previous:{resultKind:"previous",kind:"previous-search",title:null,number:3,priority:0}},h={},b={init:function(a,c){e.gebi("spaui-search-suggestions")&&(m.weblabActive=!0);m.enabledSearchSuggestions=a;m.searchPlaceholder=c;m.serviceUrl=k.getAthenaUrlPrefix()+"suggest-search/";b.hydrate()},hydrate:function(){h.templateHolder=c.$("#spaui-template-search-suggestions");h.widget=c.$("#spaui-search-suggestions");h.list=c.$("#spaui-search-suggestions-list");
h.loadingGif=c.$('\x3cspan class\x3d"spaui-loading-gif-medium spaui-suggestions-loading"\x3e');Object.keys(p).forEach(function(a){p[a].title=h.widget.data(a+"-title")})},newBind:function(a,c,e,f){b.isDisabled()||(f===C&&(f=m.defaultWidth),b.resize(f),b.unbind(h.input),b.bind(a),a.after(h.widget),h.widget.css("top",a.outerHeight()-1),m.invokeSearchFunc=c,m.externalPlace=e,b.show())},unbind:function(a){a&&(h.templateHolder.append(h.widget),a.unbind("focus",b.show),a.unbind("blur",b.onBlur),a.unbind("keydown",
b.onKeyDown),a.unbind("input",b.onChange),m.invokeSearchFunc=null,m.currentPlace=null)},bind:function(a){h.input=a;h.input.attr("autocomplete","off");h.input.focus(b.show);h.input.blur(b.onBlur);h.input.keydown(b.onKeyDown);h.input.bind("input",null,b.onChange)},onBlur:function(){m.dontHideOnNextBlur||b.hide();m.dontHideOnNextBlur=!1},onKeyDown:function(a){if(!b.isDisabled()&&(40===a.keyCode||38===a.keyCode||13===a.keyCode)){var c=!0;switch(a.keyCode){case 40:b.moveSelectionDown();break;case 38:b.moveSelectionUp();
break;case 13:b.hide();var c=!1,e=b.getSelectedSuggestion();e&&(c=b.handleSpecialSuggestionSelection(e,a))}return c?(a.preventDefault(),a.stopImmediatePropagation(),!1):!0}},onChange:function(){b.resetSelection(!1);e.delayFunc(function(){var a=h.input.val();b.search(a)},m.requestTypingDelay)},resize:function(a){b.isDisabled()||h.widget.width(a-m.searchIconMargin)},show:function(){var a=h.input.val();m.visible=!0;""===a||a===m.searchPlaceholder?b.loadPreviousSearchSuggestions():m.someResults?h.widget.addClass("shown"):
(a=h.input.val(),b.search(a))},hide:function(){h.widget.removeClass("shown");m.visible=!1},showLoading:function(){h.widget.addClass("shown");h.list.empty();h.widget.append(h.loadingGif)},hideLoading:function(){h.loadingGif.remove()},enable:function(){m.enabled=!0},disable:function(){m.enabled=!1},isDisabled:function(){return!m.enabled||!m.weblabActive},search:function(a){a=a.trim();if(!b.invalid(a)){var d=++m.lastRequestId;""===a?b.showSearchResults(d,!1,[],a):(b.showLoading(),b.instrumentRequest(),
f.get(m.serviceUrl+encodeURIComponent(a)+"/",{dataType:"json"},c.$.proxy(function(a,c,d){b.showSearchResults(a,!0,c,d.data)},null,d,a),function(){b.hide();b.instrumentFailure()}))}},invalid:function(a){return b.isDisabled()||!m.enabledSearchSuggestions||a===m.lastQuery||a===m.searchPlaceholder},showSearchResults:function(a,c,e,f){b.isDisabled()||a!==m.lastRequestId||(b.hideLoading(),m.lastQuery=e,b.displayResults(f,c))},displayResults:function(a,c){if(!b.isDisabled())if(c&&b.instrumentResponse(a.length),
a&&0!==a.length){m.someResults=!0;var e=h.input.val();h.list.empty();var f=1;c=Object.keys(p).map(function(a){return p[a]});c.sort(function(a,b){return a.priority-b.priority});c.forEach(function(c){var d=b.getFilteredResults(c,a);d.forEach(function(a,d){c.title&&0===d&&h.list.append('\x3cspan class\x3d"suggestion-group-title"\x3e'+c.title+('\x3cspan class\x3d"spaui-sprite spaui-suggestion-icon spaui-suggestion-icon-'+c.kind+'"\x3e\x3c/span\x3e')+"\x3c/span\x3e");h.list.append(b.generateSearchSuggestionItem(e,
a,c,a.link,a.topicId,f));f++});c.lineBreak&&0<d.length&&h.list.append('\x3cdiv class\x3d"suggestion-group-separator"\x3e')});m.lastSearchQuery=e;m.lastNumResults=f-1;b.determineShow();b.resetSelection();b.rebindList(f)}else h.list.empty(),h.widget.removeClass("shown"),m.someResults=!1},determineShow:function(){h.widget.toggleClass("shown",b.searchIsFocused())},searchIsFocused:function(){return m.visible||h.input.is(":focus")||document.activeElement.id===h.input.attr("id")},getFilteredResults:function(a,
d){return d.filter(function(b){return b.kind===a.resultKind}).slice(0,a.number).map(function(d){var e=b.getTopicIDFromResult(a,d),f=b.generateLinkText(a,d,e);return c.$.extend(d,{topicId:e,link:f})}).filter(function(a){return null!==a.link})},getTopicIDFromResult:function(a,d){if(b.isHelpArticle(a)){try{var e=JSON.parse(d.data);if(c.$.isArray(e))return e[0].HELP_TOPIC_ID}catch(f){}return d.data}return null},generateLinkText:function(a,c,e){var f="/hz/help/search?query\x3d"+c.text;if("SellerCentralTool"===
a.resultKind)try{f=JSON.parse(c.data).ToolPath}catch(g){return null}else if(b.isHelpArticle(a))if(e)f="/gp/help/"+e;else return null;return f},generateSearchSuggestionItem:function(a,d,e,f,g,h){a=b.getHighlightedContent(a,d.text);f=c.$('\x3ca class\x3d"spaui-suggestion-'+e.kind+'" href\x3d"'+f+'"\x3e'+a+"\x3c/a\x3e");f.addClass("result-link");f.attr("data-name",d.text);f.attr("data-kind",e.kind);f.attr("data-rank",h);null!==g&&b.isHelpArticle(e)&&f.attr("data-topic-id",g);return f},isHelpArticle:function(a){return"PredictiveHelp"===
a.resultKind||"PredictiveHelpAuto"===a.resultKind},handleSpecialSuggestionSelection:function(a,c){var f=!1;if(a.hasClass("spaui-suggestion-tool"))e.redirect(a.attr("href")),g.setPinned(!1),c.preventDefault(),f=!0;else if(a.hasClass("spaui-suggestion-help")||a.hasClass("spaui-suggestion-autohelp"))a=e.gda(a,"topic-id"),m.invokeSearchFunc(a),b.hide(),c.preventDefault(),f=!0;return f},rebindList:function(a){h.list.find(".result-link").each(function(){c.$(this).attr("data-total",a-1)});h.list.find("a").mousedown(function(){m.dontHideOnNextBlur=
!0});h.list.find("a").click(function(a){b.instrumentClick(this);var f=c.$(this);if(b.isSearchTypeSuggestion(f))return h.input.val(e.gda(f,"name")),h.input.trigger("keyup"),m.invokeSearchFunc(),b.hide(),a.stopImmediatePropagation(),!1;b.handleSpecialSuggestionSelection(f,a)})},isSearchTypeSuggestion:function(a){return a.hasClass("spaui-suggestion-previous-search")||a.hasClass("spaui-suggestion-merged")},getHighlightedContent:function(a,b){a=a.replace(/\W+/g," ");a=a.replace(/\s+/g," ");a=a.split(" ");
var c={},e;for(e in a)if(a.hasOwnProperty(e)){var f=a[e];c.hasOwnProperty(f)||""===f||(c[f]=!0)}e=Object.keys(c).join("|");return b.replace(new RegExp("("+e+")","gi"),'\x3cspan class\x3d"highlight_text"\x3e$1\x3c/span\x3e')},instrumentClick:function(a){a&&b.instrumentSend("result-selected",{query:h.input.val(),name:e.gda(a,"name"),kind:e.gda(a,"kind"),rank:e.gda(a,"rank"),total:e.gda(a,"total")})},instrumentRequest:function(){b.instrumentSend("request",{query:h.input.val()})},instrumentResponse:function(a){b.instrumentSend("response",
{query:h.input.val(),total:a})},instrumentFailure:function(){b.instrumentSend("request-error",{query:h.input.val()})},instrumentSend:function(a,b){l.send({from:m.externalPlace?m.externalPlace:k.getFrom(),to:a,where:l.getContext("searchSuggestions"),additionalObj:b})},resetSelection:function(a){m.selectedResult=null;b.changeSelection(a)},moveSelectionDown:function(){null===m.selectedResult?m.selectedResult=0:(m.selectedResult++,m.selectedResult>=m.lastNumResults&&(m.selectedResult=null));b.changeSelection()},
moveSelectionUp:function(){null===m.selectedResult?m.selectedResult=m.lastNumResults-1:(m.selectedResult--,0>m.selectedResult&&(m.selectedResult=null));b.changeSelection()},changeSelection:function(a){a=a===C?!0:a;h.list.find("a").removeClass("selected-result");var c=h.input.val(),f=m.lastSearchQuery;null!==m.selectedResult&&0<=m.selectedResult&&m.selectedResult<m.lastNumResults&&(f=b.getSelectedSuggestion(),f.addClass("selected-result"),f=e.gda(f,"name"));a&&c!==f&&h.input.val(f)},getSelectedSuggestion:function(){return null===
m.selectedResult?null:h.list.find("a").eq(m.selectedResult)},loadPreviousSearchSuggestions:function(){var a=[];g.getLastSearches().forEach(function(b){a.push({kind:"previous",text:e.stripHtmlTags(b)})});b.displayResults(a,!1)},overrideConfig:function(a){m=c.$.extend({},m,a)}};return{overrideConfig:b.overrideConfig,hide:b.hide,showLoading:b.showLoading,hideLoading:b.hideLoading,enable:b.enable,disable:b.disable,newBind:b.newBind,resize:b.resize,init:b.init}});ASPP.when("ASPA","spaui-events","spaui-events-external-hook",
"spaui-metrics","spaui-history","spaui-util","spaui-session","spaui-top-issues","spaui-content","spaui-custom-card","help-hub-footer").register("spaui-self-service-card",function(c,e,l,k,g,f,m,p,h,b,a){var d,r,n,x,y={footer:".spaui-footer",contactUsIcon:".spaui-footer-nav.spaui-footer-contact",forumsIcon:".spaui-footer-nav.spaui-footer-forum",linkItem:"#spaui-self-service-card .spaui-self-service-card-item-link",linkItemIssueNotListed:'#spaui-self-service-card .spaui-self-service-card-item-link[data-tool-id\x3d"Tool/IssueNotListed"]',
quickActionDescription:"#spaui-self-service-card .spaui-self-service-card-description",contactAssociateLink:"#spaui-contact-associate-link",innerContent:"#spaui-inner-content"},w=!1,q=!1,B=h.placeEndpointAsHome,t={search:"searchExecuted",forums:"forumsClicked"},E={init:function(a){q=a;b.register("selfServiceCard","athena-self-service-card",B,E.onLoad)},onLoad:function(a,b){E.hydrate(a);E.customizeCss(b);w||(E.bind(),E.subscribe(),w=!0);E.publishMetric("selfServiceCardDiscovered",{frictionType:!0===
b.highFriction?"highFriction":"lowFriction"})},hydrate:function(a){d=a;r=a.find(y.footer);a.find(y.contactUsIcon);n=a.find(y.linkItemIssueNotListed);x=a.find(y.quickActionDescription);c.$(y.contactAssociateTemplate)},bind:function(){d.delegate(y.linkItem,"click",E.linkItemClicked);d.delegate(y.contactAssociateLink,"click",E.clickCTIFooterLink)},customizeCss:function(a){r.addClass("spaui-hide-contact");!0!==a.highFriction&&E.hideIssueNotListedLink();p.areTopIssuesPresent()||x.addClass("visible")},
subscribe:function(){e.subscribe(e.getName("newPage"),E.handleNewPage);e.subscribe(e.getName("topIssueInteracted"),E.handleTopIssueInteraction);l.subscribe("phoebeSolutionInteracted",E.handlePhoebeResult);l.subscribe("moreSolutionsClicked",E.handleMoreSolutionsClicked)},handleNewPage:function(a){a=k.getPlace(a.type);f.isNull(t[a])||E.publishCardUsedEvent(t[a])},handleTopIssueInteraction:function(){E.publishCardUsedEvent("topIssueInteracted")},handlePhoebeResult:function(){E.publishCardUsedEvent("phoebeSolutionInteracted")},
handleMoreSolutionsClicked:function(){E.publishCardUsedEvent("moreSolutionsClicked")},linkItemClicked:function(a){m.setPinned(!1);a=c.$(a.target).closest(y.linkItem);a=E.getLinkData(a);var b={linkType:a.type};E.isIssueNotListedItemVisible()&&E.hideIssueNotListedLink(!0);if("CTI"===a.type){var d=a.CTI.split(":");b.CTI={C:d[0],T:d[1],I:d[2]}}d=!f.startsWith(a.id,"Category/");a.directAnswerName?E.goDirectAnswer(a.directAnswerName,a.CTI,d):(E.publishCardUsedEvent("selfServiceLinkClicked",b),E.publishMetric("selfServiceLinkClicked",
{toolId:a.id}),l.publish(e.getName("selfServiceLinkInteracted")))},isIssueNotListedItemVisible:function(){return n.is(":visible")},hideIssueNotListedLink:function(a){a?n.fadeOut(300):n.hide()},getLinkData:function(a){return{id:a.data("tool-id"),type:a.data("tool-type"),CTI:a.data("tool-cti"),weblabTreatment:a.data("tool-weblabtreatment"),directAnswerName:a.data("tool-directanswername")}},publishCardUsedEvent:function(a,b){b=c.$.extend({actionType:a},b);q&&0<=["searchExecuted","phoebeSolutionInteracted"].indexOf(a)?
(r.removeClass("spaui-self-service-card-footer"),e.publish(e.getName("featuresChanged"))):l.publish(e.getName("selfServiceCardUsed"),b)},publishMetric:function(a,b){k.send({from:g.getFrom(),where:k.getContext("selfServiceCard"),to:k.getPlace(a),additionalObj:b})},goDirectAnswer:function(c,f,g){b.setCard("directAnswerCard",{directAnswerName:c,locale:null},"selfServiceCard",function(){E.publishMetric("selfServiceCardQADirectAnswer",{SolutionValue:c,SuccessfulRedirect:!0});g&&a.createCTIFooterLink(f);
d.find(".athena-augur-workflow.asp").addClass("spaui-help-hub-self-service-workflow");l.publish(e.getName("inlineQuickActionClicked"))},function(){E.publishMetric("selfServiceCardQADirectAnswer",{SolutionValue:c,SuccessfulRedirect:!1})})},clickCTIFooterLink:function(){var b=a.getCTIFromFooter();b&&E.publishCardUsedEvent("contactAssociateLinkClicked",b)}};return{init:E.init,onLoad:E.onLoad,hideIssueNotListedLink:E.hideIssueNotListedLink}});ASPP.when("ASPA").register("spaui-spl-solution",function(c){var e=
C,l={init:function(k,g,f){e=k;k=c.$("#"+g);f===C&&(f=5);l.setUpResizeHandler(g,k,f)},getWindowOrigin:function(){return e.location.origin!==C?e.location.origin:e.location.protocol+"//"+e.location.host},updateSolutionHeight:function(c,e){e!==c.height()&&c.height(e)},setUpResizeHandler:function(c,g,f){e.addEventListener("message",function(e){if(l.getWindowOrigin()===e.origin)try{var p=JSON.parse(e.data);"spl-solution-resize"===p.channel&&p.target===c&&p.body&&p.body.height&&l.updateSolutionHeight(g,
Number(p.body.height)+f)}catch(h){return C}},!1)}};return{init:l.init}});ASPP.when("ASPA","spaui-util","spaui-theming","spaui-shim-initialized").register("spaui-state",function(c,e,l){var k,g,f,m,p,h,b,a,d={showBrowseAllHelpOnLoad:!0},r={autoSummonParam:"spaui-auto-summon",helpSummonParam:"spaui-help-topic",directAnswerSummonParam:"spaui-direct-answer"},n={init:function(a){n.setState("showBrowseAllHelpOnLoad",1<arguments.length&&arguments[1]!==C?arguments[1]:!0);n.initCfg(a);n.override()},initCfg:function(c){k=
c.location.search.split(/[?&]+/);g=encodeURIComponent(document.getElementsByTagName("title")[0].innerHTML);f=c.location.pathname.split(/\/ref=/)[0];m=encodeURIComponent(c.location.hash);p="";h={title:"spaui",url:"spaui-url",spauiDebug:"spauiDebug",auiDebug:"1",stringDebug:"true",auiReset:"1",athenaNotificationMockType:C};b=c.location.search;a=n.parseUrlParams(b)},parseUrlParams:function(a){var b={};if(e.isEmpty(a))return b;"?"===a.charAt(0)&&(a=a.substring(1));a.split("\x26").forEach(function(a){var c=
a.split("\x3d");2===c.length?b[c[0]]=c[1]:1===c.length?b[c[0]]="":console.warn("invalid query param "+a)});return b},override:function(){var a=k.length,b,c={};for(b=0;b<a;b++){var d=k[b].split(/=/);d[0]===h.title&&(g=d[1]);d[0]===h.url&&(f=d[1]);d[0]===h.spauiDebug?(c.spauiDebug="1",c.auiDebug="1",c.auiReset="1"):d[0]in h&&(c[d[0]]=h[d[0]]||d[1])}p=e.formatObjectAsUrlParams(c,!0)},getState:function(a){return d[a]},setState:function(a,b){d[a]=b},isParamPresent:function(b){return a.hasOwnProperty(b)},
isOnUrl:function(a){return a instanceof RegExp?a.test(f):-1!==f.indexOf(a)},isAnySummoningParamPresent:function(){for(var a=Object.keys(r),b=0;b<a.length;b++)if(n.isParamPresent(r[a[b]]))return!0;return!1},getParamValue:function(b){return a[b]},getRefParamValue:function(){return n.getParamValue("ref")||n.getParamValue("ref_")||n.getParamValue("_ref")},enhanceUrl:function(a){a=a.split("#");-1!==a[0].indexOf("?")?a[0]+=a[0].endsWith("\x26")?"":"\x26":a[0]+="?";a[0]=a[0]+"pageTitle\x3d"+g+"\x26pageUrl\x3d"+
f+"\x26pageHash\x3d"+m+p+"\x26theme\x3d"+l.getTheme();return a.join("#")}};return{init:n.init,showBrowseAllHelpOnLoad:c.$.proxy(n.getState,null,"showBrowseAllHelpOnLoad"),setShowBrowseAllHelpOnLoad:c.$.proxy(n.setState,null,"showBrowseAllHelpOnLoad"),isParamPresent:n.isParamPresent,isAnySummoningParamPresent:n.isAnySummoningParamPresent,getParamValue:n.getParamValue,getRefParamValue:n.getRefParamValue,summoningParams:r,enhanceUrl:n.enhanceUrl,isOnUrl:n.isOnUrl}});(function(){ASPP.register("spaui-strings",
function(){var c={handleReplacements:function(e,l){l&&c.typeSafeKeys(l).forEach(function(k){var g=c.newReg(k);e=e.replace(g,l[k])});return e},newReg:function(c){return new RegExp("{{"+c+"}}","g")},typeSafeKeys:function(c){try{return Object.keys(c)}catch(l){return[]}}};return{handleReplacements:c.handleReplacements}})})();(function(){ASPP.when("ASPA","spaui-strings").register("spaui-templates",function(c,e){var l={retrieve:function(e,g){var f=l.getSelector(e),f=c.$("#spaui-templates").find(f);if(0>=
f.size()||1<f.size())throw"Invalid template selected - "+e+". There were "+f.size()+" matching elements.";return l.handleReplacements(f,g)},getSelector:function(c){return"#"+c},handleReplacements:function(k,g){return g?(k=e.handleReplacements(k[0].outerHTML,g),c.$(k)):k.clone()}};return{retrieve:l.retrieve}})})();ASPP.when("ASPA").register("spaui-theming",function(c){var e="",l=!1,k=!1,g=999;return{init:function(){var f=c.state("spaui-theming-state");e=f.theme;l="true"===f.hideFeedbackOnInfoCard;
k="true"===f.hideAllAlerts;g=parseInt(f.hideAlertLevel,10)},getTheme:function(){return e},isFeedbackDisabledOnInfoCard:function(){return l},shouldHideAlerts:function(c){return k||c>g}}});(function(){ASPP.when("ASPA","spaui-metrics","spaui-discovery","spaui-history","spaui-expand","spaui-events","spaui-events-external-hook").register("spaui-top-issues",function(c,e,l,k,g,f,m){var p,h={init:function(b){p=b;l.register("top-issues","info",!1,h.onTopIssuesLoad);l.registerWithoutAsync("top-issues-selfServiceCard",
"selfServiceCard",!0,h.onTopIssuesLoad);h.bind()},bind:function(){p.delegate(".spaui-top-issues "+g.selectors.collapsedElementHeader,"click",h.expand);p.delegate(".spaui-top-issues "+g.selectors.expandedElementHeader,"click",h.collapse)},getTopIssues:function(){return p.find(".spaui-top-issues")},onTopIssuesLoad:function(){h.topIssuesPresent()&&(h.instrumentDiscovery(),p.find(".spaui-top-issue").each(function(b,a){g.transformCollapse(c.$(a))}))},topIssuesPresent:function(){return 0<c.$(".spaui-top-issues").size()},
expand:function(b){h.onUserInteraction();g.expand(b,c.$.proxy(h.instrumentExpandCollapse,null,c.$(b.currentTarget)))},collapse:function(b){h.onUserInteraction();g.collapse(b,c.$.proxy(h.instrumentExpandCollapse,null,c.$(b.currentTarget)))},instrumentExpandCollapse:function(b,a){b={from:k.getFrom(),where:e.getContext("topIssues"),to:a,additionalObj:{issueId:h.fetchIssueId(b)}};e.send(b)},fetchIssueId:function(b){return b.parent().find(".spaui-top-issue").data("topic-id")},instrumentDiscovery:function(){var b=
{from:k.getFrom(),where:e.getContext("topIssues"),to:"discovered",additionalObj:{category:h.getData("top-issue-category"),issueIds:h.getData("top-issueids"),issueCount:h.getData("top-issue-count")}};e.send(b)},getData:function(b){return h.getTopIssues().data(b)},onUserInteraction:function(){f.publish(f.getName("topIssueInteracted"));m.publish(f.getName("topIssueInteracted"))}};return{init:h.init,areTopIssuesPresent:h.topIssuesPresent}})})();ASPP.when("ASPA","spaui-util","spaui-state","spaui-history",
"spaui-metrics","spaui-ui","spaui-content","spaui-events","spaui-search","spaui-help","spaui-alerts","spaui-contact-deflection","spaui-custom-card","spaui-help-hub-v2-util").register("spaui-triggers",function(c,e,l,k,g,f,m,p,h,b,a,d,r,n){var x=null,y=null,w={},q=!1,B={init:function(a){w.athenaHome=a.athenaHome;q=a.hhEntryPointEnabled;B.checkForAutoSummonParam();B.checkForPinRequest(e.gebi("spaui-pin-request"));B.checkForTabbedContent(e.gebi("spaui-hash"));c.$("body ").delegate(".spaui-trigger","click",
B.handleClick);G.ATHENA_DISABLE_EXTERNAL_LINK_ONCLICK=!0;a.footerContactUs&&B.bindContactUsLinks(a.helpHubV2Enabled)},bindContactUsLinks:function(a){var b=e.getContactUsFooterLink();1===b.length&&(a?n.rebindSupportLink(b,g.getContext("scFooter")):(b.addClass("spaui-trigger"),b.attr("data-spaui",'{"type":"contact-us","data":{"page":"sx-athena","context":"contactusfooter"}}'),b.attr("data-href",b.attr("href")),q?b.attr("href","/cu/contact-us?hhSupport\x3dtrue\x26hhFooter\x3dtrue"):b.removeAttr("href")))},
checkForAutoSummonParam:function(){if(l.isParamPresent(l.summoningParams.autoSummonParam))f.summoner({where:g.getContext("autoSummonParam")});else if(l.isParamPresent(l.summoningParams.directAnswerSummonParam)){var a=l.getParamValue(l.summoningParams.directAnswerSummonParam),c=l.getParamValue(l.summoningParams.helpSummonParam);B.setDirectAnswerCardOnSummonParam(a,c)}else l.isParamPresent(l.summoningParams.helpSummonParam)&&(a=l.getParamValue(l.summoningParams.helpSummonParam),b.displayHelpTopic(a,
null,{where:g.getContext("autoSummonHelpParam"),additionalObj:{ref:l.getRefParamValue()}}),f.summoner({where:g.getContext("autoSummonHelpParam"),additionalObj:{topicID:a}}))},checkForPinRequest:function(a){a&&f.summoner({external:!0})},checkForTabbedContent:function(a){a&&(x=a,y=e.gda(x,"regex"),"onhashchange"in G&&(G.onhashchange=B.hashChange))},hashChange:function(){var a=G.location.hash;a.match(y)&&m.placeFeaturedAndPredictive(function(b,c){g.send({isError:!b,errorDetails:c,from:k.getFrom(),where:g.getContext("externalTrigger"),
to:g.getPlace("setFeaturedContentAndPredictiveHelp"),additionalObj:{action:"tabSwitch",hash:a}})})},handleClick:function(a){if(c.$(a.target).hasClass("spaui-athena-da"))B.handleDirectAnswerClick(a);else if("undefined"!==typeof JSON)try{var b=JSON.parse(e.gda(a.currentTarget,"spaui"));b.data.href=a.currentTarget.href;"topic"===b.type&&(a.preventDefault(),B.placeTopic(b.data));"page"===b.type&&(a.preventDefault(),B.placePage(b.data));"search"===b.type&&(a.preventDefault(),B.placeSearch(b.data));if("forum"===
b.type)return{error:"forums are not yet supported."};var d=!0;"contact-us"===b.type&&(q?(g.send({from:k.getFrom(),to:g.getPlace("setContactUsHelpHub1GetSupport"),where:g.getContext("trigger")}),d=!1):B.handleContactUs(a,b.data));!f.getVisible()&&d&&f.summoner({external:!0})}catch(h){}},setDirectAnswerCardOnSummonParam:function(a,b){var c={to:g.getPlace("directAnswerCard"),where:g.getContext("urlTrigger"),additionalObj:{topicId:b,directAnswerName:a,clientId:"AthenaDADirectUrl",ref:e.truncateString(l.getRefParamValue(),
60)}};B.placeDirectAnswer({clientId:"AthenaDADirectUrl",directAnswerName:a,parsedTopicId:b,onSuccessCallback:function(a){B.sendDirectAnswerTriggerMetrics(!1,a,c)},onFailureCallback:B.getOnDirectAnswerFailureCallback(b,"AthenaDADirectUrl",c)},c)},sendDirectAnswerTriggerMetrics:function(a,b,d){a=c.$.extend({from:k.getFrom(),where:g.getContext("directAnswerCard"),isError:a,errorDetails:b},d);g.send(a)},getOnTopicMetricsCallback:function(a,b){return function(d){B.sendDirectAnswerTriggerMetrics(a,d,c.$.extend(b,
{to:g.getPlace("fallbackToTopic")}))}},getOnDirectAnswerFailureCallback:function(a,b,d){return function(f,g){g=c.$.extend(d.additionalObj,g);d.additionalObj=g;B.sendDirectAnswerTriggerMetrics(!0,f,d);e.isEmpty(a)||B.placeTopic({id:a,page:b,href:null,bookmark:"",onSuccessCallback:B.getOnTopicMetricsCallback(!1,d),onFailureCallback:B.getOnTopicMetricsCallback(!0,d)},d)}},handleDirectAnswerClick:function(a){var b=c.$(a.target);a.preventDefault();a.stopPropagation();var d=e.gda(b,"direct-answer-name"),
f=a.currentTarget.href;a=e.truncateClientInputLimit64(e.gdaWithAttrAlias(b,"client-id","clientId"));var h=e.truncateClientInputLimit64(e.gdaWithAttrAlias(b,"context","context")),f=e.getTopicIDFromLink(f),k={to:g.getPlace("directAnswerCard"),where:g.getContext("externalTrigger"),additionalObj:{topicId:f,context:h,directAnswerName:d,clientId:a}};B.placeDirectAnswer({clientId:a,directAnswerName:d,locale:b.attr("locale"),context:h,parsedTopicId:f,onSuccessCallback:function(a){B.sendDirectAnswerTriggerMetrics(!1,
a,k)},onFailureCallback:B.getOnDirectAnswerFailureCallback(f,a,k)},k)},handleContactUs:function(a){a.preventDefault();var b=f.getVisible(),c=d.isActive();b||c?a=g.getPlace("disabledGetSupportClick"):(w.athenaHome({preventDefault:function(){}}),a=g.getPlace("setContactUsFooter"));b||f.summoner({external:!1});c?d.displayDeflectionCard(g.getContext("scFooter"),!b):g.send({from:k.getFrom(),to:a,where:g.getContext("trigger")})},placeDirectAnswer:function(a,b){if(e.isEmpty(a.directAnswerName))a.onFailureCallback({isPlatformInError:!1},
{directAnswerName:"undefined",locale:a.locale});else{var c=function(a){r.setCard("directAnswerCard",{directAnswerName:a.directAnswerName,locale:a.locale},a.clientId,a.onSuccessCallback,a.onFailureCallback)};f.isSummoned()?c(a):f.summoner(b,function(){c(a)})}},placeTopic:function(a,d){var e={where:g.getContext("externalTrigger"),additionalObj:{client:a.page,context:a.context}};b.displayHelpTopic(a.id,a.href,c.$.extend(!0,e,d),a.bookmark,"","",a.onSuccessCallback,a.onFailureCallback)},placePage:function(c){var d=
c.id.toLowerCase();"home"===d?f.isSummoned()?p.publish(p.getName("goHome")):p.subscribe("summon",function J(){p.publish(p.getName("goHome"));p.unsubscribe("summon",J)}):(c={where:g.getContext("externalTrigger"),additionalObj:{page:c.page,context:c.context}},"browse"===d&&b.displayBrowseAllHelp(c),"alerts"===d&&a.displayAllAlerts(c))},placeSearch:function(a){h.externalSubmitSearch(decodeURIComponent(a.query),{where:g.getContext("externalTrigger"),additionalObj:{client:a.page,context:a.context}})}};
return{init:B.init}});ASPP.when("ASPA","spaui-util","spaui-session","spaui-history","spaui-metrics","spaui-search-suggestions","spaui-events","spaui-theming","spaui-events-external-hook","spaui-weblabs","spaui-help-hub-v2-util").register("spaui-ui",function(c,e,l,k,g,f,m,p,h,b,a){var d,r,n,x,y,w,q,B,t,E,A,C,I,z={isEmbedded:!1,active:!1,closeAffordance:{delay:1E3,fade:1250},duration:{show:200,hide:300,fbConfirm:2E3,spooferDelay:300,contentFadeIn:300,delayBeforeFooterFade:5E3},distance:null,regularSize:410,
externalSquishee:"#athena-controlled-width-area",ph:{adopt:!0},resize:{duration:250,percentage:.4,maximum:575},spooferHeight:0,squish:!1,visible:!1,specialSizeStyleMin:500,hhEntryPointEnabled:!1},v={init:function(a,b,c,d){v.hydrate(a,b);v.bind(c,d);v.handleSpooferBar()},hydrate:function(a,b){d=c.$(G);r=a;n=a.find(".spaui-head-controls-search");x=a.find(".spaui-head-controls-search #spaui-search-icon");y=a.find(".spaui-head-controls-pop");a.find("#spaui-head-controls");w=a.find("#spaui-close");q=a.find("#spaui-head-controls-close-affordance");
B=c.$("#sc-quicklink-help").find("a").add(c.$("#sc-help").find("a").slice(0,2));t=c.$("#helpMenuID").find("a");E=a.find("#spaui-resize");A=c.$(z.externalSquishee);C=c.$("#globalActionBar");I=a.find(".spaui-footer");0!==A.length&&(z.squish=!0);z.distance=z.regularSize;z.isEmbedded=b},bind:function(b,c){z.isEmbedded||(b?(a.rebindSupportLink(B,g.getContext("header")),a.rebindSupportLink(t,g.getContext("header"))):c?v.rebindHelpLinkToCU(B):(B.click(v.summon),t.click(v.summon)),w.click(v.banish),q.hover(v.closeAffordHover),
B.hover(v.triggerHover),E.click(v.resize),0!==C.length&&d.scroll(v.windowScroll))},initialState:function(){l.isLargeSize()?v.makeLarge():v.makeSmall()},summon:function(a){a.preventDefault();m.publish(m.getName("triggerSummon"));v.summoner({})},summoner:function(a,b){z.isEmbedded||v.isSummoned()||(z.active=!0,r.css("display","block"),v.setSize(z.distance),z.squish&&A.animate({width:z.distance},z.duration.show),r.animate({marginRight:0},z.duration.show,function(){v.summoned(a,b)}))},summoned:function(a,
b){l.setPinned(!0);l.setPreview(!1);var d;a.where?d=a.where:(d=a.session?g.getContext("session"):g.getContext("trigger"),a.external&&(d=g.getContext("externalTrigger")),a.preload&&(d=g.getContext("preload")));var e={theme:p.getTheme()};a.additionalObj&&c.$.extend(e,a.additionalObj);g.send({from:k.getFrom(),to:g.getPlace("setAthenaSummoned"),where:d,additionalObj:e});z.visible=!0;z.active=!1;v.closeAffordance();m.publish(m.getName("summon"));h.publish(m.getName("summon"));c.$.isFunction(b)&&b()},banish:function(a){a.preventDefault();
l.setWasDismissed(!0);v.banisher()},banisher:function(a){m.publish(m.getName("dismissed"));h.publish(m.getName("dismissed"));z.active||(z.active=!0,z.squish&&A.animate({width:0},z.duration.hide),r.animate({marginRight:"-\x3d"+z.distance},z.duration.hide,function(){v.banished(a)}))},banished:function(a){r.css("display","none");l.setPinned(!1);a=c.$.extend({from:k.getFrom(),where:g.getContext("header"),to:g.getPlace("setAthenaBanished")},a);g.send(a);z.visible=!1;z.active=!1},isSummoned:function(){return z.active||
z.visible},resize:function(a){a.preventDefault();v.resizer(a)},resizer:function(){l.isLargeSize()?v.makeSmall(!0):v.makeLarge(!0)},makeSmall:function(a){z.isEmbedded||(a&&l.isLargeSize()&&g.setSizeActive(g.getPlace("setSizeSmall")),l.setIsLarge(!1),v.resetSpecialClasses(),E.removeClass("spaui-resize-large"),v.setSize(z.regularSize))},makeLarge:function(a){z.isEmbedded||(a&&!l.isLargeSize()&&g.setSizeActive(g.getPlace("setSizeLarge")),l.setIsLarge(!0),v.resetSpecialClasses(),E.addClass("spaui-resize-large"),
v.setSize(v.calculateLargeWidth()))},setSpecialSize:function(a,b){a>z.specialSizeStyleMin?r.addClass("spaui-special-sizing"):v.resetSpecialClasses();v.setSize(a,!1,b)},resetSpecialClasses:function(){r.removeClass("spaui-special-sizing")},setSize:function(a,b,c){z.distance=a;a=v.getSearchSize(z.distance);z.visible&&!c?(z.squish&&A.animate({width:z.distance},z.resize.duration),b||r.animate({width:z.distance},z.resize.duration,v.resized),n.animate({width:a},z.resize.duration,v.searchResized)):(r.width(z.distance),
n.width(a));z.visible||r.css("margin-right","-"+z.distance+"px");f.resize(a+x.width()-1)},searchResized:function(){c.$(this).css("overflow","visible")},resized:function(){var a;a="\x3cstyle\x3e"+("#spaui {width:"+z.distance+"px;}");a+="#spaui-next {right:-"+z.distance+"px;}";a+="#spaui-prev {right:"+z.distance+"px;}";a+="\x3c/style\x3e";e.gebi("spaui-css-override").innerHTML=a;a=g.getPlace("setSizeActive");""!==a&&g.send({from:k.getFrom(),to:a,where:g.getContext("header")})},getSearchSize:function(a){a-=
30;"none"!==y.css("display")&&(a-=26);a=a-26-v.getCloseIconSize();return a-8},closeAffordance:function(){l.getCloseAffordance()&&(l.setCloseAffordance(!1),q.show(),setTimeout(v.closeAffordStartFade,z.closeAffordance.delay))},closeAffordStartFade:function(){q.addClass("spaui-fade");setTimeout(v.closeAffordAfterFade,z.closeAffordance.fade)},closeAffordAfterFade:function(){q.remove()},closeAffordHover:function(){q.remove()},triggerHover:function(a){"mouseenter"===a.type&&(a.currentTarget.style.color=
"#e47911",a.currentTarget.style.cursor="pointer");"mouseleave"===a.type&&(a.currentTarget.style.color="",a.currentTarget.style.cursor="auto")},calculateLargeWidth:function(){var a=Math.min(parseInt((d.width()-z.regularSize)*z.resize.percentage+z.regularSize,10),z.resize.maximum);a<=z.regularSize&&(a=z.regularSize+1);return a},returnVisible:function(){return z.visible},handleSpooferBar:function(){e.gebi("spooferDiv")&&setTimeout(function(){z.spooferHeight=c.$("#spooferDiv").outerHeight();r.css("top",
z.spooferHeight)},z.duration.spooferDelay)},windowScroll:function(){var a;a=0!==C.length&&"fixed"===C.css("position")?C.outerHeight():z.spooferHeight;r.css("top",a)},scrollToHash:function(a){var b;"top"===a.toLowerCase()?c.$("#spaui-content").scrollTop(0):(b=c.$("#spaui"),e.gebi(a)&&0<c.$("#spaui-content").find('a[name\x3d"'+a+'"]').length?e.updateScrollTop(b.find("#"+a),55):(e.gebi(a)&&e.updateScrollTop(b.find("#"+a),55),0<c.$("#spaui-content").find('a[name\x3d"'+a+'"]').length&&e.updateScrollTop(b.find('a[name\x3d"'+
a+'"]'),70)))},contentChanged:function(){var a=v.getSearchSize(z.distance);n.animate({width:a},z.resizeDuration,v.searchResized)},hideClose:function(){w.css("display","none");n.css("right","auto")},showClose:function(){w.css("display","");n.css("right","")},hideResizer:function(){E.hide()},showResizer:function(){E.show()},getCloseIconSize:function(){return"none"!==w.css("display")?44:13},highlightFooterElement:function(a,b){a=I.find(".spaui-footer-nav.spaui-footer-"+a);0<a.size()&&(a.find(".spaui-footer-highlight-message").text(b),
a.addClass("highlighted"),setTimeout(v.handleHighlightRemoval,z.duration.delayBeforeFooterFade))},hideContactUsButton:function(){I.addClass("spaui-hide-contact")},showContactUsButton:function(){I.removeClass("spaui-hide-contact")},handleHighlightRemoval:function(){I.find(".spaui-footer-nav").removeClass("highlighted")},overrideConfig:function(a){z=c.$.extend(!0,{},z,a)},rebindHelpLinkToCU:function(a){0<a.length&&(a.attr("href","/cu/contact-us?hhSupport\x3dtrue\x26hhFooter\x3dtrue"),a.click(function(){g.send({from:k.getFrom(),
to:g.getPlace("setContactUsHelpHub1"),where:g.getContext("trigger")})}))}};return{scrollToHash:v.scrollToHash,summon:v.summon,summoner:v.summoner,banish:v.banish,banisher:v.banisher,resize:v.resize,getVisible:v.returnVisible,getLargeWidth:v.calculateLargeWidth,makeSmall:v.makeSmall,makeLarge:v.makeLarge,setSpecialSize:v.setSpecialSize,isSummoned:v.isSummoned,initialState:v.initialState,contentChanged:v.contentChanged,hideClose:v.hideClose,showClose:v.showClose,hideResizer:v.hideResizer,showResizer:v.showResizer,
highlightFooterElement:v.highlightFooterElement,hideContactUsButton:v.hideContactUsButton,showContactUsButton:v.showContactUsButton,overrideConfig:v.overrideConfig,init:v.init}});ASPP.when("ASPA","spaui-shim","spaui-util").register("spaui-weblabs",function(c,e,l){var k={contactDeflection:"C",searchSuggestionPHRefactor:"C"},g={init:function(e){c.$.extend(k,e);Object.keys(k).forEach(function(c){k[c]=k[c].toUpperCase()})},doesTreatmentEqual:function(c,e){return g.executeWithWeblab(c,function(c){return k[c]===
e.toUpperCase()},function(){return!1})},getTreatment:function(c){return g.executeWithWeblab(c,function(c){return k[c]},function(){return"C"})},isControl:function(c){return g.doesTreatmentEqual(c,"C")},isAnyTreatment:function(c){return g.executeWithWeblab(c,function(c){return k[c].match(/^T[0-9]+$/)},function(){return!1})},executeWithWeblab:function(c,e,g){return l.executeIfElse(k.hasOwnProperty(c),function(c){return e(c)},function(c){return g(c)})(c)}};return c.$.extend({init:g.init,doesTreatmentEqual:g.doesTreatmentEqual,
getTreatment:g.getTreatment,isControl:g.isControl,isAnyTreatment:g.isAnyTreatment},{CONTACT_DEFLECTION:"contactDeflection",SEARCH_SUGGEST_PH:"searchSuggestionPHRefactor",SEARCH_SUGGEST_NGRAM:"searchSuggestionNGram"})});ASPP.when("ASPA","spaui-ajax","spaui-events","spaui-shim","spaui-util","spaui-templates").register("spaui-workflows",function(c,e,l,k,g,f){var m={},p={ID_REGEX:/workflow-id_(\S*)($|\s)/,WORKFLOW_URL:null,WORKFLOW_ID:"directAnswerWidgetId\x3d",CLIENT_ID:"\x26client\x3d",TRANSITION_TIME:400,
AUGUR_POPULATE_DELAY:25},h={init:function(){p.WORKFLOW_URL="/help/workflow/athena?addHelpConditionalProcessing\x3dtrue\x26";h.bind();h.initializeClientMapping()},bind:function(){l.subscribe(l.getName("newPage"),h.handleNewPage)},initializeClientMapping:function(){m["#_modules .workflow-placeholder, #full-help-page .workflow-placeholder"]="FullPageHelp";m[".spaui-help .workflow-placeholder"]="AthenaHelp"},handleNewPage:function(){var b=h.scanForWorkflows();0<b.length&&b.forEach(h.replace)},scanForWorkflows:function(){var b=
[],a=function(a){return function(e,f){e=c.$(f);e=h.stripReplacementElement(e,a);null!==e&&b.push(e)}};c.$("#_modules .workflow-placeholder, #full-help-page .workflow-placeholder").each(a(m["#_modules .workflow-placeholder, #full-help-page .workflow-placeholder"]));c.$(".spaui-help .workflow-placeholder").each(a(m[".spaui-help .workflow-placeholder"]));return b},stripReplacementElement:function(b,a){var c=h.getIdFromPossibleReplacement(b);b=h.getSelectorOrCreateForElement(b);return null!==c?{id:c,
client:a,selector:b}:null},getSelectorOrCreateForElement:function(b){b.attr("id")||b.attr("id",g.getUid());return"#"+b.attr("id")},getIdFromPossibleReplacement:function(b){b=b.attr("class");b=p.ID_REGEX.exec(b);return null===b?null:b[1]},replace:function(b){e.get(p.WORKFLOW_URL+p.WORKFLOW_ID+b.id+p.CLIENT_ID+b.client,{dataType:"html"},function(a){h.flush(b.selector,a.data,!0)},function(a){h.flush(b.selector,a.data,!1)})},flush:function(b,a,d){b=c.$(b);var e=c.$(a);d&&0<e.children().size()?"none"!==
b.css("display")&&(e.hide(),a=f.retrieve("spaui-template-embedded-workflow"),a.append(e),b.replaceWith(a),setTimeout(function(){e.slideDown(p.TRANSITION_TIME)},p.AUGUR_POPULATE_DELAY)):b.remove()},overrideConfig:function(b){c.$.extend(p,b)}};return{init:h.init,overrideConfig:h.overrideConfig}});ASPP.when("ASPA","spaui-push-notification","spaui-alerts","spaui-external-handle").register("spaui-external-alerts",function(c,e,l,k){return k.wrap({createPushNotification:function(c,f,k,l,h){return e.createWithOptions(c,
{className:f,noDismissal:!k,overrideExisting:l,title:h,overridable:!0})},requestMastheadIcon:function(c){return l.externalDisplayShinyObject(c)},dismissPushNotification:function(){return e.hide()},dismissMastheadIcon:function(c){return l.externalDismissShinyObject(c)}})});ASPP.when("ASPA","spaui-content","spaui-state","spaui-external-handle").register("spaui-external-content",function(c,e,l,k){var g={placeWorkflow:function(c,k){e.placeEndpoint("workflow",g.getWorkflowEndpoint(c,this.client),k,!0)},
getWorkflowEndpoint:function(c,e){return l.enhanceUrl("/help/workflow/athena?addHelpConditionalProcessing\x3dtrue\x26directAnswerWidgetId\x3d"+c+"\x26client\x3d"+e)}};return k.wrap({placeWorkflow:g.placeWorkflow})});(function(){ASPP.when("ASPA","spaui-custom-card","spaui-metrics","spaui-external-handle").register("spaui-external-custom-card",function(c,e,l,k){var g={setCardAsHome:function(f,k,l,h){c.$.proxy(g.prepareSetCard,this)(e.setCardAsHome,f,k,l,h)},setCard:function(f,k,l,h){c.$.proxy(g.prepareSetCard,
this)(e.setCard,f,k,l,h)},prepareSetCard:function(c,e,k,h,b){h=g.wrapFunctionWithMetrics(h,e,this.client,!0);b=g.wrapFunctionWithMetrics(b,e,this.client,!1);c(e,k,this.client,h,b)},recordMetric:function(e,g,k,h){l.send({from:l.getExternalContext(k),where:"customCard",to:e,additionalObj:c.$.extend({isSuccess:h},g)})},wrapFunctionWithMetrics:function(e,k,l,h){return function(b,a,d){g.recordMetric(k,a,l,h);c.$.isFunction(e)&&e(b,a,d)}}};return k.wrap({setCard:g.setCard,setCardAsHome:g.setCardAsHome})})})();
(function(){ASPP.when("spaui-external-handle","spaui-feedback","spaui-util").register("spaui-external-feedback",function(c,e,l){return c.wrap({launchFeedback:function(c,g){l.isObject(c)?e.launchFeedback(Object.assign({},c,{source:this.client}),g):e.launchFeedback(this.client)},addAdditionalContext:function(c){if(l.isObject(c))e.addAdditionalContext(c);else throw"Invalid context. Addition of context requires a plain object";},setImageSource:function(c,g){e.setImageSource(c,g)}})})})();(function(){ASPP.when("spaui-external-handle",
"spaui-help","spaui-metrics").register("spaui-external-help",function(c,e,l){return c.wrap({displayHelpTopic:{displayHelpTopic:function(c,g,f){e.displayHelpTopic(c,null,{where:l.getExternalContext(this.client)},null,null,null,g,f)}}.displayHelpTopic})})})();(function(){ASPP.when("ASPA","spaui-metrics","spaui-external-handle").register("spaui-external-metrics-v2",function(c,e,l){return l.wrap({send:{send:function(c,g,f,l){c={client:this.client,from:"ex-"+this.client,where:c,to:g};f&&(c.additionalObj=
f);e.validate(c)&&e.send(c,C,l)}}.send})})})();(function(){ASPP.when("ASPA","spaui-search","spaui-ui","spaui-external-handle","spaui-metrics").register("spaui-external-search",function(c,e,l,k,g){var f={wrapOnComplete:function(f){return function(g){e.isRedirectSearch(g)||l.summoner({});c.$.isFunction(f)&&f(g)}},search:function(c,h,b,a,d){e.setSearchBoxValue(c);e.externalSubmitSearch(c,{where:g.getExternalContext(this.client),additionalObj:d},a,null,f.wrapOnComplete(h),b)},proxyableSearch:function(e,
g,b,a,d,k){c.$.isFunction(e)&&e(k)||c.$.proxy(f.search,this)(k,g,b,a,d)},bindSearchToInput:function(g,h,b,a,d,k){f.validateJQueryObject(g);e.newBind(g,c.$.proxy(f.proxyableSearch,this,h,b,a,d,k))},validateJQueryObject:function(c){if(!c)throw"Bind search to input requires that an input element be passed";if(!c.jquery)throw"Element is required to be a jquery object. If you wish to use a selector instead use bindSearchToInputSelector instead";},bindSearchToInputSelector:function(e,g,b,a,d,k){e=f.validateSelectorAndCreateJquery(e);
c.$.proxy(f.bindSearchToInput,this)(e,g,b,a,d,k)},validateSelectorAndCreateJquery:function(e){if(!e)throw"Bind search to selector requires that a selector be passed";if("string"!==typeof e)throw"Bind search to selector requires that a string selector be passed";e=c.$(e);if(1!==e.size())throw"Bind search to selector requires that a valid jquery selector with a single element be passed";return e},processWarnings:function(c){"static"===c.parent().css("position")&&console.warn('Search suggestions usage through Athena requires binding parent element have a position that is non static for proper css application. Recommendation is to use "relative" as a drop in replacement if you are not using any offsets.')},
bindSearch:function(g){if(!g.selector&&!g.$element)throw"Binding search requires that an input selector or element be passed";var h=c.$.extend({},g);g.selector&&(h.$element=f.validateSelectorAndCreateJquery(g.selector));f.validateJQueryObject(h.$element);h.useSearchSuggestions&&!h.ignoreSearchSuggestionWarning&&f.processWarnings(h.$element,h);h.onComplete=f.wrapOnComplete(h.onComplete);h.invoker=c.$.proxy(f.proxyableSearch,this,h.interceptor,h.onComplete,h.onError,h.localeOverride,h.additionalMetadata);
h.clientId=this.client;e.newBindWithOptions(h.$element,h)}},m={SEARCH_TYPES:Object.assign({},e.SEARCH_TYPES),search:f.search,bindSearchToInput:f.bindSearchToInput,bindSearchToInputSelector:f.bindSearchToInputSelector,bindSearchWithOptions:f.bindSearch};return k.wrap(m)})})();ASPP.when("ASPA","spaui-links","spaui-external-handle","spaui-metrics","spaui-util","spaui-ui").register("spaui-external-trigger",function(c,e,l,k,g,f){var m=(Object.freeze||function(b){return b})({HELP:"help"}),p={athenaShouldProcess:function(b,
a){return Array.isArray(b)&&0<=b.indexOf(m.HELP)&&a.isArticleLink},processLinks:function(b,a,d){var g=c.$.isFunction(d)?d:function(){};return function(c){var d=c.currentTarget,d=e.getLinkType(d.href,d);p.athenaShouldProcess(b,d)?(e.contentLink(c,k.getContext("externalTrigger"),{client:a}),f.isSummoned()||f.summoner({external:!0}),g(!0)):g(!1)}},getInvalidTypes:function(b){var a=[],c=g.getObjectValues(m);b.forEach(function(b){0>c.indexOf(b)&&a.push(b)});return a},processDeveloperWarnings:function(b){b&&
Array.isArray(b)?0===b.length?console.warn("No types were passed into the Athena external trigger module. No links will be processed by Athena."):(b=p.getInvalidTypes(b),0<b.length&&console.warn("Invalid types were passed into the Athena external trigger module: ["+b.join(", ")+"] please use the LINK_TYPES object exposed for development instead of passing in arbitrary strings.")):console.warn("An array of allowed types for Athena to process is required. Use the exposed LINK_TYPES object to pass an array of allowed types for this integration.")},
bindSelectionForLinks:function(b,a,c){p.processDeveloperWarnings(a);b.delegate("a","click",p.processLinks(a,this.client,c))}},h={LINK_TYPES:Object.assign({},m),bindSelectionForLinks:p.bindSelectionForLinks};return l.wrap(h)});ASPP.when("ASPA","spaui-ui","spaui-external-handle","spaui-shim").register("spaui-external-ui",function(c,e,l){var k={FORUMS:"forum",CHAT:"chat",CASE_LOG:"caselog",CONTACT_US:"contact"},g={summon:function(f,g){e.isSummoned()?c.$.isFunction(g)&&g():e.summoner({where:"ext-"+f},
g)},isSummoned:function(){return e.isSummoned()},setFooterHighlight:function(c,k){if(g.validFooterElement(c))e.highlightFooterElement(c,k);else throw g.generateUnsupportedElementException(c);},validFooterElement:function(c){return 0<=g.getAllValidFooterElementValues().indexOf(c)},generateUnsupportedElementException:function(c){throw c+" is not a valid footer element. Valid elements are ["+this.getAllValidFooterElementValues().join(", ")+"]. If possible, use the exposed FOOTER_ELEMENTS object.";},
getAllValidFooterElementValues:function(){return Object.keys(k).map(function(c){return k[c]})},setClosable:function(c){c?e.showClose():e.hideClose()},banish:function(){e.banisher({where:"exClient"+this.client})}};return l.wrap({summon:g.summon,isSummoned:g.isSummoned,setFooterHighlight:g.setFooterHighlight,setClosable:g.setClosable,banish:g.banish,FOOTER_ELEMENTS:k})});(function(){ASPP.when("ASPA","spaui-instance","spaui-external-handle").register("spaui-external-instance",function(c,e,l){var k={getSpauiChatId:function(){return e.getSpauiChatId()},
setSpauiChatId:function(c){e.setSpauiChatId(c)},clearSpauiChatId:function(){e.clearSpauiChatId()},createKey:function(c){return c.join(".")},setGlobal:function(c,f){e.setGeneric(k.createKey(["external","globalShared",c]),f)},getGlobal:function(c){return e.getGeneric(k.createKey(["external","globalShared",c]))},set:function(c,f){e.setGeneric(k.createKey(["external",this.client,c]),f)},get:function(c){return e.getGeneric(k.createKey(["external",this.client,c]))}};return l.wrap({setSpauiChatId:k.setSpauiChatId,
clearSpauiChatId:k.clearSpauiChatId,getSpauiChatId:k.getSpauiChatId,setGlobal:k.setGlobal,getGlobal:k.getGlobal,set:k.set,get:k.get})})})();(function(){var c="spaui-external-alerts spaui-external-content spaui-external-events spaui-external-search spaui-external-trigger spaui-external-ui spaui-external-session spaui-external-instance spaui-external-metrics-v2 spaui-external-help spaui-external-custom-card spaui-external-feedback spaui-external-help-hub".split(" ");ASPP.when("ASPA").execute(function(){L.now("ASPA").execute(function(e){e===
C&&c.forEach(function(c){ASPP.when(c).execute(function(e){L.register(c,function(){return e})})})})})})();ASPP.when("spaui-help-hub-input","spaui-external-handle","help-hub-search","spaui-search").register("spaui-external-help-hub",function(c,e,l,k){return e.wrap({bindSearchWithOptions:function(e,f,k,l){c.bindSearchWithOptions(e,f,k,l)},searchWithQueryString:function(c,e,m,p){k.setSearchBoxValue(c);l.search(e,m,p)},search:function(c,e,k){l.search(c,e,k)}})});ASPP.when("ASPA","spaui-help-hub-athena-metrics",
"spaui-help-hub-athena-feedback","spaui-help-hub-athena-events","spaui-help-hub-athena-session").register("spaui-feedback-bar",function(c,e,l,k,g){var f,m,p,h=null,b={init:function(a){b.hydrate(a);b.bind();b.subscribe()},hydrate:function(a){f=a;f.find("#spaui-feedback-bar");m=f.find("#spaui-feedback-bar-button");p=f.find("#spaui-feedback-bar-close")},subscribe:function(){k.subscribe("topIssueInteracted",b.spawnBar);k.subscribe("selfServiceLinkInteracted",b.spawnBar);k.subscribe("inlineQuickActionClicked",
b.spawnBar);k.subscribe("helpHubShowDirectAnswer",b.spawnBar);k.subscribe("helpHubShowHelpArticle",b.spawnBar);k.subscribe("helpHubShowSearch",b.spawnBar);k.subscribe("feedbackSubmitted",b.closeBar)},bind:function(){m.click(b.launchFeedback);p.click(b.closeBar)},spawnBar:function(){var a=g.getGlobal("feedbackBarClosed_"+h);b.isBarVisible()||a||setTimeout(function(){var a=c.$("#spaui-feedback-bar");a.addClass("feedback-bar-active");var b=a.css("height","auto").height()+10;a.height(0);c.$("#spaui-feedback-bar").animate({height:b,
"padding-top":"8.5px","padding-bottom":"3.5px"},"medium",function(){c.$("#spaui-feedback-bar").css("height","auto")});e.send("feedbackBar","opened")},1E3)},closeBar:function(){var a=0<arguments.length&&arguments[0]!==C?arguments[0]:!0,d=c.$("#spaui-feedback-bar");b.isBarVisible()&&d.animate({height:"0px","padding-top":"0px","padding-bottom":"0px"},"fast",function(){d.removeClass("feedback-bar-active")});a&&(g.setGlobal("feedbackBarClosed_"+h,!0),e.send("feedbackBar","closed"))},launchFeedback:function(){l.launchFeedback();
e.send("feedbackLaunched","bar");b.closeBar(!1)},setConfigParams:function(a){h=a},isBarVisible:function(){return 0!=c.$("#spaui-feedback-bar").height()}};return{init:b.init,spawnBar:b.spawnBar,launchFeedback:b.launchFeedback,setConfigParams:b.setConfigParams,isBarVisible:b.isBarVisible}});ASPP.when("ASPA").register("help-hub-footer",function(c){var e,l,k,g,f;return{init:function(f){e=c.$("#spaui-more-solutions");l=c.$("#spaui-contact-associate")},createSeeMoreSolutionsButton:function(f){var l=e.clone();
l.addClass("spaui-help-hub-active");k=c.$("#spaui-inner-content");k.append(l);g=l;g.find("#spaui-more-solutions-button").attr("query",f)},getSeeMoreSolutionsQuery:function(){var c=g.find("#spaui-more-solutions-button");return c?c.attr("query"):null},createCTIFooterLink:function(e){var g=l.clone();k=c.$("#spaui-inner-content");k.append(g);f=g;e===C&&(e="0:0:0");f.find("#spaui-contact-associate-link").attr("CTI",e)},getCTIFromFooter:function(){var c=["0","0","0"],e=f.find("#spaui-contact-associate-link");
if(e){e=e.attr("CTI").split(":");3!=e.length&&(e=c);var c={linkType:"CTI"},g;for(g=0;3>g;++g)isNaN(e[g])&&(e[g]="0");c.CTI={C:e[0],T:e[1],I:e[2]};return c}return null}}});ASPP.when("ASPA","spaui-help-hub-athena-search","spaui-help-hub-athena-metrics","spaui-help-hub-athena-custom-card","spaui-help-hub-athena-help-topic","spaui-help-hub-athena-events","spaui-help-hub-athena-instance","help-hub-footer").register("help-hub-search",function(c,e,l,k,g,f,m,p){var h,b={helpHubSearch:"#spaui-help-hub-input",
content:"#spaui-inner-content",moreSolutionsButton:"#spaui-more-solutions-button",warning:"#help-hub-input-warning",inputButton:"#help-hub-input-button",inputDiv:".asp-input-text-wrapper"},a,d,r=null,n=null,x=null,y=null,w=null,q={init:function(a,b){q.hydrate(a,b);q.bind();e.bindSearchWithOptions({selector:a,useSearchSuggestions:!1,interceptor:q.getPhoebeIntent,onComplete:function(){f.publish("helpHubShowSearch")}});f.subscribe("helpHMDLoaded",q.onHMDLoad);l.send("inputField","initialized")},hydrate:function(e,
f){a=f;h=e;n&&(c.$(b.helpHubSearch).addClass("help-hub-multiline"),c.$(h).addClass("help-hub-multiline"));c.$(b.template);d=c.$(b.warning);d.hide()},defineEnterKeyBehavior:function(a){13===a.keyCode&&(a.shiftKey?a.stopImmediatePropagation():a.preventDefault())},bind:function(){a.delegate(h,"input propertychange",q.inputValidation);a.delegate(b.moreSolutionsButton,"click",q.clickMoreSolutions);c.$(h).keydown(function(a){q.defineEnterKeyBehavior(a)});c.$(h).keypress(function(a){q.defineEnterKeyBehavior(a)});
q.inputValidation()},inputError:function(a,e){var f=c.$(b.inputButton);a?(d.show(),f.addClass("warning-visible"),c.$(b.inputDiv).addClass("warning-visible"),c.$(b.helpHubSearch).addClass("warning-visible"),e&&c.$(h).addClass("asp-form-error")):(d.hide(),f.removeClass("warning-visible"),c.$(b.inputDiv).removeClass("warning-visible"),c.$(b.helpHubSearch).removeClass("warning-visible"),c.$(h).removeClass("asp-form-error"))},inputValidation:function(){var a=c.$("#help-hub-input-character-count-number"),
b=c.$("#help-hub-input-character-count-string"),d=c.$(h).val(),e=d.length;160<e&&(c.$(h).val(d.substring(0,160)),e=160);d=160-e;a.text(d);10>=d?(a.addClass("warning-visible"),b.addClass("warning-visible")):(a.removeClass("warning-visible"),b.removeClass("warning-visible"))},isEmptyQuery:function(){return 0===c.$(h).val().trim().length?!0:!1},goCardBasedOnPhoebeIntent:function(a,b,c){"predictive_help"===a?q.goHelpTopic(b,c):q.goDirectAnswer(b,c)},goDirectAnswer:function(b,c){k.setCard("directAnswerCard",
{directAnswerName:b,locale:null},function(){q.createFooter(c);l.send("phoebe","directAnswer",{SolutionValue:b});f.unsubscribe("directAnswerInteracted");f.subscribe("directAnswerInteracted",q.onAdopted);a.find(".athena-augur-workflow.asp").addClass("spaui-help-hub-self-service-workflow");f.publish("helpHubShowDirectAnswer");return!0},function(){q.search(h);return!1})},goHelpTopic:function(a,b){g.displayHelpTopic(a,function(){r=b;l.send("phoebe","predictiveHelp",{SolutionValue:a});f.unsubscribe("helpArticleInteracted");
f.subscribe("helpArticleInteracted",q.onAdopted);f.publish("helpHubShowHelpArticle");return!0},function(){q.search(h);return!1})},onHMDLoad:function(){r&&(q.createFooter(r),r=null)},createFooter:function(a){p.createSeeMoreSolutionsButton(a)},onAdopted:function(){f.unsubscribe("directAnswerInteracted");f.unsubscribe("helpArticleInteracted");null!==x&&null!==w&&null!==y&&c.$.ajax({async:!0,url:"/help/inline/help-hub/intent/save-feedback",contentType:"application/x-www-form-urlencoded; charset\x3dutf-8",
protocol:"current",type:"POST",dataType:"json",data:{interactionId:x,predictionId:w,solutionId:y},success:function(){l.send("phoebeSaveFeedback","success",{interactionId:x,predictionId:w,solutionId:y});q.clearPhoebeResult()},error:function(){l.send("phoebeSaveFeedback","failure",{interactionId:x,predictionId:w,solutionId:y});q.clearPhoebeResult()}})},search:function(a,b,d){q.isEmptyQuery()?(q.inputError(!0,!0),l.send("phoebeRequest","emptyQuery",d)):b?(c.$(a).focus(),b=c.$.Event("keydown"),b.keyCode=
13,c.$(a).trigger(b),b=c.$.Event("keyup"),b.keyCode=13,c.$(a).trigger(b)):e.search(c.$(a).val().trim(),function(){f.publish("helpHubShowSearch")},function(){},null,d)},bindSearchWithOptions:function(a){e.bindSearchWithOptions(a)},clickMoreSolutions:function(){l.send("seeMoreSolutions","clicked");q.clearPhoebeResult();var a=p.getSeeMoreSolutionsQuery();a&&(c.$(h).val(a),q.search(h));f.publish("moreSolutionsClicked")},getPhoebeIntent:function(a){if(q.isEmptyQuery())return q.inputError(!0,!0),l.send("phoebeRequest",
"emptyQuery"),!0;q.inputError(!1,!0);m.setGlobal("helpHubQuery",a);var b=null;c.$.ajax({async:!1,url:"/help/inline/help-hub/intentsearch",contentType:"application/x-www-form-urlencoded; charset\x3dutf-8",protocol:"current",type:"POST",dataType:"json",data:{originalClassName:"Others",predictionSubject:"Other",predictionText:a,predictor:"intent",ctiString:"30003_30014"},success:function(c){if(c&&c.athenaId){if(b=c.athenaId){var d;q.setPhoebeResult(c.interactionId,c.predictionId,c.solutionId);d={WordCount:q.wordCount(a),
SolutionType:c.solutionType,SolutionValue:b,PredictionId:c.predictionId};l.send("phoebeRequest","success",d);q.goCardBasedOnPhoebeIntent(c.solutionType,b,a)}}else l.send("phoebeRequest","noResults",{WordCount:q.wordCount(a)})},error:function(){b=null;l.send("phoebeRequest","failure",{WordCount:q.wordCount(a)})}});b&&"ContactUs"!==b||f.publish("phoebeSolutionInteracted");return b},setConfigParams:function(a){q.setMultiline(a.isMultiline)},setMultiline:function(a){n="true"===a?!0:!1},setPhoebeResult:function(a,
b,c){x=a;w=b;y=c},clearPhoebeResult:function(){q.setPhoebeResult(null,null,null)},wordCount:function(a){return a.trim().split(/\s+/).length}};return{init:q.init,goCardBasedOnPhoebeIntent:q.goCardBasedOnPhoebeIntent,search:q.search,setConfigParams:q.setConfigParams,setPhoebeResult:q.setPhoebeResult,bindSearchWithOptions:q.bindSearchWithOptions}});(function(){ASPP.when("spaui-external-search").register("spaui-help-hub-athena-search",function(c){return c.register("help-hub")})})();(function(){ASPP.when("spaui-external-metrics-v2").register("spaui-help-hub-athena-metrics",
function(c){return c.register("help-hub")})})();(function(){ASPP.when("spaui-external-custom-card").register("spaui-help-hub-athena-custom-card",function(c){return c.register("help-hub")})})();(function(){ASPP.when("spaui-external-help").register("spaui-help-hub-athena-help-topic",function(c){return c.register("help-hub")})})();(function(){ASPP.when("spaui-external-events").register("spaui-help-hub-athena-events",function(c){return c.register("help-hub")})})();(function(){ASPP.when("spaui-external-instance").register("spaui-help-hub-athena-instance",
function(c){return c.register("help-hub")})})();(function(){ASPP.when("spaui-external-session").register("spaui-help-hub-athena-session",function(c){return c.register("help-hub")})})();(function(){ASPP.when("spaui-external-feedback").register("spaui-help-hub-athena-feedback",function(c){return c.register("help-hub")})})();ASPP.when("ASPA","spaui-util","spaui-history","spaui-metrics").register("spaui-help-hub-v2-util",function(c,e,l,k){var g,f={init:function(){g=c.$("#spaui-help-hub-strings")},rebindSupportLink:function(c,
e){c.attr("href","/help/hub?ref\x3d"+e);c.click(f.fireVisitHelpHubMetric(e))},updateText:function(c){var e=g.find("#spaui-help-hub-help-link-text").text();c.text(e);c.attr("title",e.trim())},fireVisitHelpHubMetric:function(c){var f=e.contains(G.location.pathname,"/help/hub")?"HelpHubV2":l.getFrom();return function(){k.send({from:f,where:c,to:"HelpHubV2"})}}};return{rebindSupportLink:f.rebindSupportLink,updateText:f.updateText,init:f.init}})});
/* ******** */
